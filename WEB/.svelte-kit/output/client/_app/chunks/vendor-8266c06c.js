var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,o=(t,o)=>{for(var s in o||(o={}))e.call(o,s)&&i(t,s,o[s]);if(n)for(var s of n(o))r.call(o,s)&&i(t,s,o[s]);return t};function s(){}const u=t=>t;function a(t,e){for(const n in e)t[n]=e[n];return t}function c(t){return t()}function l(){return Object.create(null)}function h(t){t.forEach(c)}function f(t){return"function"==typeof t}function d(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function p(t,e,n,r){if(t){const i=v(t,e,n,r);return t[0](i)}}function v(t,e,n,r){return t[1]&&r?a(n.ctx.slice(),t[1](r(e))):n.ctx}function y(t,e,n,r,i,o,s){const u=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(u){const i=v(e,n,r,s);t.p(i,u)}}function _(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function b(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function m(t){return t&&f(t.destroy)?t.destroy:s}const g="undefined"!=typeof window;let w=g?()=>window.performance.now():()=>Date.now(),E=g?t=>requestAnimationFrame(t):s;const k=new Set;function S(t){k.forEach((e=>{e.c(t)||(k.delete(e),e.f())})),0!==k.size&&E(S)}function x(t){let e;return 0===k.size&&E(S),{promise:new Promise((n=>{k.add(e={c:t,f:n})})),abort(){k.delete(e)}}}function O(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode.removeChild(t)}function T(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function N(t){return document.createElement(t)}function P(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function R(){return A(" ")}function D(){return A("")}function L(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:M(t,r,e[r])}function j(t){return Array.from(t.childNodes)}function U(t,e,n,r){for(let i=0;i<t.length;i+=1){const r=t[i];if(r.nodeName===e){let e=0;const o=[];for(;e<r.attributes.length;){const t=r.attributes[e++];n[t.name]||o.push(t.name)}for(let t=0;t<o.length;t++)r.removeAttribute(o[t]);return t.splice(i,1)[0]}}return r?P(e):N(e)}function V(t,e){for(let n=0;n<t.length;n+=1){const r=t[n];if(3===r.nodeType)return r.data=""+e,t.splice(n,1)[0]}return A(e)}function F(t){return V(t," ")}function H(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function B(t,e){t.value=null==e?"":e}function z(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function W(t,e,n){t.classList[n?"add":"remove"](e)}function q(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const K=new Set;let Y,G=0;function Z(t,e,n,r,i,o,s,u=0){const a=16.666/r;let c="{\n";for(let y=0;y<=1;y+=a){const t=e+(n-e)*o(y);c+=100*y+`%{${s(t,1-t)}}\n`}const l=c+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${u}`,f=t.ownerDocument;K.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(N("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${l}`,d.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${h} ${r}ms linear ${i}ms 1 both`,G+=1,h}function J(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),G-=i,G||E((()=>{G||(K.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),K.clear())})))}function X(t){Y=t}function Q(){if(!Y)throw new Error("Function called outside component initialization");return Y}function tt(t){Q().$$.on_mount.push(t)}function et(t){Q().$$.after_update.push(t)}function nt(){const t=Q();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=q(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function rt(t,e){Q().$$.context.set(t,e)}function it(t){return Q().$$.context.get(t)}function ot(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const st=[],ut=[],at=[],ct=[],lt=Promise.resolve();let ht=!1;function ft(t){at.push(t)}function dt(t){ct.push(t)}let pt=!1;const vt=new Set;function yt(){if(!pt){pt=!0;do{for(let t=0;t<st.length;t+=1){const e=st[t];X(e),_t(e.$$)}for(X(null),st.length=0;ut.length;)ut.pop()();for(let t=0;t<at.length;t+=1){const e=at[t];vt.has(e)||(vt.add(e),e())}at.length=0}while(st.length);for(;ct.length;)ct.pop()();ht=!1,pt=!1,vt.clear()}}function _t(t){if(null!==t.fragment){t.update(),h(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ft)}}let bt;function mt(){return bt||(bt=Promise.resolve(),bt.then((()=>{bt=null}))),bt}function gt(t,e,n){t.dispatchEvent(q(`${e?"intro":"outro"}${n}`))}const wt=new Set;let Et;function kt(){Et={r:0,c:[],p:Et}}function St(){Et.r||h(Et.c),Et=Et.p}function xt(t,e){t&&t.i&&(wt.delete(t),t.i(e))}function Ot(t,e,n,r){if(t&&t.o){if(wt.has(t))return;wt.add(t),Et.c.push((()=>{wt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const Ct={duration:0};function It(t,e,n){let r,i,o=e(t,n),a=!1,c=0;function l(){r&&J(t,r)}function h(){const{delay:e=0,duration:n=300,easing:h=u,tick:f=s,css:d}=o||Ct;d&&(r=Z(t,0,1,n,e,h,d,c++)),f(0,1);const p=w()+e,v=p+n;i&&i.abort(),a=!0,ft((()=>gt(t,!0,"start"))),i=x((e=>{if(a){if(e>=v)return f(1,0),gt(t,!0,"end"),l(),a=!1;if(e>=p){const t=h((e-p)/n);f(t,1-t)}}return a}))}let d=!1;return{start(){d||(J(t),f(o)?(o=o(),mt().then(h)):h())},invalidate(){d=!1},end(){a&&(l(),a=!1)}}}function Tt(t,e,n,r){let i=e(t,n),o=r?0:1,a=null,c=null,l=null;function d(){l&&J(t,l)}function p(t,e){const n=t.b-o;return e*=Math.abs(n),{a:o,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(e){const{delay:n=0,duration:r=300,easing:f=u,tick:v=s,css:y}=i||Ct,_={start:w()+n,b:e};e||(_.group=Et,Et.r+=1),a||c?c=_:(y&&(d(),l=Z(t,o,e,r,n,f,y)),e&&v(0,1),a=p(_,r),ft((()=>gt(t,e,"start"))),x((e=>{if(c&&e>c.start&&(a=p(c,r),c=null,gt(t,a.b,"start"),y&&(d(),l=Z(t,o,a.b,a.duration,0,f,i.css))),a)if(e>=a.end)v(o=a.b,1-o),gt(t,a.b,"end"),c||(a.b?d():--a.group.r||h(a.group.c)),a=null;else if(e>=a.start){const t=e-a.start;o=a.a+a.d*f(t/a.duration),v(o,1-o)}return!(!a&&!c)})))}return{run(t){f(i)?mt().then((()=>{i=i(),v(t)})):v(t)},end(){d(),a=c=null}}}function Nt(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let s=e.ctx;void 0!==i&&(s=s.slice(),s[i]=o);const u=t&&(e.current=t)(s);let a=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(kt(),Ot(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),St())})):e.block.d(1),u.c(),xt(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[r]=u),a&&yt()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=Q();if(t.then((t=>{X(n),r(e.then,1,e.value,t),X(null)}),(t=>{if(X(n),r(e.catch,2,e.error,t),X(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var i}function Pt(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}function At(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],u=e[o];if(u){for(const t in s)t in u||(r[t]=1);for(const t in u)i[t]||(n[t]=u[t],i[t]=1);t[o]=u}else for(const t in s)i[t]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Rt(t){return"object"==typeof t&&null!==t?t:{}}function Dt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Lt(t){t&&t.c()}function Mt(t,e){t&&t.l(e)}function $t(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:u}=t.$$;i&&i.m(e,n),r||ft((()=>{const e=o.map(c).filter(f);s?s.push(...e):h(e),t.$$.on_mount=[]})),u.forEach(ft)}function jt(t,e){const n=t.$$;null!==n.fragment&&(h(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ut(t,e){-1===t.$$.dirty[0]&&(st.push(t),ht||(ht=!0,lt.then(yt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Vt(t,e,n,r,i,o,u=[-1]){const a=Y;X(t);const c=t.$$={fragment:null,ctx:null,props:o,update:s,not_equal:i,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:e.context||[]),callbacks:l(),dirty:u,skip_bound:!1};let f=!1;if(c.ctx=n?n(t,e.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return c.ctx&&i(c.ctx[e],c.ctx[e]=o)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](o),f&&Ut(t,e)),n})):[],c.update(),f=!0,h(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){const t=j(e.target);c.fragment&&c.fragment.l(t),t.forEach(I)}else c.fragment&&c.fragment.c();e.intro&&xt(t.$$.fragment),$t(t,e.target,e.anchor,e.customElement),yt()}X(a)}class Ft{$destroy(){jt(this,1),this.$destroy=s}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ht=[];function Bt(t,e=s){let n;const r=[];function i(e){if(d(t,e)&&(t=e,n)){const e=!Ht.length;for(let n=0;n<r.length;n+=1){const e=r[n];e[1](),Ht.push(e,t)}if(e){for(let t=0;t<Ht.length;t+=2)Ht[t][0](Ht[t+1]);Ht.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o,u=s){const a=[o,u];return r.push(a),1===r.length&&(n=e(i)||s),o(t),()=>{const t=r.indexOf(a);-1!==t&&r.splice(t,1),0===r.length&&(n(),n=null)}}}}const zt={color:"currentColor",class:"",opacity:.1,centered:!1,spreadingDuration:".4s",spreadingDelay:"0s",spreadingTimingFunction:"linear",clearingDuration:"1s",clearingDelay:"0s",clearingTimingFunction:"ease-in-out"};function Wt(t,e={}){t.stopImmediatePropagation();const n=o(o({},zt),e),r=!!t.touches&&!!t.touches[0],i=r?t.touches[0].currentTarget:t.currentTarget,s=document.createElement("div"),u=s.style;s.className=`material-ripple ${n.class}`,u.position="absolute",u.color="inherit",u.borderRadius="50%",u.pointerEvents="none",u.width="100px",u.height="100px",u.marginTop="-50px",u.marginLeft="-50px",i.appendChild(s),u.opacity=n.opacity,u.transition=`transform ${n.spreadingDuration} ${n.spreadingTimingFunction} ${n.spreadingDelay},opacity ${n.clearingDuration} ${n.clearingTimingFunction} ${n.clearingDelay}`,u.transform="scale(0) translate(0,0)",u.background=n.color;const a=i.getBoundingClientRect();if(n.centered)u.top=a.height/2+"px",u.left=a.width/2+"px";else{const e=r?t.touches[0].clientY:t.clientY,n=r?t.touches[0].clientX:t.clientX;u.top=e-a.top+"px",u.left=n-a.left+"px"}return u.transform=`scale(${.02*Math.max(a.width,a.height)}) translate(0,0)`,s}var qt=(t,e={})=>{let n,r=e,i=!1,s=!1;const u=t=>{n=Wt(t,r)},a=()=>function(t){t&&(t.addEventListener("transitionend",(e=>{"opacity"===e.propertyName&&t.remove()})),t.style.opacity=0)}(n),c=t=>{s||13!==t.keyCode&&32!==t.keyCode||(n=Wt(t,o(o({},r),{centered:!0})),s=!0)},l=()=>{s=!1,a()};function h(){t.classList.add("s-ripple-container"),t.addEventListener("pointerdown",u),t.addEventListener("pointerup",a),t.addEventListener("pointerleave",a),t.addEventListener("keydown",c),t.addEventListener("keyup",l),i=!1}function f(){t.classList.remove("s-ripple-container"),t.removeEventListener("pointerdown",u),t.removeEventListener("pointerup",a),t.removeEventListener("pointerleave",a),t.removeEventListener("keydown",c),t.removeEventListener("keyup",l),i=!0}return r&&h(),{update(t){r=t,r&&i?h():r||i||f()},destroy:f}};function Kt(t){let e,n,r;const i=t[2].default,o=p(i,t,t[1],null);return{c(){e=N("div"),o&&o.c(),this.h()},l(t){e=U(t,"DIV",{class:!0});var n=j(e);o&&o.l(n),n.forEach(I),this.h()},h(){M(e,"class",n="s-app theme--"+t[0])},m(t,n){C(t,e,n),o&&o.m(e,null),r=!0},p(t,[s]){o&&o.p&&(!r||2&s)&&y(o,i,t,t[1],s,null,null),(!r||1&s&&n!==(n="s-app theme--"+t[0]))&&M(e,"class",n)},i(t){r||(xt(o,t),r=!0)},o(t){Ot(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Yt(t,e,n){let{$$slots:r={},$$scope:i}=e,{theme:o="light"}=e;return t.$$set=t=>{"theme"in t&&n(0,o=t.theme),"$$scope"in t&&n(1,i=t.$$scope)},[o,i,r]}class Gt extends Ft{constructor(t){super(),Vt(this,t,Yt,Kt,d,{theme:0})}}function Zt(t){return"number"==typeof t?`${t}px`:t}var Jt=(t,e)=>{let n=e;return Object.entries(n).forEach((([e,n])=>{n&&t.style.setProperty(`--s-${e}`,Zt(n))})),{update(e){Object.entries(e).forEach((([e,r])=>{r&&(t.style.setProperty(`--s-${e}`,Zt(r)),delete n[e])})),Object.keys(n).forEach((e=>t.style.removeProperty(`--s-${e}`))),n=e}}};function Xt(t){let e,n,r,i=t[10]&&Qt(t);return{c(){e=P("svg"),n=P("path"),i&&i.c(),this.h()},l(t){e=U(t,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0},1);var r=j(e);n=U(r,"path",{d:!0},1);var o=j(n);i&&i.l(o),o.forEach(I),r.forEach(I),this.h()},h(){M(n,"d",t[9]),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"width",t[0]),M(e,"height",t[1]),M(e,"viewBox",r="0 0 "+t[4]+" "+t[5])},m(t,r){C(t,e,r),O(e,n),i&&i.m(n,null)},p(t,o){t[10]?i?i.p(t,o):(i=Qt(t),i.c(),i.m(n,null)):i&&(i.d(1),i=null),512&o&&M(n,"d",t[9]),1&o&&M(e,"width",t[0]),2&o&&M(e,"height",t[1]),48&o&&r!==(r="0 0 "+t[4]+" "+t[5])&&M(e,"viewBox",r)},d(t){t&&I(e),i&&i.d()}}}function Qt(t){let e,n;return{c(){e=P("title"),n=A(t[10])},l(r){e=U(r,"title",{},1);var i=j(e);n=V(i,t[10]),i.forEach(I)},m(t,r){C(t,e,r),O(e,n)},p(t,e){1024&e&&H(n,t[10])},d(t){t&&I(e)}}}function te(t){let e,n,r,i,o,s,u,a=t[9]&&Xt(t);const c=t[13].default,l=p(c,t,t[12],null);return{c(){e=N("i"),a&&a.c(),n=R(),l&&l.c(),this.h()},l(t){e=U(t,"I",{"aria-hidden":!0,class:!0,"aria-label":!0,"aria-disabled":!0,style:!0});var r=j(e);a&&a.l(r),n=F(r),l&&l.l(r),r.forEach(I),this.h()},h(){M(e,"aria-hidden","true"),M(e,"class",r="s-icon "+t[2]),M(e,"aria-label",t[10]),M(e,"aria-disabled",t[8]),M(e,"style",t[11]),W(e,"spin",t[7]),W(e,"disabled",t[8])},m(r,c){C(r,e,c),a&&a.m(e,null),O(e,n),l&&l.m(e,null),o=!0,s||(u=m(i=Jt.call(null,e,{"icon-size":t[3],"icon-rotate":`${t[6]}deg`})),s=!0)},p(t,[s]){t[9]?a?a.p(t,s):(a=Xt(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),l&&l.p&&(!o||4096&s)&&y(l,c,t,t[12],s,null,null),(!o||4&s&&r!==(r="s-icon "+t[2]))&&M(e,"class",r),(!o||1024&s)&&M(e,"aria-label",t[10]),(!o||256&s)&&M(e,"aria-disabled",t[8]),(!o||2048&s)&&M(e,"style",t[11]),i&&f(i.update)&&72&s&&i.update.call(null,{"icon-size":t[3],"icon-rotate":`${t[6]}deg`}),132&s&&W(e,"spin",t[7]),260&s&&W(e,"disabled",t[8])},i(t){o||(xt(l,t),o=!0)},o(t){Ot(l,t),o=!1},d(t){t&&I(e),a&&a.d(),l&&l.d(t),s=!1,u()}}}function ee(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{size:s="24px"}=e,{width:u=s}=e,{height:a=s}=e,{viewWidth:c="24"}=e,{viewHeight:l="24"}=e,{rotate:h=0}=e,{spin:f=!1}=e,{disabled:d=!1}=e,{path:p=null}=e,{label:v=null}=e,{style:y=null}=e;return t.$$set=t=>{"class"in t&&n(2,o=t.class),"size"in t&&n(3,s=t.size),"width"in t&&n(0,u=t.width),"height"in t&&n(1,a=t.height),"viewWidth"in t&&n(4,c=t.viewWidth),"viewHeight"in t&&n(5,l=t.viewHeight),"rotate"in t&&n(6,h=t.rotate),"spin"in t&&n(7,f=t.spin),"disabled"in t&&n(8,d=t.disabled),"path"in t&&n(9,p=t.path),"label"in t&&n(10,v=t.label),"style"in t&&n(11,y=t.style),"$$scope"in t&&n(12,i=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&(n(0,u=s),n(1,a=s))},[u,a,o,s,c,l,h,f,d,p,v,y,i,r]}class ne extends Ft{constructor(t){super(),Vt(this,t,ee,te,d,{class:2,size:3,width:0,height:1,viewWidth:4,viewHeight:5,rotate:6,spin:7,disabled:8,path:9,label:10,style:11})}}const re=t=>t.split(" ").filter((t=>!!t));var ie=(t,e)=>{let n=e;return t.classList.add(...re((t=>t.filter((t=>!!t)))(n).join(" "))),{update(e){const r=e;r.forEach(((e,r)=>{e?t.classList.add(...re(e)):n[r]&&t.classList.remove(...re(n[r]))})),n=r}}};function oe(t){let e,n,r,i,o,s,u,c;const l=t[19].default,d=p(l,t,t[18],null);let v=[{class:r="s-btn size-"+t[5]+" "+t[1]},{type:t[14]},{style:t[16]},{disabled:t[11]},{"aria-disabled":t[11]},t[17]],_={};for(let h=0;h<v.length;h+=1)_=a(_,v[h]);return{c(){e=N("button"),n=N("span"),d&&d.c(),this.h()},l(t){e=U(t,"BUTTON",{class:!0,type:!0,style:!0,disabled:!0,"aria-disabled":!0});var r=j(e);n=U(r,"SPAN",{class:!0});var i=j(n);d&&d.l(i),i.forEach(I),r.forEach(I),this.h()},h(){M(n,"class","s-btn__content"),$(e,_),W(e,"s-btn--fab",t[2]),W(e,"icon",t[3]),W(e,"block",t[4]),W(e,"tile",t[6]),W(e,"text",t[7]||t[3]),W(e,"depressed",t[8]||t[7]||t[11]||t[9]||t[3]),W(e,"outlined",t[9]),W(e,"rounded",t[10]),W(e,"disabled",t[11])},m(r,a){C(r,e,a),O(e,n),d&&d.m(n,null),t[21](e),s=!0,u||(c=[m(i=ie.call(null,e,[t[12]&&t[13]])),m(o=qt.call(null,e,t[15])),L(e,"click",t[20])],u=!0)},p(t,[n]){d&&d.p&&(!s||262144&n)&&y(d,l,t,t[18],n,null,null),$(e,_=At(v,[(!s||34&n&&r!==(r="s-btn size-"+t[5]+" "+t[1]))&&{class:r},(!s||16384&n)&&{type:t[14]},(!s||65536&n)&&{style:t[16]},(!s||2048&n)&&{disabled:t[11]},(!s||2048&n)&&{"aria-disabled":t[11]},131072&n&&t[17]])),i&&f(i.update)&&12288&n&&i.update.call(null,[t[12]&&t[13]]),o&&f(o.update)&&32768&n&&o.update.call(null,t[15]),W(e,"s-btn--fab",t[2]),W(e,"icon",t[3]),W(e,"block",t[4]),W(e,"tile",t[6]),W(e,"text",t[7]||t[3]),W(e,"depressed",t[8]||t[7]||t[11]||t[9]||t[3]),W(e,"outlined",t[9]),W(e,"rounded",t[10]),W(e,"disabled",t[11])},i(t){s||(xt(d,t),s=!0)},o(t){Ot(d,t),s=!1},d(n){n&&I(e),d&&d.d(n),t[21](null),u=!1,h(c)}}}function se(t,e,n){const r=["class","fab","icon","block","size","tile","text","depressed","outlined","rounded","disabled","active","activeClass","type","ripple","style","button"];let i=b(e,r),{$$slots:o={},$$scope:s}=e,{class:u=""}=e,{fab:c=!1}=e,{icon:l=!1}=e,{block:h=!1}=e,{size:f="default"}=e,{tile:d=!1}=e,{text:p=!1}=e,{depressed:v=!1}=e,{outlined:y=!1}=e,{rounded:m=!1}=e,{disabled:g=null}=e,{active:w=!1}=e,{activeClass:E="active"}=e,{type:k="button"}=e,{ripple:S={}}=e,{style:x=null}=e,{button:O=null}=e;return t.$$set=t=>{e=a(a({},e),_(t)),n(17,i=b(e,r)),"class"in t&&n(1,u=t.class),"fab"in t&&n(2,c=t.fab),"icon"in t&&n(3,l=t.icon),"block"in t&&n(4,h=t.block),"size"in t&&n(5,f=t.size),"tile"in t&&n(6,d=t.tile),"text"in t&&n(7,p=t.text),"depressed"in t&&n(8,v=t.depressed),"outlined"in t&&n(9,y=t.outlined),"rounded"in t&&n(10,m=t.rounded),"disabled"in t&&n(11,g=t.disabled),"active"in t&&n(12,w=t.active),"activeClass"in t&&n(13,E=t.activeClass),"type"in t&&n(14,k=t.type),"ripple"in t&&n(15,S=t.ripple),"style"in t&&n(16,x=t.style),"button"in t&&n(0,O=t.button),"$$scope"in t&&n(18,s=t.$$scope)},[O,u,c,l,h,f,d,p,v,y,m,g,w,E,k,S,x,i,s,o,function(e){ot(t,e)},function(t){ut[t?"unshift":"push"]((()=>{O=t,n(0,O)}))}]}class ue extends Ft{constructor(t){super(),Vt(this,t,se,oe,d,{class:1,fab:2,icon:3,block:4,size:5,tile:6,text:7,depressed:8,outlined:9,rounded:10,disabled:11,active:12,activeClass:13,type:14,ripple:15,style:16,button:0})}}function ae(t){let e,n,r;const i=t[9].default,o=p(i,t,t[8],null);return{c(){e=N("div"),o&&o.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,role:!0,style:!0});var n=j(e);o&&o.l(n),n.forEach(I),this.h()},h(){M(e,"class",n="s-item-group "+t[0]),M(e,"role",t[1]),M(e,"style",t[2])},m(t,n){C(t,e,n),o&&o.m(e,null),r=!0},p(t,[s]){o&&o.p&&(!r||256&s)&&y(o,i,t,t[8],s,null,null),(!r||1&s&&n!==(n="s-item-group "+t[0]))&&M(e,"class",n),(!r||2&s)&&M(e,"role",t[1]),(!r||4&s)&&M(e,"style",t[2])},i(t){r||(xt(o,t),r=!0)},o(t){Ot(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}const ce={};function le(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{activeClass:s=""}=e,{value:u=[]}=e,{multiple:a=!1}=e,{mandatory:c=!1}=e,{max:l=1/0}=e,{role:h=null}=e,{style:f=null}=e;const d=nt(),p=Bt(u);let v=-1;return rt(ce,{select:t=>{a?u.includes(t)?(!c||u.length>1)&&(u.splice(u.indexOf(t),1),n(3,u)):u.length<l&&n(3,u=[...u,t]):u===t?c||n(3,u=null):n(3,u=t)},register:t=>{const e=p.subscribe((e=>{t(a?e:[e])}));var n;n=e,Q().$$.on_destroy.push(n)},index:()=>(v+=1,v),activeClass:s}),t.$$set=t=>{"class"in t&&n(0,o=t.class),"activeClass"in t&&n(4,s=t.activeClass),"value"in t&&n(3,u=t.value),"multiple"in t&&n(5,a=t.multiple),"mandatory"in t&&n(6,c=t.mandatory),"max"in t&&n(7,l=t.max),"role"in t&&n(1,h=t.role),"style"in t&&n(2,f=t.style),"$$scope"in t&&n(8,i=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&p.set(u),8&t.$$.dirty&&d("change",u)},[o,h,f,u,s,a,c,l,i,r]}class he extends Ft{constructor(t){super(),Vt(this,t,le,ae,d,{class:0,activeClass:4,value:3,multiple:5,mandatory:6,max:7,role:1,style:2})}}function fe(t){let e,n,r;const i=t[11].default,o=p(i,t,t[14],null);return{c(){e=N("div"),o&&o.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0});var n=j(e);o&&o.l(n),n.forEach(I),this.h()},h(){M(e,"class",n="s-btn-group "+t[1]),M(e,"style",t[10]),W(e,"elevated",t[2]),W(e,"borderless",t[3]),W(e,"tile",t[4]),W(e,"rounded",t[5])},m(t,n){C(t,e,n),o&&o.m(e,null),r=!0},p(t,s){o&&o.p&&(!r||16384&s)&&y(o,i,t,t[14],s,null,null),(!r||2&s&&n!==(n="s-btn-group "+t[1]))&&M(e,"class",n),(!r||1024&s)&&M(e,"style",t[10]),6&s&&W(e,"elevated",t[2]),10&s&&W(e,"borderless",t[3]),18&s&&W(e,"tile",t[4]),34&s&&W(e,"rounded",t[5])},i(t){r||(xt(o,t),r=!0)},o(t){Ot(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function de(t){let e,n,r;function i(e){t[12](e)}let o={activeClass:t[6],multiple:t[8],mandatory:t[7],max:t[9],$$slots:{default:[fe]},$$scope:{ctx:t}};return void 0!==t[0]&&(o.value=t[0]),e=new he({props:o}),ut.push((()=>Dt(e,"value",i))),e.$on("change",t[13]),{c(){Lt(e.$$.fragment)},l(t){Mt(e.$$.fragment,t)},m(t,n){$t(e,t,n),r=!0},p(t,[r]){const i={};64&r&&(i.activeClass=t[6]),256&r&&(i.multiple=t[8]),128&r&&(i.mandatory=t[7]),512&r&&(i.max=t[9]),17470&r&&(i.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,i.value=t[0],dt((()=>n=!1))),e.$set(i)},i(t){r||(xt(e.$$.fragment,t),r=!0)},o(t){Ot(e.$$.fragment,t),r=!1},d(t){jt(e,t)}}}function pe(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{elevated:s=!1}=e,{borderless:u=!1}=e,{tile:a=!1}=e,{rounded:c=!1}=e,{activeClass:l="active"}=e,{value:h=[]}=e,{mandatory:f=!1}=e,{multiple:d=!1}=e,{max:p=1/0}=e,{style:v=null}=e;return t.$$set=t=>{"class"in t&&n(1,o=t.class),"elevated"in t&&n(2,s=t.elevated),"borderless"in t&&n(3,u=t.borderless),"tile"in t&&n(4,a=t.tile),"rounded"in t&&n(5,c=t.rounded),"activeClass"in t&&n(6,l=t.activeClass),"value"in t&&n(0,h=t.value),"mandatory"in t&&n(7,f=t.mandatory),"multiple"in t&&n(8,d=t.multiple),"max"in t&&n(9,p=t.max),"style"in t&&n(10,v=t.style),"$$scope"in t&&n(14,i=t.$$scope)},[h,o,s,u,a,c,l,f,d,p,v,r,function(t){h=t,n(0,h)},function(e){ot(t,e)},i]}class ve extends Ft{constructor(t){super(),Vt(this,t,pe,de,d,{class:1,elevated:2,borderless:3,tile:4,rounded:5,activeClass:6,value:0,mandatory:7,multiple:8,max:9,style:10})}}function ye(t){let e;const n=t[6].default,r=p(n,t,t[8],null);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||256&i)&&y(r,n,t,t[8],i,null,null)},i(t){e||(xt(r,t),e=!0)},o(t){Ot(r,t),e=!1},d(t){r&&r.d(t)}}}function _e(t){let e,n;return e=new ue({props:{class:"s-btn-group-item "+t[0],activeClass:t[1],active:t[3],disabled:t[2],$$slots:{default:[ye]},$$scope:{ctx:t}}}),e.$on("click",t[4]),e.$on("click",t[7]),{c(){Lt(e.$$.fragment)},l(t){Mt(e.$$.fragment,t)},m(t,r){$t(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.class="s-btn-group-item "+t[0]),2&n&&(r.activeClass=t[1]),8&n&&(r.active=t[3]),4&n&&(r.disabled=t[2]),256&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function be(t,e,n){let{$$slots:r={},$$scope:i}=e;const o=it(ce);let s,{class:u=""}=e,{value:a=o.index()}=e,{activeClass:c=o.activeClass}=e,{disabled:l=null}=e;return o.register((t=>{n(3,s=t.includes(a))})),t.$$set=t=>{"class"in t&&n(0,u=t.class),"value"in t&&n(5,a=t.value),"activeClass"in t&&n(1,c=t.activeClass),"disabled"in t&&n(2,l=t.disabled),"$$scope"in t&&n(8,i=t.$$scope)},[u,c,l,s,function(){l||o.select(a)},a,r,function(e){ot(t,e)},i]}class me extends Ft{constructor(t){super(),Vt(this,t,be,_e,d,{class:0,value:5,activeClass:1,disabled:2})}}function ge(t,e){if(/^(#|rgb|hsl|currentColor)/.test(e))return t.style.color=e,!1;if(e.startsWith("--"))return t.style.color=`var(${e})`,!1;const n=function(t){return t.split(" ").map((t=>/^(lighten|darken|accent)-/.test(t)?`text-${t}`:`${t}-text`))}(e);return t.classList.add(...n),n}var we=(t,e)=>{let n;return"string"==typeof e&&(n=ge(t,e)),{update(e){n?t.classList.remove(...n):t.style.color=null,"string"==typeof e&&(n=ge(t,e))}}};const Ee=t=>({}),ke=t=>({}),Se=t=>({}),xe=t=>({}),Oe=t=>({}),Ce=t=>({});function Ie(t){let e,n,r,i,o,s,u,a,c,l,h,d;const v=t[9]["prepend-outer"],_=p(v,t,t[8],Ce),b=t[9].default,g=p(b,t,t[8],null),w=t[9].messages,E=p(w,t,t[8],xe),k=t[9]["append-outer"],S=p(k,t,t[8],ke);return{c(){e=N("div"),_&&_.c(),n=R(),r=N("div"),i=N("div"),g&&g.c(),o=R(),s=N("div"),E&&E.c(),u=R(),S&&S.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0});var a=j(e);_&&_.l(a),n=F(a),r=U(a,"DIV",{class:!0});var c=j(r);i=U(c,"DIV",{class:!0});var l=j(i);g&&g.l(l),l.forEach(I),o=F(c),s=U(c,"DIV",{class:!0});var h=j(s);E&&E.l(h),h.forEach(I),c.forEach(I),u=F(a),S&&S.l(a),a.forEach(I),this.h()},h(){M(i,"class","s-input__slot"),M(s,"class","s-input__details"),M(r,"class","s-input__control"),M(e,"class",a="s-input "+t[0]),M(e,"style",t[7]),W(e,"dense",t[2]),W(e,"error",t[5]),W(e,"success",t[6]),W(e,"readonly",t[3]),W(e,"disabled",t[4])},m(a,f){C(a,e,f),_&&_.m(e,null),O(e,n),O(e,r),O(r,i),g&&g.m(i,null),O(r,o),O(r,s),E&&E.m(s,null),O(e,u),S&&S.m(e,null),l=!0,h||(d=m(c=we.call(null,e,t[6]?"success":t[5]?"error":t[1])),h=!0)},p(t,[n]){_&&_.p&&(!l||256&n)&&y(_,v,t,t[8],n,Oe,Ce),g&&g.p&&(!l||256&n)&&y(g,b,t,t[8],n,null,null),E&&E.p&&(!l||256&n)&&y(E,w,t,t[8],n,Se,xe),S&&S.p&&(!l||256&n)&&y(S,k,t,t[8],n,Ee,ke),(!l||1&n&&a!==(a="s-input "+t[0]))&&M(e,"class",a),(!l||128&n)&&M(e,"style",t[7]),c&&f(c.update)&&98&n&&c.update.call(null,t[6]?"success":t[5]?"error":t[1]),5&n&&W(e,"dense",t[2]),33&n&&W(e,"error",t[5]),65&n&&W(e,"success",t[6]),9&n&&W(e,"readonly",t[3]),17&n&&W(e,"disabled",t[4])},i(t){l||(xt(_,t),xt(g,t),xt(E,t),xt(S,t),l=!0)},o(t){Ot(_,t),Ot(g,t),Ot(E,t),Ot(S,t),l=!1},d(t){t&&I(e),_&&_.d(t),g&&g.d(t),E&&E.d(t),S&&S.d(t),h=!1,d()}}}function Te(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{color:s=null}=e,{dense:u=!1}=e,{readonly:a=!1}=e,{disabled:c=!1}=e,{error:l=!1}=e,{success:h=!1}=e,{style:f=null}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"color"in t&&n(1,s=t.color),"dense"in t&&n(2,u=t.dense),"readonly"in t&&n(3,a=t.readonly),"disabled"in t&&n(4,c=t.disabled),"error"in t&&n(5,l=t.error),"success"in t&&n(6,h=t.success),"style"in t&&n(7,f=t.style),"$$scope"in t&&n(8,i=t.$$scope)},[o,s,u,a,c,l,h,f,i,r]}class Ne extends Ft{constructor(t){super(),Vt(this,t,Te,Ie,d,{class:0,color:1,dense:2,readonly:3,disabled:4,error:5,success:6,style:7})}}let Pe=36,Ae="";for(;Pe--;)Ae+=Pe.toString(36);var Re=t=>{let e="",n=t||11;for(;n--;)e+=Ae[36*Math.random()|0];return e},De="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z";const Le=t=>({}),Me=t=>({}),$e=t=>({}),je=t=>({}),Ue=t=>({}),Ve=t=>({}),Fe=t=>({}),He=t=>({}),Be=t=>({}),ze=t=>({slot:"prepend-outer"});function We(t,e,n){const r=t.slice();return r[44]=e[n],r}function qe(t,e,n){const r=t.slice();return r[44]=e[n],r}const Ke=t=>({}),Ye=t=>({slot:"append-outer"});function Ge(t){let e,n,r,i;const o=t[33]["clear-icon"],u=p(o,t,t[43],je),a=u||function(t){let e,n;return e=new ne({props:{path:De}}),{c(){Lt(e.$$.fragment)},l(t){Mt(e.$$.fragment,t)},m(t,r){$t(e,t,r),n=!0},p:s,i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}();return{c(){e=N("div"),a&&a.c(),this.h()},l(t){e=U(t,"DIV",{style:!0});var n=j(e);a&&a.l(n),n.forEach(I),this.h()},h(){z(e,"cursor","pointer")},m(o,s){C(o,e,s),a&&a.m(e,null),n=!0,r||(i=L(e,"click",t[26]),r=!0)},p(t,e){u&&u.p&&(!n||4096&e[1])&&y(u,o,t,t[43],e,$e,je)},i(t){n||(xt(a,t),n=!0)},o(t){Ot(a,t),n=!1},d(t){t&&I(e),a&&a.d(t),r=!1,i()}}}function Ze(t){let e,n,r,i,o,s,u,c,l,f,d,v;const _=t[33].prepend,b=p(_,t,t[43],He),m=t[33].default,g=p(m,t,t[43],null),w=t[33].content,E=p(w,t,t[43],Ve);let k=[{type:"text"},{placeholder:t[14]},{id:t[20]},{readOnly:t[12]},{disabled:t[13]},t[28]],S={};for(let h=0;h<k.length;h+=1)S=a(S,k[h]);let x=t[11]&&""!==t[0]&&Ge(t);const T=t[33].append,P=p(T,t,t[43],Me);return{c(){e=N("div"),b&&b.c(),n=R(),r=N("div"),i=N("label"),g&&g.c(),o=R(),E&&E.c(),s=R(),u=N("input"),c=R(),x&&x.c(),l=R(),P&&P.c(),this.h()},l(t){e=U(t,"DIV",{class:!0});var a=j(e);b&&b.l(a),n=F(a),r=U(a,"DIV",{class:!0});var h=j(r);i=U(h,"LABEL",{for:!0});var f=j(i);g&&g.l(f),f.forEach(I),o=F(h),E&&E.l(h),s=F(h),u=U(h,"INPUT",{type:!0,placeholder:!0,id:!0,readonly:!0,disabled:!0}),h.forEach(I),c=F(a),x&&x.l(a),l=F(a),P&&P.l(a),a.forEach(I),this.h()},h(){M(i,"for",t[20]),W(i,"active",t[23]),$(u,S),M(r,"class","s-text-field__input"),M(e,"class","s-text-field__wrapper"),W(e,"filled",t[5]),W(e,"solo",t[6]),W(e,"outlined",t[7]),W(e,"flat",t[8]),W(e,"rounded",t[10])},m(a,h){C(a,e,h),b&&b.m(e,null),O(e,n),O(e,r),O(r,i),g&&g.m(i,null),O(r,o),E&&E.m(r,null),O(r,s),O(r,u),t[41](u),B(u,t[0]),O(e,c),x&&x.m(e,null),O(e,l),P&&P.m(e,null),f=!0,d||(v=[L(u,"input",t[42]),L(u,"focus",t[24]),L(u,"blur",t[25]),L(u,"input",t[27]),L(u,"focus",t[34]),L(u,"blur",t[35]),L(u,"input",t[36]),L(u,"change",t[37]),L(u,"keypress",t[38]),L(u,"keydown",t[39]),L(u,"keyup",t[40])],d=!0)},p(t,n){b&&b.p&&(!f||4096&n[1])&&y(b,_,t,t[43],n,Fe,He),g&&g.p&&(!f||4096&n[1])&&y(g,m,t,t[43],n,null,null),(!f||1048576&n[0])&&M(i,"for",t[20]),8388608&n[0]&&W(i,"active",t[23]),E&&E.p&&(!f||4096&n[1])&&y(E,w,t,t[43],n,Ue,Ve),$(u,S=At(k,[{type:"text"},(!f||16384&n[0])&&{placeholder:t[14]},(!f||1048576&n[0])&&{id:t[20]},(!f||4096&n[0])&&{readOnly:t[12]},(!f||8192&n[0])&&{disabled:t[13]},268435456&n[0]&&t[28]])),1&n[0]&&u.value!==t[0]&&B(u,t[0]),t[11]&&""!==t[0]?x?(x.p(t,n),2049&n[0]&&xt(x,1)):(x=Ge(t),x.c(),xt(x,1),x.m(e,l)):x&&(kt(),Ot(x,1,1,(()=>{x=null})),St()),P&&P.p&&(!f||4096&n[1])&&y(P,T,t,t[43],n,Le,Me),32&n[0]&&W(e,"filled",t[5]),64&n[0]&&W(e,"solo",t[6]),128&n[0]&&W(e,"outlined",t[7]),256&n[0]&&W(e,"flat",t[8]),1024&n[0]&&W(e,"rounded",t[10])},i(t){f||(xt(b,t),xt(g,t),xt(E,t),xt(x),xt(P,t),f=!0)},o(t){Ot(b,t),Ot(g,t),Ot(E,t),Ot(x),Ot(P,t),f=!1},d(n){n&&I(e),b&&b.d(n),g&&g.d(n),E&&E.d(n),t[41](null),x&&x.d(),P&&P.d(n),d=!1,h(v)}}}function Je(t){let e;const n=t[33]["prepend-outer"],r=p(n,t,t[43],ze);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i[1])&&y(r,n,t,t[43],i,Be,ze)},i(t){e||(xt(r,t),e=!0)},o(t){Ot(r,t),e=!1},d(t){r&&r.d(t)}}}function Xe(t){let e,n,r=t[44]+"";return{c(){e=N("span"),n=A(r)},l(t){e=U(t,"SPAN",{});var i=j(e);n=V(i,r),i.forEach(I)},m(t,r){C(t,e,r),O(e,n)},p(t,e){131072&e[0]&&r!==(r=t[44]+"")&&H(n,r)},d(t){t&&I(e)}}}function Qe(t){let e,n,r=t[44]+"";return{c(){e=N("span"),n=A(r)},l(t){e=U(t,"SPAN",{});var i=j(e);n=V(i,r),i.forEach(I)},m(t,r){C(t,e,r),O(e,n)},p(t,e){4456448&e[0]&&r!==(r=t[44]+"")&&H(n,r)},d(t){t&&I(e)}}}function tn(t){let e,n,r,i,o=t[0].length+"";return{c(){e=N("span"),n=A(o),r=A(" / "),i=A(t[16])},l(s){e=U(s,"SPAN",{});var u=j(e);n=V(u,o),r=V(u," / "),i=V(u,t[16]),u.forEach(I)},m(t,o){C(t,e,o),O(e,n),O(e,r),O(e,i)},p(t,e){1&e[0]&&o!==(o=t[0].length+"")&&H(n,o),65536&e[0]&&H(i,t[16])},d(t){t&&I(e)}}}function en(t){let e,n,r,i,o,s,u,a=t[17],c=[];for(let d=0;d<a.length;d+=1)c[d]=Xe(qe(t,a,d));let l=t[22].slice(0,t[18]),h=[];for(let d=0;d<l.length;d+=1)h[d]=Qe(We(t,l,d));let f=t[16]&&tn(t);return{c(){e=N("div"),n=N("div"),r=N("span"),i=A(t[15]),o=R();for(let t=0;t<c.length;t+=1)c[t].c();s=R();for(let t=0;t<h.length;t+=1)h[t].c();u=R(),f&&f.c(),this.h()},l(a){e=U(a,"DIV",{slot:!0});var l=j(e);n=U(l,"DIV",{});var d=j(n);r=U(d,"SPAN",{});var p=j(r);i=V(p,t[15]),p.forEach(I),o=F(d);for(let t=0;t<c.length;t+=1)c[t].l(d);s=F(d);for(let t=0;t<h.length;t+=1)h[t].l(d);d.forEach(I),u=F(l),f&&f.l(l),l.forEach(I),this.h()},h(){M(e,"slot","messages")},m(t,a){C(t,e,a),O(e,n),O(n,r),O(r,i),O(n,o);for(let e=0;e<c.length;e+=1)c[e].m(n,null);O(n,s);for(let e=0;e<h.length;e+=1)h[e].m(n,null);O(e,u),f&&f.m(e,null)},p(t,r){if(32768&r[0]&&H(i,t[15]),131072&r[0]){let e;for(a=t[17],e=0;e<a.length;e+=1){const i=qe(t,a,e);c[e]?c[e].p(i,r):(c[e]=Xe(i),c[e].c(),c[e].m(n,s))}for(;e<c.length;e+=1)c[e].d(1);c.length=a.length}if(4456448&r[0]){let e;for(l=t[22].slice(0,t[18]),e=0;e<l.length;e+=1){const i=We(t,l,e);h[e]?h[e].p(i,r):(h[e]=Qe(i),h[e].c(),h[e].m(n,null))}for(;e<h.length;e+=1)h[e].d(1);h.length=l.length}t[16]?f?f.p(t,r):(f=tn(t),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(t){t&&I(e),T(c,t),T(h,t),f&&f.d()}}}function nn(t){let e;const n=t[33]["append-outer"],r=p(n,t,t[43],Ye);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||4096&i[1])&&y(r,n,t,t[43],i,Ke,Ye)},i(t){e||(xt(r,t),e=!0)},o(t){Ot(r,t),e=!1},d(t){r&&r.d(t)}}}function rn(t){let e,n;return e=new Ne({props:{class:"s-text-field "+t[3],color:t[4],dense:t[9],readonly:t[12],disabled:t[13],error:t[1],success:t[19],style:t[21],$$slots:{"append-outer":[nn],messages:[en],"prepend-outer":[Je],default:[Ze]},$$scope:{ctx:t}}}),{c(){Lt(e.$$.fragment)},l(t){Mt(e.$$.fragment,t)},m(t,r){$t(e,t,r),n=!0},p(t,n){const r={};8&n[0]&&(r.class="s-text-field "+t[3]),16&n[0]&&(r.color=t[4]),512&n[0]&&(r.dense=t[9]),4096&n[0]&&(r.readonly=t[12]),8192&n[0]&&(r.disabled=t[13]),2&n[0]&&(r.error=t[1]),524288&n[0]&&(r.success=t[19]),2097152&n[0]&&(r.style=t[21]),282590693&n[0]|4096&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function on(t,e,n){let r;const i=["class","value","color","filled","solo","outlined","flat","dense","rounded","clearable","readonly","disabled","placeholder","hint","counter","messages","rules","errorCount","validateOnBlur","error","success","id","style","inputElement","validate"];let o=b(e,i),{$$slots:s={},$$scope:u}=e,{class:c=""}=e,{value:l=""}=e,{color:h="primary"}=e,{filled:f=!1}=e,{solo:d=!1}=e,{outlined:p=!1}=e,{flat:v=!1}=e,{dense:y=!1}=e,{rounded:m=!1}=e,{clearable:g=!1}=e,{readonly:w=!1}=e,{disabled:E=!1}=e,{placeholder:k=null}=e,{hint:S=""}=e,{counter:x=!1}=e,{messages:O=[]}=e,{rules:C=[]}=e,{errorCount:I=1}=e,{validateOnBlur:T=!1}=e,{error:N=!1}=e,{success:P=!1}=e,{id:A=`s-input-${Re(5)}`}=e,{style:R=null}=e,{inputElement:D=null}=e,L=!1,M=[];function $(){return n(22,M=C.map((t=>t(l))).filter((t=>"string"==typeof t))),M.length?n(1,N=!0):n(1,N=!1),N}return t.$$set=t=>{e=a(a({},e),_(t)),n(28,o=b(e,i)),"class"in t&&n(3,c=t.class),"value"in t&&n(0,l=t.value),"color"in t&&n(4,h=t.color),"filled"in t&&n(5,f=t.filled),"solo"in t&&n(6,d=t.solo),"outlined"in t&&n(7,p=t.outlined),"flat"in t&&n(8,v=t.flat),"dense"in t&&n(9,y=t.dense),"rounded"in t&&n(10,m=t.rounded),"clearable"in t&&n(11,g=t.clearable),"readonly"in t&&n(12,w=t.readonly),"disabled"in t&&n(13,E=t.disabled),"placeholder"in t&&n(14,k=t.placeholder),"hint"in t&&n(15,S=t.hint),"counter"in t&&n(16,x=t.counter),"messages"in t&&n(17,O=t.messages),"rules"in t&&n(29,C=t.rules),"errorCount"in t&&n(18,I=t.errorCount),"validateOnBlur"in t&&n(30,T=t.validateOnBlur),"error"in t&&n(1,N=t.error),"success"in t&&n(19,P=t.success),"id"in t&&n(20,A=t.id),"style"in t&&n(21,R=t.style),"inputElement"in t&&n(2,D=t.inputElement),"$$scope"in t&&n(43,u=t.$$scope)},t.$$.update=()=>{16385&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(23,r=!!k||l||L)},[l,N,D,c,h,f,d,p,v,y,m,g,w,E,k,S,x,O,I,P,A,R,M,r,function(){n(32,L=!0)},function(){n(32,L=!1),T&&$()},function(){n(0,l="")},function(){T||$()},o,C,T,$,L,s,function(e){ot(t,e)},function(e){ot(t,e)},function(e){ot(t,e)},function(e){ot(t,e)},function(e){ot(t,e)},function(e){ot(t,e)},function(e){ot(t,e)},function(t){ut[t?"unshift":"push"]((()=>{D=t,n(2,D)}))},function(){l=this.value,n(0,l)},u]}class sn extends Ft{constructor(t){super(),Vt(this,t,on,rn,d,{class:3,value:0,color:4,filled:5,solo:6,outlined:7,flat:8,dense:9,rounded:10,clearable:11,readonly:12,disabled:13,placeholder:14,hint:15,counter:16,messages:17,rules:29,errorCount:18,validateOnBlur:30,error:1,success:19,id:20,style:21,inputElement:2,validate:31},[-1,-1])}get validate(){return this.$$.ctx[31]}}function un(t){const e=t-1;return e*e*e+1}function an(t,{delay:e=0,duration:n=400,easing:r=u}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*i}}function cn(t,{delay:e=0,duration:n=400,easing:r=un,x:i=0,y:o=0,opacity:s=0}={}){const u=getComputedStyle(t),a=+u.opacity,c="none"===u.transform?"":u.transform,l=a*(1-s);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${a-l*e}`}}function ln(t){let e,n,r;const i=t[10].default,o=p(i,t,t[9],null);return{c(){e=N("div"),o&&o.c(),this.h()},l(t){e=U(t,"DIV",{role:!0,class:!0,"aria-disabled":!0,style:!0});var n=j(e);o&&o.l(n),n.forEach(I),this.h()},h(){M(e,"role",t[8]),M(e,"class",n="s-list "+t[0]),M(e,"aria-disabled",t[2]),M(e,"style",t[7]),W(e,"dense",t[1]),W(e,"disabled",t[2]),W(e,"flat",t[3]),W(e,"nav",t[5]),W(e,"outlined",t[6]),W(e,"rounded",t[4])},m(t,n){C(t,e,n),o&&o.m(e,null),r=!0},p(t,[s]){o&&o.p&&(!r||512&s)&&y(o,i,t,t[9],s,null,null),(!r||256&s)&&M(e,"role",t[8]),(!r||1&s&&n!==(n="s-list "+t[0]))&&M(e,"class",n),(!r||4&s)&&M(e,"aria-disabled",t[2]),(!r||128&s)&&M(e,"style",t[7]),3&s&&W(e,"dense",t[1]),5&s&&W(e,"disabled",t[2]),9&s&&W(e,"flat",t[3]),33&s&&W(e,"nav",t[5]),65&s&&W(e,"outlined",t[6]),17&s&&W(e,"rounded",t[4])},i(t){r||(xt(o,t),r=!0)},o(t){Ot(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function hn(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{dense:s=null}=e,{disabled:u=null}=e,{flat:a=!1}=e,{rounded:c=!1}=e,{nav:l=!1}=e,{outlined:h=!1}=e,{style:f=null}=e,d=null;return it("S_ListItemRole")||(rt("S_ListItemRole","listitem"),d="list"),t.$$set=t=>{"class"in t&&n(0,o=t.class),"dense"in t&&n(1,s=t.dense),"disabled"in t&&n(2,u=t.disabled),"flat"in t&&n(3,a=t.flat),"rounded"in t&&n(4,c=t.rounded),"nav"in t&&n(5,l=t.nav),"outlined"in t&&n(6,h=t.outlined),"style"in t&&n(7,f=t.style),"$$scope"in t&&n(9,i=t.$$scope)},[o,s,u,a,c,l,h,f,d,i,r]}class fn extends Ft{constructor(t){super(),Vt(this,t,hn,ln,d,{class:0,dense:1,disabled:2,flat:3,rounded:4,nav:5,outlined:6,style:7})}}const dn=t=>({}),pn=t=>({}),vn=t=>({}),yn=t=>({}),_n=t=>({}),bn=t=>({});function mn(t){let e,n,r,i,o,s,u,a,c,l,d,v,_,b,g;const w=t[14].prepend,E=p(w,t,t[13],bn),k=t[14].default,S=p(k,t,t[13],null),x=t[14].subtitle,T=p(x,t,t[13],yn),P=t[14].append,A=p(P,t,t[13],pn);return{c(){e=N("div"),E&&E.c(),n=R(),r=N("div"),i=N("div"),S&&S.c(),o=R(),s=N("div"),T&&T.c(),u=R(),A&&A.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,role:!0,tabindex:!0,"aria-selected":!0,style:!0});var a=j(e);E&&E.l(a),n=F(a),r=U(a,"DIV",{class:!0});var c=j(r);i=U(c,"DIV",{class:!0});var l=j(i);S&&S.l(l),l.forEach(I),o=F(c),s=U(c,"DIV",{class:!0});var h=j(s);T&&T.l(h),h.forEach(I),c.forEach(I),u=F(a),A&&A.l(a),a.forEach(I),this.h()},h(){M(i,"class","s-list-item__title"),M(s,"class","s-list-item__subtitle"),M(r,"class","s-list-item__content"),M(e,"class",a="s-list-item "+t[1]),M(e,"role",t[10]),M(e,"tabindex",c=t[6]?0:-1),M(e,"aria-selected",l="option"===t[10]?t[0]:null),M(e,"style",t[9]),W(e,"dense",t[3]),W(e,"disabled",t[4]),W(e,"multiline",t[5]),W(e,"link",t[6]),W(e,"selectable",t[7])},m(a,c){C(a,e,c),E&&E.m(e,null),O(e,n),O(e,r),O(r,i),S&&S.m(i,null),O(r,o),O(r,s),T&&T.m(s,null),O(e,u),A&&A.m(e,null),_=!0,b||(g=[m(d=ie.call(null,e,[t[0]&&t[2]])),m(v=qt.call(null,e,t[8])),L(e,"click",t[11]),L(e,"click",t[15]),L(e,"dblclick",t[16])],b=!0)},p(t,[n]){E&&E.p&&(!_||8192&n)&&y(E,w,t,t[13],n,_n,bn),S&&S.p&&(!_||8192&n)&&y(S,k,t,t[13],n,null,null),T&&T.p&&(!_||8192&n)&&y(T,x,t,t[13],n,vn,yn),A&&A.p&&(!_||8192&n)&&y(A,P,t,t[13],n,dn,pn),(!_||2&n&&a!==(a="s-list-item "+t[1]))&&M(e,"class",a),(!_||64&n&&c!==(c=t[6]?0:-1))&&M(e,"tabindex",c),(!_||1&n&&l!==(l="option"===t[10]?t[0]:null))&&M(e,"aria-selected",l),(!_||512&n)&&M(e,"style",t[9]),d&&f(d.update)&&5&n&&d.update.call(null,[t[0]&&t[2]]),v&&f(v.update)&&256&n&&v.update.call(null,t[8]),10&n&&W(e,"dense",t[3]),18&n&&W(e,"disabled",t[4]),34&n&&W(e,"multiline",t[5]),66&n&&W(e,"link",t[6]),130&n&&W(e,"selectable",t[7])},i(t){_||(xt(E,t),xt(S,t),xt(T,t),xt(A,t),_=!0)},o(t){Ot(E,t),Ot(S,t),Ot(T,t),Ot(A,t),_=!1},d(t){t&&I(e),E&&E.d(t),S&&S.d(t),T&&T.d(t),A&&A.d(t),b=!1,h(g)}}}function gn(t,e,n){let{$$slots:r={},$$scope:i}=e;const o=it("S_ListItemRole"),s=it("S_ListItemGroup"),u=s?it(s):{select:()=>null,register:()=>null,index:()=>null,activeClass:"active"};let{class:a=""}=e,{activeClass:c=u.activeClass}=e,{value:l=u.index()}=e,{active:h=!1}=e,{dense:f=!1}=e,{disabled:d=null}=e,{multiline:p=!1}=e,{link:v=o}=e,{selectable:y=!v}=e,{ripple:_=it("S_ListItemRipple")||o||!1}=e,{style:b=null}=e;return u.register((t=>{n(0,h=t.includes(l))})),t.$$set=t=>{"class"in t&&n(1,a=t.class),"activeClass"in t&&n(2,c=t.activeClass),"value"in t&&n(12,l=t.value),"active"in t&&n(0,h=t.active),"dense"in t&&n(3,f=t.dense),"disabled"in t&&n(4,d=t.disabled),"multiline"in t&&n(5,p=t.multiline),"link"in t&&n(6,v=t.link),"selectable"in t&&n(7,y=t.selectable),"ripple"in t&&n(8,_=t.ripple),"style"in t&&n(9,b=t.style),"$$scope"in t&&n(13,i=t.$$scope)},[h,a,c,f,d,p,v,y,_,b,o,function(){d||u.select(l)},l,i,r,function(e){ot(t,e)},function(e){ot(t,e)}]}class wn extends Ft{constructor(t){super(),Vt(this,t,gn,mn,d,{class:1,activeClass:2,value:12,active:0,dense:3,disabled:4,multiline:5,link:6,selectable:7,ripple:8,style:9})}}const En=t=>({}),kn=t=>({});function Sn(t){let e,n,r,i,o,s,u;const a=t[11].default,c=p(a,t,t[10],null);let l=t[8]&&xn(t);return{c(){e=N("span"),c&&c.c(),n=R(),l&&l.c(),this.h()},l(t){e=U(t,"SPAN",{class:!0});var r=j(e);c&&c.l(r),n=F(r),l&&l.l(r),r.forEach(I),this.h()},h(){M(e,"class",r="s-chip "+t[1]+" size-"+t[3]),W(e,"outlined",t[4]),W(e,"pill",t[5]),W(e,"link",t[6]),W(e,"label",t[7]),W(e,"selected",t[2])},m(r,a){C(r,e,a),c&&c.m(e,null),O(e,n),l&&l.m(e,null),o=!0,s||(u=[m(i=qt.call(null,e,t[6])),L(e,"click",t[12])],s=!0)},p(t,n){c&&c.p&&(!o||1024&n)&&y(c,a,t,t[10],n,null,null),t[8]?l?(l.p(t,n),256&n&&xt(l,1)):(l=xn(t),l.c(),xt(l,1),l.m(e,null)):l&&(kt(),Ot(l,1,1,(()=>{l=null})),St()),(!o||10&n&&r!==(r="s-chip "+t[1]+" size-"+t[3]))&&M(e,"class",r),i&&f(i.update)&&64&n&&i.update.call(null,t[6]),26&n&&W(e,"outlined",t[4]),42&n&&W(e,"pill",t[5]),74&n&&W(e,"link",t[6]),138&n&&W(e,"label",t[7]),14&n&&W(e,"selected",t[2])},i(t){o||(xt(c,t),xt(l),o=!0)},o(t){Ot(c,t),Ot(l),o=!1},d(t){t&&I(e),c&&c.d(t),l&&l.d(),s=!1,h(u)}}}function xn(t){let e,n,r,i;const o=t[11]["close-icon"],u=p(o,t,t[10],kn),a=u||function(t){let e,n;return e=new ne({props:{path:De}}),{c(){Lt(e.$$.fragment)},l(t){Mt(e.$$.fragment,t)},m(t,r){$t(e,t,r),n=!0},p:s,i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}();return{c(){e=N("div"),a&&a.c(),this.h()},l(t){e=U(t,"DIV",{class:!0});var n=j(e);a&&a.l(n),n.forEach(I),this.h()},h(){M(e,"class","s-chip__close")},m(o,s){C(o,e,s),a&&a.m(e,null),n=!0,r||(i=L(e,"click",t[9]),r=!0)},p(t,e){u&&u.p&&(!n||1024&e)&&y(u,o,t,t[10],e,En,kn)},i(t){n||(xt(a,t),n=!0)},o(t){Ot(a,t),n=!1},d(t){t&&I(e),a&&a.d(t),r=!1,i()}}}function On(t){let e,n,r=t[0]&&Sn(t);return{c(){r&&r.c(),e=D()},l(t){r&&r.l(t),e=D()},m(t,i){r&&r.m(t,i),C(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&xt(r,1)):(r=Sn(t),r.c(),xt(r,1),r.m(e.parentNode,e)):r&&(kt(),Ot(r,1,1,(()=>{r=null})),St())},i(t){n||(xt(r),n=!0)},o(t){Ot(r),n=!1},d(t){r&&r.d(t),t&&I(e)}}}function Cn(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{active:s=!0}=e,{selected:u=!1}=e,{size:a="default"}=e,{outlined:c=!1}=e,{pill:l=!1}=e,{link:h=!1}=e,{label:f=!1}=e,{close:d=!1}=e;const p=nt();return t.$$set=t=>{"class"in t&&n(1,o=t.class),"active"in t&&n(0,s=t.active),"selected"in t&&n(2,u=t.selected),"size"in t&&n(3,a=t.size),"outlined"in t&&n(4,c=t.outlined),"pill"in t&&n(5,l=t.pill),"link"in t&&n(6,h=t.link),"label"in t&&n(7,f=t.label),"close"in t&&n(8,d=t.close),"$$scope"in t&&n(10,i=t.$$scope)},[s,o,u,a,c,l,h,f,d,function(t){n(0,s=!1),p("close",t)},i,r,function(e){ot(t,e)}]}class In extends Ft{constructor(t){super(),Vt(this,t,Cn,On,d,{class:1,active:0,selected:2,size:3,outlined:4,pill:5,link:6,label:7,close:8})}}const Tn=["primary","secondary","success","info","warning","error"];function Nn(t,e){if(/^(#|rgb|hsl|currentColor)/.test(e))return t.style.backgroundColor=e,!1;if(e.startsWith("--"))return t.style.backgroundColor=`var(${e})`,!1;const n=function(t){return t.split(" ").map((t=>Tn.includes(t)?`${t}-color`:t))}(e);return t.classList.add(...n),n}var Pn=(t,e)=>{let n;return"string"==typeof e&&(n=Nn(t,e)),{update(e){n?t.classList.remove(...n):t.style.backgroundColor=null,"string"==typeof e&&(n=Nn(t,e))}}};function An(t){let e,n,r,i,o,a,c,l,d,v,_,b;const g=t[11].default,E=p(g,t,t[10],null);return{c(){e=N("div"),n=N("div"),i=R(),o=N("div"),E&&E.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0});var r=j(e);n=U(r,"DIV",{class:!0,style:!0}),j(n).forEach(I),i=F(r),o=U(r,"DIV",{class:!0});var s=j(o);E&&E.l(s),s.forEach(I),r.forEach(I),this.h()},h(){M(n,"class","s-overlay__scrim svelte-x5kbih"),z(n,"opacity",t[5]),M(o,"class","s-overlay__content svelte-x5kbih"),M(e,"class",a="s-overlay "+t[0]+" svelte-x5kbih"),M(e,"style",c="z-index:"+t[7]+";"+t[9]),W(e,"absolute",t[8])},m(s,u){C(s,e,u),O(e,n),O(e,i),O(e,o),E&&E.m(o,null),v=!0,_||(b=[m(r=Pn.call(null,n,t[6])),L(e,"click",t[12])],_=!0)},p(i,o){t=i,(!v||32&o)&&z(n,"opacity",t[5]),r&&f(r.update)&&64&o&&r.update.call(null,t[6]),E&&E.p&&(!v||1024&o)&&y(E,g,t,t[10],o,null,null),(!v||1&o&&a!==(a="s-overlay "+t[0]+" svelte-x5kbih"))&&M(e,"class",a),(!v||640&o&&c!==(c="z-index:"+t[7]+";"+t[9]))&&M(e,"style",c),257&o&&W(e,"absolute",t[8])},i(n){v||(xt(E,n),ft((()=>{d&&d.end(1),l||(l=It(e,t[1],t[2])),l.start()})),v=!0)},o(n){Ot(E,n),l&&l.invalidate(),d=function(t,e,n){let r,i=e(t,n),o=!0;const a=Et;function c(){const{delay:e=0,duration:n=300,easing:c=u,tick:l=s,css:f}=i||Ct;f&&(r=Z(t,1,0,n,e,c,f));const d=w()+e,p=d+n;ft((()=>gt(t,!1,"start"))),x((e=>{if(o){if(e>=p)return l(0,1),gt(t,!1,"end"),--a.r||h(a.c),!1;if(e>=d){const t=c((e-d)/n);l(1-t,t)}}return o}))}return a.r+=1,f(i)?mt().then((()=>{i=i(),c()})):c(),{end(e){e&&i.tick&&i.tick(1,0),o&&(r&&J(t,r),o=!1)}}}(e,t[1],t[3]),v=!1},d(t){t&&I(e),E&&E.d(t),t&&d&&d.end(),_=!1,h(b)}}}function Rn(t){let e,n,r=t[4]&&An(t);return{c(){r&&r.c(),e=D()},l(t){r&&r.l(t),e=D()},m(t,i){r&&r.m(t,i),C(t,e,i),n=!0},p(t,[n]){t[4]?r?(r.p(t,n),16&n&&xt(r,1)):(r=An(t),r.c(),xt(r,1),r.m(e.parentNode,e)):r&&(kt(),Ot(r,1,1,(()=>{r=null})),St())},i(t){n||(xt(r),n=!0)},o(t){Ot(r),n=!1},d(t){r&&r.d(t),t&&I(e)}}}function Dn(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{transition:s=an}=e,{inOpts:u={duration:250}}=e,{outOpts:a={duration:250}}=e,{active:c=!0}=e,{opacity:l=.46}=e,{color:h="rgb(33, 33, 33)"}=e,{index:f=5}=e,{absolute:d=!1}=e,{style:p=""}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"transition"in t&&n(1,s=t.transition),"inOpts"in t&&n(2,u=t.inOpts),"outOpts"in t&&n(3,a=t.outOpts),"active"in t&&n(4,c=t.active),"opacity"in t&&n(5,l=t.opacity),"color"in t&&n(6,h=t.color),"index"in t&&n(7,f=t.index),"absolute"in t&&n(8,d=t.absolute),"style"in t&&n(9,p=t.style),"$$scope"in t&&n(10,i=t.$$scope)},[o,s,u,a,c,l,h,f,d,p,i,r,function(e){ot(t,e)}]}class Ln extends Ft{constructor(t){super(),Vt(this,t,Dn,Rn,d,{class:0,transition:1,inOpts:2,outOpts:3,active:4,opacity:5,color:6,index:7,absolute:8,style:9})}}const Mn=t=>({}),$n=t=>({}),jn=t=>({}),Un=t=>({}),Vn=t=>({}),Fn=t=>({});function Hn(t){let e,n;const r=t[11].title,i=p(r,t,t[10],Un);return{c(){e=N("div"),i&&i.c(),this.h()},l(t){e=U(t,"DIV",{class:!0});var n=j(e);i&&i.l(n),n.forEach(I),this.h()},h(){M(e,"class","s-app-bar__title")},m(t,r){C(t,e,r),i&&i.m(e,null),n=!0},p(t,e){i&&i.p&&(!n||1024&e)&&y(i,r,t,t[10],e,jn,Un)},i(t){n||(xt(i,t),n=!0)},o(t){Ot(i,t),n=!1},d(t){t&&I(e),i&&i.d(t)}}}function Bn(t){let e,n,r,i,o,s,u,a,c,l;const h=t[11].icon,d=p(h,t,t[10],Fn);let v=!t[8]&&Hn(t);const _=t[11].default,b=p(_,t,t[10],null),g=t[11].extension,w=p(g,t,t[10],$n);return{c(){e=N("header"),n=N("div"),d&&d.c(),r=R(),v&&v.c(),i=R(),b&&b.c(),o=R(),w&&w.c(),this.h()},l(t){e=U(t,"HEADER",{class:!0,style:!0});var s=j(e);n=U(s,"DIV",{class:!0});var u=j(n);d&&d.l(u),r=F(u),v&&v.l(u),i=F(u),b&&b.l(u),u.forEach(I),o=F(s),w&&w.l(s),s.forEach(I),this.h()},h(){M(n,"class","s-app-bar__wrapper"),M(e,"class",s="s-app-bar "+t[0]),M(e,"style",t[9]),W(e,"tile",t[2]),W(e,"flat",t[3]),W(e,"dense",t[4]),W(e,"prominent",t[5]),W(e,"fixed",t[6]),W(e,"absolute",t[7]),W(e,"collapsed",t[8])},m(s,h){C(s,e,h),O(e,n),d&&d.m(n,null),O(n,r),v&&v.m(n,null),O(n,i),b&&b.m(n,null),O(e,o),w&&w.m(e,null),a=!0,c||(l=m(u=Jt.call(null,e,{"app-bar-height":t[1]})),c=!0)},p(t,[r]){d&&d.p&&(!a||1024&r)&&y(d,h,t,t[10],r,Vn,Fn),t[8]?v&&(kt(),Ot(v,1,1,(()=>{v=null})),St()):v?(v.p(t,r),256&r&&xt(v,1)):(v=Hn(t),v.c(),xt(v,1),v.m(n,i)),b&&b.p&&(!a||1024&r)&&y(b,_,t,t[10],r,null,null),w&&w.p&&(!a||1024&r)&&y(w,g,t,t[10],r,Mn,$n),(!a||1&r&&s!==(s="s-app-bar "+t[0]))&&M(e,"class",s),(!a||512&r)&&M(e,"style",t[9]),u&&f(u.update)&&2&r&&u.update.call(null,{"app-bar-height":t[1]}),5&r&&W(e,"tile",t[2]),9&r&&W(e,"flat",t[3]),17&r&&W(e,"dense",t[4]),33&r&&W(e,"prominent",t[5]),65&r&&W(e,"fixed",t[6]),129&r&&W(e,"absolute",t[7]),257&r&&W(e,"collapsed",t[8])},i(t){a||(xt(d,t),xt(v),xt(b,t),xt(w,t),a=!0)},o(t){Ot(d,t),Ot(v),Ot(b,t),Ot(w,t),a=!1},d(t){t&&I(e),d&&d.d(t),v&&v.d(),b&&b.d(t),w&&w.d(t),c=!1,l()}}}function zn(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{height:s="56px"}=e,{tile:u=!1}=e,{flat:a=!1}=e,{dense:c=!1}=e,{prominent:l=!1}=e,{fixed:h=!1}=e,{absolute:f=!1}=e,{collapsed:d=!1}=e,{style:p=""}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"height"in t&&n(1,s=t.height),"tile"in t&&n(2,u=t.tile),"flat"in t&&n(3,a=t.flat),"dense"in t&&n(4,c=t.dense),"prominent"in t&&n(5,l=t.prominent),"fixed"in t&&n(6,h=t.fixed),"absolute"in t&&n(7,f=t.absolute),"collapsed"in t&&n(8,d=t.collapsed),"style"in t&&n(9,p=t.style),"$$scope"in t&&n(10,i=t.$$scope)},[o,s,u,a,c,l,h,f,d,p,i,r]}class Wn extends Ft{constructor(t){super(),Vt(this,t,zn,Bn,d,{class:0,height:1,tile:2,flat:3,dense:4,prominent:5,fixed:6,absolute:7,collapsed:8,style:9})}}function qn(t){let e,n,r,i;return{c(){e=N("div"),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0}),j(e).forEach(I),this.h()},h(){M(e,"class","determinate svelte-116424u"),z(e,"width",t[1]+"%"),W(e,"striped",t[12])},m(o,s){C(o,e,s),r||(i=m(n=Pn.call(null,e,t[7])),r=!0)},p(t,r){2&r&&z(e,"width",t[1]+"%"),n&&f(n.update)&&128&r&&n.update.call(null,t[7]),4096&r&&W(e,"striped",t[12])},d(t){t&&I(e),r=!1,i()}}}function Kn(t){let e,n,r,i,o,s,u;return{c(){e=N("div"),n=N("div"),r=R(),i=N("div"),this.h()},l(t){e=U(t,"DIV",{});var o=j(e);n=U(o,"DIV",{class:!0}),j(n).forEach(I),r=F(o),i=U(o,"DIV",{class:!0}),j(i).forEach(I),o.forEach(I),this.h()},h(){M(n,"class","indeterminate long svelte-116424u"),M(i,"class","indeterminate short svelte-116424u")},m(a,c){C(a,e,c),O(e,n),O(e,r),O(e,i),s||(u=m(o=Pn.call(null,e,t[7])),s=!0)},p(t,e){o&&f(o.update)&&128&e&&o.update.call(null,t[7])},d(t){t&&I(e),s=!1,u()}}}function Yn(t){let e,n;return{c(){e=N("div"),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0}),j(e).forEach(I),this.h()},h(){M(e,"class",n="stream "+t[7]+" svelte-116424u"),z(e,"width",100-t[8]+"%")},m(t,n){C(t,e,n)},p(t,r){128&r&&n!==(n="stream "+t[7]+" svelte-116424u")&&M(e,"class",n),256&r&&z(e,"width",100-t[8]+"%")},d(t){t&&I(e)}}}function Gn(t){let e,n,r,i,o,s,u,a,c,l,h,d,v;function _(t,e){return t[3]?Kn:qn}let b=_(t),g=b(t);const w=t[15].default,E=p(w,t,t[14],null);let k=t[10]&&Yn(t);return{c(){e=N("div"),n=N("div"),o=R(),g.c(),s=R(),u=N("div"),E&&E.c(),a=R(),k&&k.c(),this.h()},l(t){e=U(t,"DIV",{role:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,class:!0,style:!0});var r=j(e);n=U(r,"DIV",{class:!0,style:!0}),j(n).forEach(I),o=F(r),g.l(r),s=F(r),u=U(r,"DIV",{class:!0});var i=j(u);E&&E.l(i),i.forEach(I),a=F(r),k&&k.l(r),r.forEach(I),this.h()},h(){M(n,"class","background svelte-116424u"),M(n,"style",r="opacity:"+t[6]+";"+(t[9]?"right":"left")+":"+t[1]+"%;width:"+(t[8]-t[1])+"%"),M(u,"class","s-progress-linear__content svelte-116424u"),M(e,"role","progressbar"),M(e,"aria-valuemin","0"),M(e,"aria-valuemax","100"),M(e,"aria-valuenow",t[1]),M(e,"class",c="s-progress-linear "+t[0]+" svelte-116424u"),M(e,"style",l="height:"+t[4]+";"+t[13]),W(e,"inactive",!t[2]),W(e,"reversed",t[9]),W(e,"rounded",t[11])},m(r,c){C(r,e,c),O(e,n),O(e,o),g.m(e,null),O(e,s),O(e,u),E&&E.m(u,null),O(e,a),k&&k.m(e,null),h=!0,d||(v=m(i=Pn.call(null,n,t[5])),d=!0)},p(t,[o]){(!h||834&o&&r!==(r="opacity:"+t[6]+";"+(t[9]?"right":"left")+":"+t[1]+"%;width:"+(t[8]-t[1])+"%"))&&M(n,"style",r),i&&f(i.update)&&32&o&&i.update.call(null,t[5]),b===(b=_(t))&&g?g.p(t,o):(g.d(1),g=b(t),g&&(g.c(),g.m(e,s))),E&&E.p&&(!h||16384&o)&&y(E,w,t,t[14],o,null,null),t[10]?k?k.p(t,o):(k=Yn(t),k.c(),k.m(e,null)):k&&(k.d(1),k=null),(!h||2&o)&&M(e,"aria-valuenow",t[1]),(!h||1&o&&c!==(c="s-progress-linear "+t[0]+" svelte-116424u"))&&M(e,"class",c),(!h||8208&o&&l!==(l="height:"+t[4]+";"+t[13]))&&M(e,"style",l),5&o&&W(e,"inactive",!t[2]),513&o&&W(e,"reversed",t[9]),2049&o&&W(e,"rounded",t[11])},i(t){h||(xt(E,t),h=!0)},o(t){Ot(E,t),h=!1},d(t){t&&I(e),g.d(),E&&E.d(t),k&&k.d(),d=!1,v()}}}function Zn(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{value:s=0}=e,{active:u=!0}=e,{indeterminate:a=!1}=e,{height:c="4px"}=e,{backgroundColor:l="primary"}=e,{backgroundOpacity:h=.3}=e,{color:f=l}=e,{buffer:d=100}=e,{reversed:p=!1}=e,{stream:v=!1}=e,{rounded:y=!1}=e,{striped:_=!1}=e,{style:b=""}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"value"in t&&n(1,s=t.value),"active"in t&&n(2,u=t.active),"indeterminate"in t&&n(3,a=t.indeterminate),"height"in t&&n(4,c=t.height),"backgroundColor"in t&&n(5,l=t.backgroundColor),"backgroundOpacity"in t&&n(6,h=t.backgroundOpacity),"color"in t&&n(7,f=t.color),"buffer"in t&&n(8,d=t.buffer),"reversed"in t&&n(9,p=t.reversed),"stream"in t&&n(10,v=t.stream),"rounded"in t&&n(11,y=t.rounded),"striped"in t&&n(12,_=t.striped),"style"in t&&n(13,b=t.style),"$$scope"in t&&n(14,i=t.$$scope)},[o,s,u,a,c,l,h,f,d,p,v,y,_,b,i,r]}class Jn extends Ft{constructor(t){super(),Vt(this,t,Zn,Gn,d,{class:0,value:1,active:2,indeterminate:3,height:4,backgroundColor:5,backgroundOpacity:6,color:7,buffer:8,reversed:9,stream:10,rounded:11,striped:12,style:13})}}const Xn=t=>({}),Qn=t=>({});function tr(t){let e;const n=t[12].progress,r=p(n,t,t[11],Qn),i=r||function(t){let e,n;return e=new Jn({props:{indeterminate:!0}}),{c(){Lt(e.$$.fragment)},l(t){Mt(e.$$.fragment,t)},m(t,r){$t(e,t,r),n=!0},p:s,i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){Ot(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}();return{c(){i&&i.c()},l(t){i&&i.l(t)},m(t,n){i&&i.m(t,n),e=!0},p(t,i){r&&r.p&&(!e||2048&i)&&y(r,n,t,t[11],i,Xn,Qn)},i(t){e||(xt(i,t),e=!0)},o(t){Ot(i,t),e=!1},d(t){i&&i.d(t)}}}function er(t){let e,n,r,i,o=t[8]&&tr(t);const s=t[12].default,u=p(s,t,t[11],null);return{c(){e=N("div"),o&&o.c(),n=R(),u&&u.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0});var r=j(e);o&&o.l(r),n=F(r),u&&u.l(r),r.forEach(I),this.h()},h(){M(e,"class",r="s-card "+t[0]),M(e,"style",t[10]),W(e,"flat",t[1]),W(e,"tile",t[2]),W(e,"outlined",t[3]),W(e,"raised",t[4]),W(e,"shaped",t[5]),W(e,"hover",t[6]),W(e,"link",t[7]),W(e,"disabled",t[9])},m(t,r){C(t,e,r),o&&o.m(e,null),O(e,n),u&&u.m(e,null),i=!0},p(t,[a]){t[8]?o?(o.p(t,a),256&a&&xt(o,1)):(o=tr(t),o.c(),xt(o,1),o.m(e,n)):o&&(kt(),Ot(o,1,1,(()=>{o=null})),St()),u&&u.p&&(!i||2048&a)&&y(u,s,t,t[11],a,null,null),(!i||1&a&&r!==(r="s-card "+t[0]))&&M(e,"class",r),(!i||1024&a)&&M(e,"style",t[10]),3&a&&W(e,"flat",t[1]),5&a&&W(e,"tile",t[2]),9&a&&W(e,"outlined",t[3]),17&a&&W(e,"raised",t[4]),33&a&&W(e,"shaped",t[5]),65&a&&W(e,"hover",t[6]),129&a&&W(e,"link",t[7]),513&a&&W(e,"disabled",t[9])},i(t){i||(xt(o),xt(u,t),i=!0)},o(t){Ot(o),Ot(u,t),i=!1},d(t){t&&I(e),o&&o.d(),u&&u.d(t)}}}function nr(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{flat:s=!1}=e,{tile:u=!1}=e,{outlined:a=!1}=e,{raised:c=!1}=e,{shaped:l=!1}=e,{hover:h=!1}=e,{link:f=!1}=e,{loading:d=!1}=e,{disabled:p=!1}=e,{style:v=null}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"flat"in t&&n(1,s=t.flat),"tile"in t&&n(2,u=t.tile),"outlined"in t&&n(3,a=t.outlined),"raised"in t&&n(4,c=t.raised),"shaped"in t&&n(5,l=t.shaped),"hover"in t&&n(6,h=t.hover),"link"in t&&n(7,f=t.link),"loading"in t&&n(8,d=t.loading),"disabled"in t&&n(9,p=t.disabled),"style"in t&&n(10,v=t.style),"$$scope"in t&&n(11,i=t.$$scope)},[o,s,u,a,c,l,h,f,d,p,v,i,r]}class rr extends Ft{constructor(t){super(),Vt(this,t,nr,er,d,{class:0,flat:1,tile:2,outlined:3,raised:4,shaped:5,hover:6,link:7,loading:8,disabled:9,style:10})}}function ir(t){let e,n,r;const i=t[3].default,o=p(i,t,t[2],null);return{c(){e=N("div"),o&&o.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0});var n=j(e);o&&o.l(n),n.forEach(I),this.h()},h(){M(e,"class",n="s-card-actions "+t[0]),M(e,"style",t[1])},m(t,n){C(t,e,n),o&&o.m(e,null),r=!0},p(t,[s]){o&&o.p&&(!r||4&s)&&y(o,i,t,t[2],s,null,null),(!r||1&s&&n!==(n="s-card-actions "+t[0]))&&M(e,"class",n),(!r||2&s)&&M(e,"style",t[1])},i(t){r||(xt(o,t),r=!0)},o(t){Ot(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function or(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{style:s=null}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"style"in t&&n(1,s=t.style),"$$scope"in t&&n(2,i=t.$$scope)},[o,s,i,r]}class sr extends Ft{constructor(t){super(),Vt(this,t,or,ir,d,{class:0,style:1})}}function ur(t){let e,n,r;const i=t[3].default,o=p(i,t,t[2],null);return{c(){e=N("div"),o&&o.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0});var n=j(e);o&&o.l(n),n.forEach(I),this.h()},h(){M(e,"class",n="s-card-subtitle "+t[0]),M(e,"style",t[1])},m(t,n){C(t,e,n),o&&o.m(e,null),r=!0},p(t,[s]){o&&o.p&&(!r||4&s)&&y(o,i,t,t[2],s,null,null),(!r||1&s&&n!==(n="s-card-subtitle "+t[0]))&&M(e,"class",n),(!r||2&s)&&M(e,"style",t[1])},i(t){r||(xt(o,t),r=!0)},o(t){Ot(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function ar(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{style:s=null}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"style"in t&&n(1,s=t.style),"$$scope"in t&&n(2,i=t.$$scope)},[o,s,i,r]}class cr extends Ft{constructor(t){super(),Vt(this,t,ar,ur,d,{class:0,style:1})}}function lr(t){let e,n,r;const i=t[3].default,o=p(i,t,t[2],null);return{c(){e=N("div"),o&&o.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0});var n=j(e);o&&o.l(n),n.forEach(I),this.h()},h(){M(e,"class",n="s-card-title "+t[0]),M(e,"style",t[1])},m(t,n){C(t,e,n),o&&o.m(e,null),r=!0},p(t,[s]){o&&o.p&&(!r||4&s)&&y(o,i,t,t[2],s,null,null),(!r||1&s&&n!==(n="s-card-title "+t[0]))&&M(e,"class",n),(!r||2&s)&&M(e,"style",t[1])},i(t){r||(xt(o,t),r=!0)},o(t){Ot(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function hr(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{style:s=null}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"style"in t&&n(1,s=t.style),"$$scope"in t&&n(2,i=t.$$scope)},[o,s,i,r]}class fr extends Ft{constructor(t){super(),Vt(this,t,hr,lr,d,{class:0,style:1})}}const dr=t=>({}),pr=t=>({}),vr=t=>({}),yr=t=>({});function _r(t){let e;return{c(){e=N("div"),this.h()},l(t){e=U(t,"DIV",{class:!0}),j(e).forEach(I),this.h()},h(){M(e,"class","s-navigation-drawer__border")},m(t,n){C(t,e,n)},d(t){t&&I(e)}}}function br(t){let e,n,r,i,o,s,u,a,c,l,d,v;const _=t[16].prepend,b=p(_,t,t[15],yr),g=t[16].default,w=p(g,t,t[15],null),E=t[16].append,k=p(E,t,t[15],pr);let S=!t[8]&&_r();return{c(){e=N("aside"),b&&b.c(),n=R(),r=N("div"),w&&w.c(),i=R(),k&&k.c(),o=R(),S&&S.c(),this.h()},l(t){e=U(t,"ASIDE",{class:!0,style:!0});var s=j(e);b&&b.l(s),n=F(s),r=U(s,"DIV",{class:!0});var u=j(r);w&&w.l(u),u.forEach(I),i=F(s),k&&k.l(s),o=F(s),S&&S.l(s),s.forEach(I),this.h()},h(){M(r,"class","s-navigation-drawer__content"),M(e,"class",s="s-navigation-drawer "+t[0]),M(e,"style",u="z-index:"+t[13]+";"+t[14]),W(e,"active",t[2]),W(e,"fixed",t[3]),W(e,"absolute",t[4]),W(e,"right",t[5]),W(e,"mini",t[6]),W(e,"clipped",t[7])},m(s,u){C(s,e,u),b&&b.m(e,null),O(e,n),O(e,r),w&&w.m(r,null),O(e,i),k&&k.m(e,null),O(e,o),S&&S.m(e,null),l=!0,d||(v=[L(e,"introstart",t[17]),L(e,"outrostart",t[18]),L(e,"introend",t[19]),L(e,"outroend",t[20]),L(e,"hover",t[21]),m(a=Jt.call(null,e,{"nav-width":t[1],"nav-min-width":t[9],"nav-clipped-height":t[10]}))],d=!0)},p(n,[r]){t=n,b&&b.p&&(!l||32768&r)&&y(b,_,t,t[15],r,vr,yr),w&&w.p&&(!l||32768&r)&&y(w,g,t,t[15],r,null,null),k&&k.p&&(!l||32768&r)&&y(k,E,t,t[15],r,dr,pr),t[8]?S&&(S.d(1),S=null):S||(S=_r(),S.c(),S.m(e,null)),(!l||1&r&&s!==(s="s-navigation-drawer "+t[0]))&&M(e,"class",s),(!l||24576&r&&u!==(u="z-index:"+t[13]+";"+t[14]))&&M(e,"style",u),a&&f(a.update)&&1538&r&&a.update.call(null,{"nav-width":t[1],"nav-min-width":t[9],"nav-clipped-height":t[10]}),5&r&&W(e,"active",t[2]),9&r&&W(e,"fixed",t[3]),17&r&&W(e,"absolute",t[4]),33&r&&W(e,"right",t[5]),65&r&&W(e,"mini",t[6]),129&r&&W(e,"clipped",t[7])},i(n){l||(xt(b,n),xt(w,n),xt(k,n),ft((()=>{c||(c=Tt(e,t[11],t[12],!0)),c.run(1)})),l=!0)},o(n){Ot(b,n),Ot(w,n),Ot(k,n),c||(c=Tt(e,t[11],t[12],!1)),c.run(0),l=!1},d(t){t&&I(e),b&&b.d(t),w&&w.d(t),k&&k.d(t),S&&S.d(),t&&c&&c.end(),d=!1,h(v)}}}function mr(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{width:s="256px"}=e,{active:u=!0}=e,{fixed:a=!1}=e,{absolute:c=!1}=e,{right:l=!1}=e,{mini:h=!1}=e,{clipped:f=!1}=e,{borderless:d=!1}=e,{miniWidth:p="56px"}=e,{clippedHeight:v="56px"}=e,{transition:y=an}=e,{transitionOpts:_={}}=e,{index:b=4}=e,{style:m=null}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"width"in t&&n(1,s=t.width),"active"in t&&n(2,u=t.active),"fixed"in t&&n(3,a=t.fixed),"absolute"in t&&n(4,c=t.absolute),"right"in t&&n(5,l=t.right),"mini"in t&&n(6,h=t.mini),"clipped"in t&&n(7,f=t.clipped),"borderless"in t&&n(8,d=t.borderless),"miniWidth"in t&&n(9,p=t.miniWidth),"clippedHeight"in t&&n(10,v=t.clippedHeight),"transition"in t&&n(11,y=t.transition),"transitionOpts"in t&&n(12,_=t.transitionOpts),"index"in t&&n(13,b=t.index),"style"in t&&n(14,m=t.style),"$$scope"in t&&n(15,i=t.$$scope)},[o,s,u,a,c,l,h,f,d,p,v,y,_,b,m,i,r,function(e){ot(t,e)},function(e){ot(t,e)},function(e){ot(t,e)},function(e){ot(t,e)},function(e){ot(t,e)}]}class gr extends Ft{constructor(t){super(),Vt(this,t,mr,br,d,{class:0,width:1,active:2,fixed:3,absolute:4,right:5,mini:6,clipped:7,borderless:8,miniWidth:9,clippedHeight:10,transition:11,transitionOpts:12,index:13,style:14})}}function wr(t){let e,n,r;const i=t[5].default,o=p(i,t,t[4],null);return{c(){e=N("div"),o&&o.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0});var n=j(e);o&&o.l(n),n.forEach(I),this.h()},h(){M(e,"class",n="s-row "+t[0]),M(e,"style",t[3]),W(e,"dense",t[1]),W(e,"no-gutters",t[2])},m(t,n){C(t,e,n),o&&o.m(e,null),r=!0},p(t,[s]){o&&o.p&&(!r||16&s)&&y(o,i,t,t[4],s,null,null),(!r||1&s&&n!==(n="s-row "+t[0]))&&M(e,"class",n),(!r||8&s)&&M(e,"style",t[3]),3&s&&W(e,"dense",t[1]),5&s&&W(e,"no-gutters",t[2])},i(t){r||(xt(o,t),r=!0)},o(t){Ot(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Er(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{dense:s=!1}=e,{noGutters:u=!1}=e,{style:a=null}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"dense"in t&&n(1,s=t.dense),"noGutters"in t&&n(2,u=t.noGutters),"style"in t&&n(3,a=t.style),"$$scope"in t&&n(4,i=t.$$scope)},[o,s,u,a,i,r]}class kr extends Ft{constructor(t){super(),Vt(this,t,Er,wr,d,{class:0,dense:1,noGutters:2,style:3})}}function Sr(t){let e,n,r,i,o,s;const u=t[13].default,a=p(u,t,t[12],null);return{c(){e=N("div"),a&&a.c(),this.h()},l(t){e=U(t,"DIV",{class:!0,style:!0});var n=j(e);a&&a.l(n),n.forEach(I),this.h()},h(){M(e,"class",n="s-col "+t[0]),M(e,"style",t[11])},m(n,u){C(n,e,u),a&&a.m(e,null),i=!0,o||(s=m(r=ie.call(null,e,[t[1]&&`col-${t[1]}`,t[2]&&`sm-${t[2]}`,t[3]&&`md-${t[3]}`,t[4]&&`lg-${t[4]}`,t[5]&&`xl-${t[5]}`,t[6]&&`offset-${t[6]}`,t[7]&&`offset-sm-${t[7]}`,t[8]&&`offset-md-${t[8]}`,t[9]&&`offset-lg-${t[9]}`,t[10]&&`offset-xl-${t[10]}`])),o=!0)},p(t,[o]){a&&a.p&&(!i||4096&o)&&y(a,u,t,t[12],o,null,null),(!i||1&o&&n!==(n="s-col "+t[0]))&&M(e,"class",n),(!i||2048&o)&&M(e,"style",t[11]),r&&f(r.update)&&2046&o&&r.update.call(null,[t[1]&&`col-${t[1]}`,t[2]&&`sm-${t[2]}`,t[3]&&`md-${t[3]}`,t[4]&&`lg-${t[4]}`,t[5]&&`xl-${t[5]}`,t[6]&&`offset-${t[6]}`,t[7]&&`offset-sm-${t[7]}`,t[8]&&`offset-md-${t[8]}`,t[9]&&`offset-lg-${t[9]}`,t[10]&&`offset-xl-${t[10]}`])},i(t){i||(xt(a,t),i=!0)},o(t){Ot(a,t),i=!1},d(t){t&&I(e),a&&a.d(t),o=!1,s()}}}function xr(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{cols:s=!1}=e,{sm:u=!1}=e,{md:a=!1}=e,{lg:c=!1}=e,{xl:l=!1}=e,{offset:h=!1}=e,{offset_sm:f=!1}=e,{offset_md:d=!1}=e,{offset_lg:p=!1}=e,{offset_xl:v=!1}=e,{style:y=null}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"cols"in t&&n(1,s=t.cols),"sm"in t&&n(2,u=t.sm),"md"in t&&n(3,a=t.md),"lg"in t&&n(4,c=t.lg),"xl"in t&&n(5,l=t.xl),"offset"in t&&n(6,h=t.offset),"offset_sm"in t&&n(7,f=t.offset_sm),"offset_md"in t&&n(8,d=t.offset_md),"offset_lg"in t&&n(9,p=t.offset_lg),"offset_xl"in t&&n(10,v=t.offset_xl),"style"in t&&n(11,y=t.style),"$$scope"in t&&n(12,i=t.$$scope)},[o,s,u,a,c,l,h,f,d,p,v,y,i,r]}class Or extends Ft{constructor(t){super(),Vt(this,t,xr,Sr,d,{class:0,cols:1,sm:2,md:3,lg:4,xl:5,offset:6,offset_sm:7,offset_md:8,offset_lg:9,offset_xl:10,style:11})}}function Cr(t){let e,n,r;const i=t[7].default,o=p(i,t,t[6],null);return{c(){e=N("footer"),o&&o.c(),this.h()},l(t){e=U(t,"FOOTER",{class:!0,style:!0});var n=j(e);o&&o.l(n),n.forEach(I),this.h()},h(){M(e,"class",n="s-footer "+t[0]),M(e,"style",t[5]),W(e,"absolute",t[1]),W(e,"fixed",t[2]),W(e,"inset",t[3]),W(e,"padless",t[4])},m(t,n){C(t,e,n),o&&o.m(e,null),r=!0},p(t,[s]){o&&o.p&&(!r||64&s)&&y(o,i,t,t[6],s,null,null),(!r||1&s&&n!==(n="s-footer "+t[0]))&&M(e,"class",n),(!r||32&s)&&M(e,"style",t[5]),3&s&&W(e,"absolute",t[1]),5&s&&W(e,"fixed",t[2]),9&s&&W(e,"inset",t[3]),17&s&&W(e,"padless",t[4])},i(t){r||(xt(o,t),r=!0)},o(t){Ot(o,t),r=!1},d(t){t&&I(e),o&&o.d(t)}}}function Ir(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o=""}=e,{absolute:s=!1}=e,{fixed:u=!1}=e,{inset:a=!1}=e,{padless:c=!1}=e,{style:l=null}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"absolute"in t&&n(1,s=t.absolute),"fixed"in t&&n(2,u=t.fixed),"inset"in t&&n(3,a=t.inset),"padless"in t&&n(4,c=t.padless),"style"in t&&n(5,l=t.style),"$$scope"in t&&n(6,i=t.$$scope)},[o,s,u,a,c,l,i,r]}class Tr extends Ft{constructor(t){super(),Vt(this,t,Ir,Cr,d,{class:0,absolute:1,fixed:2,inset:3,padless:4,style:5})}}var Nr="M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z",Pr="M11,14C12,14 13.05,14.16 14.2,14.44C13.39,15.31 13,16.33 13,17.5C13,18.39 13.25,19.23 13.78,20H3V18C3,16.81 3.91,15.85 5.74,15.12C7.57,14.38 9.33,14 11,14M11,12C9.92,12 9,11.61 8.18,10.83C7.38,10.05 7,9.11 7,8C7,6.92 7.38,6 8.18,5.18C9,4.38 9.92,4 11,4C12.11,4 13.05,4.38 13.83,5.18C14.61,6 15,6.92 15,8C15,9.11 14.61,10.05 13.83,10.83C13.05,11.61 12.11,12 11,12M18.5,10H20L22,10V12H20V17.5A2.5,2.5 0 0,1 17.5,20A2.5,2.5 0 0,1 15,17.5A2.5,2.5 0 0,1 17.5,15C17.86,15 18.19,15.07 18.5,15.21V10Z",Ar="M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11M12,16.5C9.5,16.5 7.5,14.5 7.5,12C7.5,9.5 9.5,7.5 12,7.5C14.5,7.5 16.5,9.5 16.5,12C16.5,14.5 14.5,16.5 12,16.5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Rr="M7.07,11L7,12L7.07,13H17.35L16.5,15H7.67C8.8,17.36 11.21,19 14,19C16.23,19 18.22,17.96 19.5,16.33V19.12C18,20.3 16.07,21 14,21C10.08,21 6.75,18.5 5.5,15H2L3,13H5.05L5,12L5.05,11H2L3,9H5.5C6.75,5.5 10.08,3 14,3C16.5,3 18.8,4.04 20.43,5.71L19.57,7.75C18.29,6.08 16.27,5 14,5C11.21,5 8.8,6.64 7.67,9H19.04L18.19,11H7.07Z",Dr="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z",Lr="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",Mr="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z",$r="M4,6H2V20A2,2 0 0,0 4,22H18V20H4M18,7H15V12.5A2.5,2.5 0 0,1 12.5,15A2.5,2.5 0 0,1 10,12.5A2.5,2.5 0 0,1 12.5,10C13.07,10 13.58,10.19 14,10.5V5H18M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2Z",jr="M12 3V13.55C11.41 13.21 10.73 13 10 13C7.79 13 6 14.79 6 17S7.79 21 10 21 14 19.21 14 17V7H18V3H12Z",Ur="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Vr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Fr(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}function Hr(t){var e={exports:{}};return t(e,e.exports),e.exports}var Br=Hr((function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0})),zr=Hr((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),Wr=Hr((function(t){var e=zr.default;function n(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(n=function(t){return t?r:e})(t)}t.exports=function(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!==e(t)&&"function"!=typeof t)return{default:t};var i=n(r);if(i&&i.has(t))return i.get(t);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var a=s?Object.getOwnPropertyDescriptor(t,u):null;a&&(a.get||a.set)?Object.defineProperty(o,u,a):o[u]=t[u]}return o.default=t,i&&i.set(t,o),o},t.exports.default=t.exports,t.exports.__esModule=!0})),qr=Hr((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0})),Kr=Hr((function(t){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0})),Yr=Hr((function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0})),Gr=Hr((function(t){var e=zr.default;t.exports=function(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?Yr(t):n},t.exports.default=t.exports,t.exports.__esModule=!0})),Zr=Hr((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),Jr=Hr((function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,e(n,r)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),Xr=Hr((function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jr(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0})),Qr=Hr((function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.default=t.exports,t.exports.__esModule=!0})),ti=Hr((function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0})),ei=Hr((function(t){function e(n,r,i){return ti()?(t.exports=e=Reflect.construct,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Jr(i,n.prototype),i},t.exports.default=t.exports,t.exports.__esModule=!0),e.apply(null,arguments)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),ni=Hr((function(t){function e(n){var r="function"==typeof Map?new Map:void 0;return t.exports=e=function(t){if(null===t||!Qr(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return ei(t,arguments,Zr(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Jr(e,t)},t.exports.default=t.exports,t.exports.__esModule=!0,e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),ri=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.newError=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N/A";return new u(t,e)},e.PROTOCOL_ERROR=e.SESSION_EXPIRED=e.SERVICE_UNAVAILABLE=e.Neo4jError=void 0;var n=Br(qr),r=Br(Gr),i=Br(Zr),o=Br(Xr),s=Br(ni);e.SERVICE_UNAVAILABLE="ServiceUnavailable";e.SESSION_EXPIRED="SessionExpired";e.PROTOCOL_ERROR="ProtocolError";var u=function(t){function e(t){var o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N/A";return(0,n.default)(this,e),(o=(0,r.default)(this,(0,i.default)(e).call(this,t))).message=t,o.code=s,o.name="Neo4jError",o}return(0,o.default)(e,t),e}((0,s.default)(Error));e.Neo4jError=u})),ii=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=void 0;var n=Br(qr),r=Br(Kr),i=function(){function t(e,r){(0,n.default)(this,t),this.low=0|e,this.high=0|r}return(0,r.default)(t,[{key:"inSafeRange",value:function(){return this.greaterThanOrEqual(t.MIN_SAFE_VALUE)&&this.lessThanOrEqual(t.MAX_SAFE_VALUE)}},{key:"toInt",value:function(){return this.low}},{key:"toNumber",value:function(){return this.high*s+(this.low>>>0)}},{key:"toNumberOrInfinity",value:function(){return this.lessThan(t.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(t.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()}},{key:"toString",value:function(e){if((e=e||10)<2||e>36)throw RangeError("radix out of range: "+e);if(this.isZero())return"0";var n;if(this.isNegative()){if(this.equals(t.MIN_VALUE)){var r=t.fromNumber(e),i=this.div(r);return n=i.multiply(r).subtract(this),i.toString(e)+n.toInt().toString(e)}return"-"+this.negate().toString(e)}var o=t.fromNumber(Math.pow(e,6));n=this;for(var s="";;){var u=n.div(o),a=(n.subtract(u.multiply(o)).toInt()>>>0).toString(e);if((n=u).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}}},{key:"getHighBits",value:function(){return this.high}},{key:"getLowBits",value:function(){return this.low}},{key:"getNumBitsAbs",value:function(){if(this.isNegative())return this.equals(t.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.high?this.high:this.low,n=31;n>0&&0==(e&1<<n);n--);return 0!==this.high?n+33:n+1}},{key:"isZero",value:function(){return 0===this.high&&0===this.low}},{key:"isNegative",value:function(){return this.high<0}},{key:"isPositive",value:function(){return this.high>=0}},{key:"isOdd",value:function(){return 1==(1&this.low)}},{key:"isEven",value:function(){return 0==(1&this.low)}},{key:"equals",value:function(e){return t.isInteger(e)||(e=t.fromValue(e)),this.high===e.high&&this.low===e.low}},{key:"notEquals",value:function(t){return!this.equals(t)}},{key:"lessThan",value:function(t){return this.compare(t)<0}},{key:"lessThanOrEqual",value:function(t){return this.compare(t)<=0}},{key:"greaterThan",value:function(t){return this.compare(t)>0}},{key:"greaterThanOrEqual",value:function(t){return this.compare(t)>=0}},{key:"compare",value:function(e){if(t.isInteger(e)||(e=t.fromValue(e)),this.equals(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.subtract(e).isNegative()?-1:1}},{key:"negate",value:function(){return this.equals(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)}},{key:"add",value:function(e){t.isInteger(e)||(e=t.fromValue(e));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,u=65535&e.high,a=e.low>>>16,c=0,l=0,h=0,f=0;return h+=(f+=o+(65535&e.low))>>>16,f&=65535,l+=(h+=i+a)>>>16,h&=65535,c+=(l+=r+u)>>>16,l&=65535,c+=n+s,c&=65535,t.fromBits(h<<16|f,c<<16|l)}},{key:"subtract",value:function(e){return t.isInteger(e)||(e=t.fromValue(e)),this.add(e.negate())}},{key:"multiply",value:function(e){if(this.isZero())return t.ZERO;if(t.isInteger(e)||(e=t.fromValue(e)),e.isZero())return t.ZERO;if(this.equals(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.equals(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(a)&&e.lessThan(a))return t.fromNumber(this.toNumber()*e.toNumber());var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,u=65535&e.high,c=e.low>>>16,l=65535&e.low,h=0,f=0,d=0,p=0;return d+=(p+=o*l)>>>16,p&=65535,f+=(d+=i*l)>>>16,d&=65535,f+=(d+=o*c)>>>16,d&=65535,h+=(f+=r*l)>>>16,f&=65535,h+=(f+=i*c)>>>16,f&=65535,h+=(f+=o*u)>>>16,f&=65535,h+=n*l+r*c+i*u+o*s,h&=65535,t.fromBits(d<<16|p,h<<16|f)}},{key:"div",value:function(e){if(t.isInteger(e)||(e=t.fromValue(e)),e.isZero())throw(0,ri.newError)("division by zero");if(this.isZero())return t.ZERO;var n,r,i;if(this.equals(t.MIN_VALUE))return e.equals(t.ONE)||e.equals(t.NEG_ONE)?t.MIN_VALUE:e.equals(t.MIN_VALUE)?t.ONE:(n=this.shiftRight(1).div(e).shiftLeft(1)).equals(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(r=this.subtract(e.multiply(n)),i=n.add(r.div(e)));if(e.equals(t.MIN_VALUE))return t.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(i=t.ZERO,r=this;r.greaterThanOrEqual(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),s=o<=48?1:Math.pow(2,o-48),u=t.fromNumber(n),a=u.multiply(e);a.isNegative()||a.greaterThan(r);)n-=s,a=(u=t.fromNumber(n)).multiply(e);u.isZero()&&(u=t.ONE),i=i.add(u),r=r.subtract(a)}return i}},{key:"modulo",value:function(e){return t.isInteger(e)||(e=t.fromValue(e)),this.subtract(this.div(e).multiply(e))}},{key:"not",value:function(){return t.fromBits(~this.low,~this.high)}},{key:"and",value:function(e){return t.isInteger(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high)}},{key:"or",value:function(e){return t.isInteger(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high)}},{key:"xor",value:function(e){return t.isInteger(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high)}},{key:"shiftLeft",value:function(e){return t.isInteger(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e):t.fromBits(0,this.low<<e-32)}},{key:"shiftRight",value:function(e){return t.isInteger(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e):t.fromBits(this.high>>e-32,this.high>=0?0:-1)}}]),t}();i.__isInteger__=!0,Object.defineProperty(i.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1}),i.isInteger=function(t){return!0===(t&&t.__isInteger__)};var o={};i.fromInt=function(t){var e,n;return(t|=0)>=-128&&t<128&&(n=o[t])?n:(e=new i(t,t<0?-1:0,!1),t>=-128&&t<128&&(o[t]=e),e)},i.fromNumber=function(t){return isNaN(t)||!isFinite(t)?i.ZERO:t<=-u?i.MIN_VALUE:t+1>=u?i.MAX_VALUE:t<0?i.fromNumber(-t).negate():new i(t%s|0,t/s|0)},i.fromBits=function(t,e){return new i(t,e)},i.fromString=function(t,e){if(0===t.length)throw(0,ri.newError)("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return i.ZERO;if((e=e||10)<2||e>36)throw(0,ri.newError)("radix out of range: "+e);var n;if((n=t.indexOf("-"))>0)throw(0,ri.newError)('number format error: interior "-" character: '+t);if(0===n)return i.fromString(t.substring(1),e).negate();for(var r=i.fromNumber(Math.pow(e,8)),o=i.ZERO,s=0;s<t.length;s+=8){var u=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+u),e);if(u<8){var c=i.fromNumber(Math.pow(e,u));o=o.multiply(c).add(i.fromNumber(a))}else o=(o=o.multiply(r)).add(i.fromNumber(a))}return o},i.fromValue=function(t){return t instanceof i?t:"number"==typeof t?i.fromNumber(t):"string"==typeof t?i.fromString(t):new i(t.low,t.high)},i.toNumber=function(t){return i.fromValue(t).toNumber()},i.toString=function(t,e){return i.fromValue(t).toString(e)},i.inSafeRange=function(t){return i.fromValue(t).inSafeRange()};var s=4294967296,u=s*s/2,a=i.fromInt(1<<24);i.ZERO=i.fromInt(0),i.ONE=i.fromInt(1),i.NEG_ONE=i.fromInt(-1),i.MAX_VALUE=i.fromBits(-1,2147483647,!1),i.MIN_VALUE=i.fromBits(0,-2147483648,!1),i.MIN_SAFE_VALUE=i.fromBits(1,-2097152),i.MAX_SAFE_VALUE=i.fromBits(-1,2097151);var c=i.fromValue;e.int=c;var l=i.isInteger;e.isInt=l;var h=i.inSafeRange;e.inSafeRange=h;var f=i.toNumber;e.toNumber=f;var d=i.toString;e.toString=d;var p=i;e.default=p})),oi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNode=function(t){return c(t,o)},e.isRelationship=function(t){return c(t,s)},e.isUnboundRelationship=function(t){return c(t,UNBOUNT_RELATIONSHIP_IDENTIFIER_PROPERTY)},e.isPath=function(t){return c(t,u)},e.isPathSegment=function(t){return c(t,a)},e.PathSegment=e.Path=e.UnboundRelationship=e.Relationship=e.Node=void 0;var n=Br(qr),r=Br(Kr),i={value:!0,enumerable:!1,configurable:!1,writable:!1},o="__isNode__",s="__isRelationship__",u="__isPath__",a="__isPathSegment__";function c(t,e){return!0===(t&&t[e])}var l=function(){function t(e,r,i){(0,n.default)(this,t),this.identity=e,this.labels=r,this.properties=i}return(0,r.default)(t,[{key:"toString",value:function(){for(var t="("+this.identity,e=0;e<this.labels.length;e++)t+=":"+this.labels[e];var n=Object.keys(this.properties);if(n.length>0){t+=" {";for(var r=0;r<n.length;r++)r>0&&(t+=","),t+=n[r]+":"+JSON.stringify(this.properties[n[r]]);t+="}"}return t+=")"}}]),t}();e.Node=l,Object.defineProperty(l.prototype,o,i);var h=function(){function t(e,r,i,o,s){(0,n.default)(this,t),this.identity=e,this.start=r,this.end=i,this.type=o,this.properties=s}return(0,r.default)(t,[{key:"toString",value:function(){var t="("+this.start+")-[:"+this.type,e=Object.keys(this.properties);if(e.length>0){t+=" {";for(var n=0;n<e.length;n++)n>0&&(t+=","),t+=e[n]+":"+JSON.stringify(this.properties[e[n]]);t+="}"}return t+="]->("+this.end+")"}}]),t}();e.Relationship=h,Object.defineProperty(h.prototype,s,i);var f=function(){function t(e,r,i){(0,n.default)(this,t),this.identity=e,this.type=r,this.properties=i}return(0,r.default)(t,[{key:"bind",value:function(t,e){return new h(this.identity,t,e,this.type,this.properties)}},{key:"toString",value:function(){var t="-[:"+this.type,e=Object.keys(this.properties);if(e.length>0){t+=" {";for(var n=0;n<e.length;n++)n>0&&(t+=","),t+=e[n]+":"+JSON.stringify(this.properties[e[n]]);t+="}"}return t+="]->"}}]),t}();e.UnboundRelationship=f,Object.defineProperty(f.prototype,"__isUnboundRelationship__",i);var d=function t(e,r,i){(0,n.default)(this,t),this.start=e,this.relationship=r,this.end=i};e.PathSegment=d,Object.defineProperty(d.prototype,a,i);var p=function t(e,r,i){(0,n.default)(this,t),this.start=e,this.end=r,this.segments=i,this.length=i.length};e.Path=p,Object.defineProperty(p.prototype,u,i)})),si=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.queryType=void 0;var n=Br(qr),r=Br(Kr),i=function(){function t(e,r,i,a){(0,n.default)(this,t),this.query={text:e,parameters:r},this.queryType=i.type,this.counters=new u(i.stats||{}),this.updateStatistics=this.counters,this.plan=!(!i.plan&&!i.profile)&&new o(i.plan||i.profile),this.profile=!!i.profile&&new s(i.profile),this.notifications=this._buildNotifications(i.notifications),this.server=new c(i.server,a),this.resultConsumedAfter=i.result_consumed_after,this.resultAvailableAfter=i.result_available_after,this.database={name:i.db||null}}return(0,r.default)(t,[{key:"_buildNotifications",value:function(t){return t?t.map((function(t){return new a(t)})):[]}},{key:"hasPlan",value:function(){return this.plan instanceof o}},{key:"hasProfile",value:function(){return this.profile instanceof s}}]),t}(),o=function t(e){(0,n.default)(this,t),this.operatorType=e.operatorType,this.identifiers=e.identifiers,this.arguments=e.args,this.children=e.children?e.children.map((function(e){return new t(e)})):[]},s=function(){function t(e){(0,n.default)(this,t),this.operatorType=e.operatorType,this.identifiers=e.identifiers,this.arguments=e.args,this.dbHits=h("dbHits",e),this.rows=h("rows",e),this.pageCacheMisses=h("pageCacheMisses",e),this.pageCacheHits=h("pageCacheHits",e),this.pageCacheHitRatio=h("pageCacheHitRatio",e),this.time=h("time",e),this.children=e.children?e.children.map((function(e){return new t(e)})):[]}return(0,r.default)(t,[{key:"hasPageCacheStats",value:function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0}}]),t}(),u=function(){function t(e){var r=this;(0,n.default)(this,t),this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(e).forEach((function(t){var n=t.replace(/(-\w)/g,(function(t){return t[1].toUpperCase()}));n in r._stats?r._stats[n]=l(e[t]):"systemUpdates"===n&&(r._systemUpdates=l(e[t]))})),this._stats=Object.freeze(this._stats)}return(0,r.default)(t,[{key:"containsUpdates",value:function(){var t=this;return Object.keys(this._stats).reduce((function(e,n){return e+t._stats[n]}),0)>0}},{key:"updates",value:function(){return this._stats}},{key:"containsSystemUpdates",value:function(){return this._systemUpdates>0}},{key:"systemUpdates",value:function(){return this._systemUpdates}}]),t}(),a=function(){function t(e){(0,n.default)(this,t),this.code=e.code,this.title=e.title,this.description=e.description,this.severity=e.severity,this.position=t._constructPosition(e.position)}return(0,r.default)(t,null,[{key:"_constructPosition",value:function(t){return t?{offset:l(t.offset),line:l(t.line),column:l(t.column)}:{}}}]),t}(),c=function t(e,r){(0,n.default)(this,t),e&&(this.address=e.address,this.version=e.version),this.protocolVersion=r};function l(t){return(0,ii.isInt)(t)?t.toInt():t}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t in e){var r=e[t];return(0,ii.isInt)(r)?r.toInt():r}return n}e.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"};var f=i;e.default=f})),ui=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEmptyObjectOrNull=function(t){if(null===t)return!0;if(!r(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},e.isObject=r,e.isString=o,e.assertObject=function(t,e){if(!r(t))throw new TypeError(e+" expected to be an object but was: "+JSON.stringify(t));return t},e.assertString=i,e.assertNumber=function(t,e){if("number"!=typeof t)throw new TypeError(e+" expected to be a number but was: "+JSON.stringify(t));return t},e.assertNumberOrInteger=function(t,e){if("number"!=typeof t&&!(0,ii.isInt)(t))throw new TypeError(e+" expected to be either a number or an Integer object but was: "+JSON.stringify(t));return t},e.assertValidDate=function(t,e){if("[object Date]"!==Object.prototype.toString.call(t))throw new TypeError(e+" expected to be a standard JavaScript Date but was: "+JSON.stringify(t));if(Number.isNaN(t.getTime()))throw new TypeError(e+" expected to be valid JavaScript Date but its time was NaN: "+JSON.stringify(t));return t},e.validateQueryAndParameters=function(t,e){var o=t,s=e||{};"object"===(0,n.default)(t)&&t.text&&(o=t.text,s=t.parameters||{});return function(t){if(i(t,"Cypher query"),0===t.trim().length)throw new TypeError("Cypher query is expected to be a non-empty string.")}(o),function(t){if(!r(t)){var e=t.constructor?" "+t.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(e," ").concat(t))}}(s),{validatedQuery:o,params:s}},e.ENCRYPTION_OFF=e.ENCRYPTION_ON=void 0;var n=Br(zr);e.ENCRYPTION_ON="ENCRYPTION_ON";function r(t){return"object"===(0,n.default)(t)&&!Array.isArray(t)&&null!==t}function i(t,e){if(!o(t))throw new TypeError(e+" expected to be string but was: "+JSON.stringify(t));return t}function o(t){return"[object String]"===Object.prototype.toString.call(t)}e.ENCRYPTION_OFF="ENCRYPTION_OFF"})),ai=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BOLT_PROTOCOL_V4_2=e.BOLT_PROTOCOL_V4_1=e.BOLT_PROTOCOL_V4_0=e.BOLT_PROTOCOL_V3=e.BOLT_PROTOCOL_V2=e.BOLT_PROTOCOL_V1=e.ACCESS_MODE_WRITE=e.ACCESS_MODE_READ=void 0;e.ACCESS_MODE_READ="READ";e.ACCESS_MODE_WRITE="WRITE";e.BOLT_PROTOCOL_V1=1;e.BOLT_PROTOCOL_V2=2;e.BOLT_PROTOCOL_V3=3;e.BOLT_PROTOCOL_V4_0=4;e.BOLT_PROTOCOL_V4_1=4.1;e.BOLT_PROTOCOL_V4_2=4.2})),ci=Hr((function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0})),li=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(ci),r=Br(qr),i=Br(Kr),o=Wr(ui),s=function(){function t(e){(0,r.default)(this,t),this._values=function(t){if(!t)return[];if(o.isString(t))return[t];if(Array.isArray(t)){for(var e=[],n=a(t),r=0;r<n.length;r++){var i=n[r];if(null!=i){if(!o.isString(i))throw new TypeError("Bookmark value should be a string, given: '".concat(i,"'"));e.push(i)}}return e}throw new TypeError("Bookmark should either be a string or a string array, given: '".concat(t,"'"))}(e)}return(0,i.default)(t,[{key:"isEmpty",value:function(){return 0===this._values.length}},{key:"values",value:function(){return this._values}},{key:"asBeginTransactionParameters",value:function(){return this.isEmpty()?{}:(0,n.default)({},"bookmarks",this._values)}}],[{key:"empty",value:function(){return u}}]),t}();e.default=s;var u=new s(null);function a(t){return t.reduce((function(t,e){return Array.isArray(e)?t.concat(a(e)):t.concat(e)}),[])}})),hi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_CONNECTION_HOLDER=e.default=void 0;var n=Br(Gr),r=Br(Zr),i=Br(Xr),o=Br(qr),s=Br(Kr),u=Br(li),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.mode,r=void 0===n?ai.ACCESS_MODE_WRITE:n,i=e.database,s=void 0===i?"":i,a=e.bookmark,c=e.connectionProvider;(0,o.default)(this,t),this._mode=r,this._database=s?(0,ui.assertString)(s,"database"):"",this._bookmark=a||u.default.empty(),this._connectionProvider=c,this._referenceCount=0,this._connectionPromise=Promise.resolve(null)}return(0,s.default)(t,[{key:"mode",value:function(){return this._mode}},{key:"database",value:function(){return this._database}},{key:"initializeConnection",value:function(){return 0!==this._referenceCount?(this._referenceCount++,!1):(this._connectionPromise=this._connectionProvider.acquireConnection({accessMode:this._mode,database:this._database,bookmark:this._bookmark}),this._referenceCount++,!0)}},{key:"getConnection",value:function(){return this._connectionPromise}},{key:"releaseConnection",value:function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount?this._releaseConnection():this._connectionPromise)}},{key:"close",value:function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection())}},{key:"_releaseConnection",value:function(){return this._connectionPromise=this._connectionPromise.then((function(t){return t?t.resetAndFlush().catch(c).then((function(){return t._release()})):Promise.resolve()})).catch(c),this._connectionPromise}}]),t}();function c(t){}e.default=a;var l=new(function(t){function e(){return(0,o.default)(this,e),(0,n.default)(this,(0,r.default)(e).apply(this,arguments))}return(0,i.default)(e,t),(0,s.default)(e,[{key:"initializeConnection",value:function(){return!0}},{key:"getConnection",value:function(){return Promise.reject((0,ri.newError)("This connection holder does not serve connections"))}},{key:"releaseConnection",value:function(){return Promise.resolve()}},{key:"close",value:function(){return Promise.resolve()}}]),e}(a));e.EMPTY_CONNECTION_HOLDER=l})),fi=Hr((function(t){t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zr(t)););return t},t.exports.default=t.exports,t.exports.__esModule=!0})),di=Hr((function(t){function e(n,r,i){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=e=Reflect.get,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t,e,n){var r=fi(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},t.exports.default=t.exports,t.exports.__esModule=!0),e(n,r,i||n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),pi=Hr((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(P){a=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),s=new I(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var u=x(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var a=l(t,e,n);if("normal"===a.type){if(r=n.done?p:f,a.arg===v)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=p,n.method="throw",n.arg=a.arg)}}}(t,n,s),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function y(){}function _(){}function b(){}var m={};m[o]=function(){return this};var g=Object.getPrototypeOf,w=g&&g(g(T([])));w&&w!==n&&r.call(w,o)&&(m=w);var E=b.prototype=y.prototype=Object.create(m);function k(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,s,u){var a=l(t[i],t,o);if("throw"!==a.type){var c=a.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,u)}))}u(a.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function x(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:N}}function N(){return{value:e,done:!0}}return _.prototype=E.constructor=b,b.constructor=_,_.displayName=a(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[s]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new S(c(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},k(E),a(E,u,"Generator"),E[o]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],u=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(n){Function("r","regeneratorRuntime = r")(e)}})),vi=Hr((function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0})),yi=Hr((function(t){t.exports=function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(a){u=!0,i=a}finally{try{s||null==n.return||n.return()}finally{if(u)throw i}}return o}},t.exports.default=t.exports,t.exports.__esModule=!0})),_i=Hr((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0})),bi=Hr((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return _i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0})),mi=Hr((function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0})),gi=Hr((function(t){t.exports=function(t,e){return vi(t)||yi(t,e)||bi(t,e)||mi()},t.exports.default=t.exports,t.exports.__esModule=!0})),wi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(pi),r=Br(gi),i=Br(qr),o=Br(Kr);function s(t){var e={};return t.forEach((function(t,n){e[t]=n})),e}var u=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,i.default)(this,t),this.keys=e,this.length=e.length,this._fields=n,this._fieldLookup=r||s(e)}return(0,o.default)(t,[{key:"forEach",value:function(t){var e=!0,n=!1,i=void 0;try{for(var o,s=this.entries()[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var u=(0,r.default)(o.value,2),a=u[0];t(u[1],a,this)}}catch(c){n=!0,i=c}finally{try{e||null==s.return||s.return()}finally{if(n)throw i}}}},{key:"map",value:function(t){var e=[],n=!0,i=!1,o=void 0;try{for(var s,u=this.entries()[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var a=(0,r.default)(s.value,2),c=a[0],l=a[1];e.push(t(l,c,this))}}catch(h){i=!0,o=h}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return e}},{key:"entries",value:n.default.mark((function t(){var e;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.keys.length)){t.next=7;break}return t.next=4,[this.keys[e],this._fields[e]];case 4:e++,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)}))},{key:"values",value:n.default.mark((function t(){var e;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.keys.length)){t.next=7;break}return t.next=4,this._fields[e];case 4:e++,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)}))},{key:Symbol.iterator,value:n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.values(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"toObject",value:function(){var t={},e=!0,n=!1,i=void 0;try{for(var o,s=this.entries()[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var u=(0,r.default)(o.value,2),a=u[0],c=u[1];t[a]=c}}catch(l){n=!0,i=l}finally{try{e||null==s.return||s.return()}finally{if(n)throw i}}return t}},{key:"get",value:function(t){var e;if("number"!=typeof t){if(void 0===(e=this._fieldLookup[t]))throw(0,ri.newError)("This record has no field with key '"+t+"', available key are: ["+this.keys+"].")}else e=t;if(e>this._fields.length-1||e<0)throw(0,ri.newError)("This record has no field with index '"+e+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[e]}},{key:"has",value:function(t){return"number"==typeof t?t>=0&&t<this._fields.length:void 0!==this._fieldLookup[t]}}]),t}();e.default=u})),Ei=function(t,e,n){if(t){var r=(0,ri.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw e._handleFatalError(r),n.onError(r),r}},ki=function(t,e,n){if(t&&!t.isEmpty()){var r=(0,ri.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw e._handleFatalError(r),n.onError(r),r}};var Si=Object.defineProperty({assertDatabaseIsEmpty:Ei,assertTxConfigIsEmpty:ki},"__esModule",{value:!0}),xi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(Gr),r=Br(Zr),i=Br(Xr),o=Br(qr),s=Br(Kr),u=function(){function t(e){(0,o.default)(this,t),this.position=0,this.length=e}return(0,s.default)(t,[{key:"getUInt8",value:function(t){throw new Error("Not implemented")}},{key:"getInt8",value:function(t){throw new Error("Not implemented")}},{key:"getFloat64",value:function(t){throw new Error("Not implemented")}},{key:"putUInt8",value:function(t,e){throw new Error("Not implemented")}},{key:"putInt8",value:function(t,e){throw new Error("Not implemented")}},{key:"putFloat64",value:function(t,e){throw new Error("Not implemented")}},{key:"getInt16",value:function(t){return this.getInt8(t)<<8|this.getUInt8(t+1)}},{key:"getUInt16",value:function(t){return this.getUInt8(t)<<8|this.getUInt8(t+1)}},{key:"getInt32",value:function(t){return this.getInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)}},{key:"getUInt32",value:function(t){return this.getUInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)}},{key:"getInt64",value:function(t){return this.getInt8(t)<<56|this.getUInt8(t+1)<<48|this.getUInt8(t+2)<<40|this.getUInt8(t+3)<<32|this.getUInt8(t+4)<<24|this.getUInt8(t+5)<<16|this.getUInt8(t+6)<<8|this.getUInt8(t+7)}},{key:"getSlice",value:function(t,e){return new a(t,e,this)}},{key:"putInt16",value:function(t,e){this.putInt8(t,e>>8),this.putUInt8(t+1,255&e)}},{key:"putUInt16",value:function(t,e){this.putUInt8(t,e>>8&255),this.putUInt8(t+1,255&e)}},{key:"putInt32",value:function(t,e){this.putInt8(t,e>>24),this.putUInt8(t+1,e>>16&255),this.putUInt8(t+2,e>>8&255),this.putUInt8(t+3,255&e)}},{key:"putUInt32",value:function(t,e){this.putUInt8(t,e>>24&255),this.putUInt8(t+1,e>>16&255),this.putUInt8(t+2,e>>8&255),this.putUInt8(t+3,255&e)}},{key:"putInt64",value:function(t,e){this.putInt8(t,e>>48),this.putUInt8(t+1,e>>42&255),this.putUInt8(t+2,e>>36&255),this.putUInt8(t+3,e>>30&255),this.putUInt8(t+4,e>>24&255),this.putUInt8(t+5,e>>16&255),this.putUInt8(t+6,e>>8&255),this.putUInt8(t+7,255&e)}},{key:"putBytes",value:function(t,e){for(var n=0,r=e.remaining();n<r;n++)this.putUInt8(t+n,e.readUInt8())}},{key:"readUInt8",value:function(){return this.getUInt8(this._updatePos(1))}},{key:"readInt8",value:function(){return this.getInt8(this._updatePos(1))}},{key:"readUInt16",value:function(){return this.getUInt16(this._updatePos(2))}},{key:"readUInt32",value:function(){return this.getUInt32(this._updatePos(4))}},{key:"readInt16",value:function(){return this.getInt16(this._updatePos(2))}},{key:"readInt32",value:function(){return this.getInt32(this._updatePos(4))}},{key:"readInt64",value:function(){return this.getInt32(this._updatePos(8))}},{key:"readFloat64",value:function(){return this.getFloat64(this._updatePos(8))}},{key:"writeUInt8",value:function(t){this.putUInt8(this._updatePos(1),t)}},{key:"writeInt8",value:function(t){this.putInt8(this._updatePos(1),t)}},{key:"writeInt16",value:function(t){this.putInt16(this._updatePos(2),t)}},{key:"writeInt32",value:function(t){this.putInt32(this._updatePos(4),t)}},{key:"writeUInt32",value:function(t){this.putUInt32(this._updatePos(4),t)}},{key:"writeInt64",value:function(t){this.putInt64(this._updatePos(8),t)}},{key:"writeFloat64",value:function(t){this.putFloat64(this._updatePos(8),t)}},{key:"writeBytes",value:function(t){this.putBytes(this._updatePos(t.remaining()),t)}},{key:"readSlice",value:function(t){return this.getSlice(this._updatePos(t),t)}},{key:"_updatePos",value:function(t){var e=this.position;return this.position+=t,e}},{key:"remaining",value:function(){return this.length-this.position}},{key:"hasRemaining",value:function(){return this.remaining()>0}},{key:"reset",value:function(){this.position=0}},{key:"toString",value:function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()}},{key:"toHex",value:function(){for(var t="",e=0;e<this.length;e++){var n=this.getUInt8(e).toString(16);1===n.length&&(n="0"+n),t+=n,e!==this.length-1&&(t+=" ")}return t}}]),t}();e.default=u;var a=function(t){function e(t,i,s){var u;return(0,o.default)(this,e),(u=(0,n.default)(this,(0,r.default)(e).call(this,i)))._start=t,u._inner=s,u}return(0,i.default)(e,t),(0,s.default)(e,[{key:"putUInt8",value:function(t,e){this._inner.putUInt8(this._start+t,e)}},{key:"getUInt8",value:function(t){return this._inner.getUInt8(this._start+t)}},{key:"putInt8",value:function(t,e){this._inner.putInt8(this._start+t,e)}},{key:"putFloat64",value:function(t,e){this._inner.putFloat64(this._start+t,e)}},{key:"getInt8",value:function(t){return this._inner.getInt8(this._start+t)}},{key:"getFloat64",value:function(t){return this._inner.getFloat64(this._start+t)}}]),e}(u)})),Oi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=function(t){function e(t){var r;(0,n.default)(this,e);var s=t instanceof ArrayBuffer?t:new ArrayBuffer(t);return(r=(0,i.default)(this,(0,o.default)(e).call(this,s.byteLength)))._buffer=s,r._view=new DataView(r._buffer),r}return(0,s.default)(e,t),(0,r.default)(e,[{key:"putUInt8",value:function(t,e){this._view.setUint8(t,e)}},{key:"getUInt8",value:function(t){return this._view.getUint8(t)}},{key:"putInt8",value:function(t,e){this._view.setInt8(t,e)}},{key:"getInt8",value:function(t){return this._view.getInt8(t)}},{key:"getFloat64",value:function(t){return this._view.getFloat64(t)}},{key:"putFloat64",value:function(t,e){this._view.setFloat64(t,e)}},{key:"getSlice",value:function(t,n){if(this._buffer.slice)return new e(this._buffer.slice(t,t+n));for(var r=new e(n),i=0;i<n;i++)r.putUInt8(i,this.getUInt8(i+t));return r}},{key:"readView",value:function(t){return new DataView(this._buffer,this._updatePos(t),t)}}]),e}(Br(xi).default);e.default=u})),Ci=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Oi),o=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return new WebSocket(t)};(0,n.default)(this,t),this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=e;var c=u(e,r),l=c.scheme,h=c.error;if(h)this._error=h;else{this._ws=s(l,e.address,o),this._ws.binaryType="arraybuffer";var f=this;this._ws.onclose=function(t){t&&!t.wasClean&&f._handleConnectionError(),f._open=!1},this._ws.onopen=function(){f._clearConnectionTimeout();var t=f._pending;f._pending=null;for(var e=0;e<t.length;e++)f.write(t[e])},this._ws.onmessage=function(t){if(f.onmessage){var e=new i.default(t.data);f.onmessage(e)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return(0,r.default)(t,[{key:"_handleConnectionError",value:function(){if(this._connectionTimeoutFired)return this._error=(0,ri.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&(this._error=(0,ri.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))}},{key:"write",value:function(t){if(null!==this._pending)this._pending.push(t);else{if(!(t instanceof i.default))throw(0,ri.newError)("Don't know how to send buffer: "+t);try{this._ws.send(t._buffer)}catch(e){if(1===this._ws.readyState)throw e;this._handleConnectionError()}}}},{key:"close",value:function(){var t=this;return new Promise((function(e,n){t._ws&&3!==t._ws.readyState?(t._open=!1,t._clearConnectionTimeout(),t._ws.onclose=function(){return e()},t._ws.close()):e()}))}},{key:"_setupConnectionTimeout",value:function(){var t=this,e=this._config.connectionTimeout;if(e){var n=this._ws;return setTimeout((function(){1!==n.readyState&&(t._connectionTimeoutFired=!0,n.close())}),e)}return null}},{key:"_clearConnectionTimeout",value:function(){var t=this._connectionTimeoutId;(t||0===t)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(t))}}]),t}();function s(t,e,n){var r=t+"://"+e.asHostPort();try{return n(r)}catch(i){if(function(t,e){return"SyntaxError"===t.name&&(n=e.asHostPort(),"["===n.charAt(0)&&-1!==n.indexOf("]"));var n}(i,e))return n(function(t,e){var n=e.host().replace(new RegExp(":","g"),"-").replace("%","s")+".ipv6-literal.net";return"".concat(t,"://").concat(n,":").concat(e.port())}(t,e));throw i}}function u(t,e){var n=function(t){return!0===t.encrypted||t.encrypted===ui.ENCRYPTION_ON}(t),r=function(t){return!1===t.encrypted||t.encrypted===ui.ENCRYPTION_OFF}(t),i=t.trust,o=function(t){var e="function"==typeof t?t():"";return e&&e.toLowerCase().indexOf("https")>=0}(e);return function(t,e,n){null===n||(t&&!n?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):e&&n&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(n,r,o),r?{scheme:"ws",error:null}:o?{scheme:"wss",error:null}:n?i&&"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"!==i?{scheme:null,error:(0,ri.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+i+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+ui.ENCRYPTION_OFF+'"` in the driver configuration.')}:{scheme:"wss",error:null}:{scheme:"ws",error:null}}function a(){return"undefined"!=typeof window&&window.location?window.location.protocol:null}e.default=o})),Ii=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=function(){function t(){(0,n.default)(this,t)}return(0,r.default)(t,[{key:"resolve",value:function(){throw new Error("Abstract function")}},{key:"_resolveToItself",value:function(t){return Promise.resolve([t])}}]),t}();e.default=i})),Ti=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=function(t){function e(){return(0,n.default)(this,e),(0,i.default)(this,(0,o.default)(e).apply(this,arguments))}return(0,s.default)(e,t),(0,r.default)(e,[{key:"resolve",value:function(t){return this._resolveToItself(t)}}]),e}(Br(Ii).default);e.default=u}));function Ni(t,e,n){return e<=t&&t<=n}function Pi(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Ai(t){this.tokens=[].slice.call(t)}Ai.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};function Ri(t,e){if(t)throw TypeError("Decoder error");return e||65533}function Di(t,e){if(!(this instanceof Di))return new Di(t,e);if("utf-8"!==(t=void 0!==t?String(t).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");e=Pi(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function Li(t,e){if(!(this instanceof Li))return new Li(t,e);if("utf-8"!==(t=void 0!==t?String(t).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");e=Pi(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function Mi(t){var e=t.fatal,n=0,r=0,i=0,o=128,s=191;this.handler=function(t,u){if(-1===u&&0!==i)return i=0,Ri(e);if(-1===u)return-1;if(0===i){if(Ni(u,0,127))return u;if(Ni(u,194,223))i=1,n=u-192;else if(Ni(u,224,239))224===u&&(o=160),237===u&&(s=159),i=2,n=u-224;else{if(!Ni(u,240,244))return Ri(e);240===u&&(o=144),244===u&&(s=143),i=3,n=u-240}return n<<=6*i,null}if(!Ni(u,o,s))return n=i=r=0,o=128,s=191,t.prepend(u),Ri(e);if(o=128,s=191,n+=u-128<<6*(i-(r+=1)),r!==i)return null;var a=n;return n=i=r=0,a}}function $i(t){t.fatal,this.handler=function(t,e){if(-1===e)return-1;if(Ni(e,0,127))return e;var n,r;Ni(e,128,2047)?(n=1,r=192):Ni(e,2048,65535)?(n=2,r=224):Ni(e,65536,1114111)&&(n=3,r=240);for(var i=[(e>>6*n)+r];n>0;){var o=e>>6*(n-1);i.push(128|63&o),n-=1}return i}}Di.prototype={decode:function(t,e){var n;n="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=Pi(e),this._streaming||(this._decoder=new Mi({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var r,i=new Ai(n),o=[];!i.endOfStream()&&-1!==(r=this._decoder.handler(i,i.read()));)null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));if(!this._streaming){do{if(-1===(r=this._decoder.handler(i,i.read())))break;null!==r&&(Array.isArray(r)?o.push.apply(o,r):o.push(r))}while(!i.endOfStream());this._decoder=null}return o.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(o)}},Li.prototype={encode:function(t,e){t=t?String(t):"",e=Pi(e),this._streaming||(this._encoder=new $i(this._options)),this._streaming=Boolean(e.stream);for(var n,r=[],i=new Ai(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var o=e.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=t.charCodeAt(r+1);if(56320<=s&&s<=57343){var u=1023&o,a=1023&s;i.push(65536+(u<<10)+a),r+=1}else i.push(65533)}r+=1}return i}(t));!i.endOfStream()&&-1!==(n=this._encoder.handler(i,i.read()));)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;-1!==(n=this._encoder.handler(i,i.read()));)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}};var ji=Fr(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",TextEncoder:Li,TextDecoder:Di})),Ui=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(Oi),r=new ji.TextEncoder("utf-8"),i=new ji.TextDecoder("utf-8");var o={encode:function(t){return new n.default(r.encode(t).buffer)},decode:function(t,e){if(t instanceof n.default)return i.decode(t.readView(Math.min(e,t.length-t.position)));for(var r=new n.default(e),o=0;o<e;o++)r.writeUInt8(t.readUInt8());return r.reset(),i.decode(r.readView(e))}};e.default=o})),Vi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.utf8=e.HostNameResolver=e.Channel=e.alloc=void 0;var n=Br(Oi),r=Br(Ci),i=Br(Ti),o=Br(Ui);e.alloc=function(t){return new n.default(t)};var s=r.default;e.Channel=s;var u=i.default;e.HostNameResolver=u;var a=o.default;e.utf8=a})),Fi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=function(t){function e(t){var r;(0,n.default)(this,e);for(var s=0,u=0;u<t.length;u++)s+=t[u].length;return(r=(0,i.default)(this,(0,o.default)(e).call(this,s)))._buffers=t,r}return(0,s.default)(e,t),(0,r.default)(e,[{key:"getUInt8",value:function(t){for(var e=0;e<this._buffers.length;e++){var n=this._buffers[e];if(!(t>=n.length))return n.getUInt8(t);t-=n.length}}},{key:"getInt8",value:function(t){for(var e=0;e<this._buffers.length;e++){var n=this._buffers[e];if(!(t>=n.length))return n.getInt8(t);t-=n.length}}},{key:"getFloat64",value:function(t){for(var e=(0,Vi.alloc)(8),n=0;n<8;n++)e.putUInt8(n,this.getUInt8(t+n));return e.getFloat64(0)}}]),e}(Br(xi).default);e.default=u})),Hi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Dechunker=e.Chunker=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=Br(xi),a=Br(Fi),c=function(t){function e(t,r){var s;return(0,n.default)(this,e),(s=(0,i.default)(this,(0,o.default)(e).call(this,0)))._bufferSize=r||1400,s._ch=t,s._buffer=(0,Vi.alloc)(s._bufferSize),s._currentChunkStart=0,s._chunkOpen=!1,s}return(0,s.default)(e,t),(0,r.default)(e,[{key:"putUInt8",value:function(t,e){this._ensure(1),this._buffer.writeUInt8(e)}},{key:"putInt8",value:function(t,e){this._ensure(1),this._buffer.writeInt8(e)}},{key:"putFloat64",value:function(t,e){this._ensure(8),this._buffer.writeFloat64(e)}},{key:"putBytes",value:function(t,e){for(;e.remaining()>0;)this._ensure(1),this._buffer.remaining()>e.remaining()?this._buffer.writeBytes(e):this._buffer.writeBytes(e.readSlice(this._buffer.remaining()));return this}},{key:"flush",value:function(){if(this._buffer.position>0){this._closeChunkIfOpen();var t=this._buffer;this._buffer=null,this._ch.write(t.getSlice(0,t.position)),this._buffer=(0,Vi.alloc)(this._bufferSize),this._chunkOpen=!1}return this}},{key:"messageBoundary",value:function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)}},{key:"_ensure",value:function(t){var e=this._chunkOpen?t:t+2;this._buffer.remaining()<e&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)}},{key:"_closeChunkIfOpen",value:function(){if(this._chunkOpen){var t=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,t),this._chunkOpen=!1}}}]),e}(u.default);e.Chunker=c;var l=function(){function t(){(0,n.default)(this,t),this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return(0,r.default)(t,[{key:"AWAITING_CHUNK",value:function(t){return t.remaining()>=2?this._onHeader(t.readUInt16()):(this._partialChunkHeader=t.readUInt8()<<8,this.IN_HEADER)}},{key:"IN_HEADER",value:function(t){return this._onHeader(65535&(this._partialChunkHeader|t.readUInt8()))}},{key:"IN_CHUNK",value:function(t){return this._chunkSize<=t.remaining()?(this._currentMessage.push(t.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=t.remaining(),this._currentMessage.push(t.readSlice(t.remaining())),this.IN_CHUNK)}},{key:"CLOSED",value:function(t){}},{key:"_onHeader",value:function(t){if(0===t){var e;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:e=this._currentMessage[0];break;default:e=new a.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(e),this.AWAITING_CHUNK}return this._chunkSize=t,this.IN_CHUNK}},{key:"write",value:function(t){for(;t.hasRemaining();)this._state=this._state(t)}}]),t}();e.Dechunker=l})),Bi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Structure=e.Unpacker=e.Packer=void 0;var n=Br(zr),r=Br(qr),i=Br(Kr),o=Wr(ii),s=function(){function t(e,n){(0,r.default)(this,t),this.signature=e,this.fields=n}return(0,i.default)(t,[{key:"toString",value:function(){for(var t="",e=0;e<this.fields.length;e++)e>0&&(t+=", "),t+=this.fields[e];return"Structure("+this.signature+", ["+t+"])"}}]),t}();e.Structure=s;var u=function(){function t(e){(0,r.default)(this,t),this._ch=e,this._byteArraysSupported=!0}return(0,i.default)(t,[{key:"packable",value:function(t){var e=this;if(null===t)return function(){return e._ch.writeUInt8(192)};if(!0===t)return function(){return e._ch.writeUInt8(195)};if(!1===t)return function(){return e._ch.writeUInt8(194)};if("number"==typeof t)return function(){return e.packFloat(t)};if("string"==typeof t)return function(){return e.packString(t)};if((0,o.isInt)(t))return function(){return e.packInteger(t)};if(t instanceof Int8Array)return function(){return e.packBytes(t)};if(t instanceof Array)return function(){e.packListHeader(t.length);for(var n=0;n<t.length;n++)e.packable(void 0===t[n]?null:t[n])()};if(function(t){if(null==t)return!1;return"function"==typeof t[Symbol.iterator]}(t))return this.packableIterable(t);if(t instanceof oi.Node)return this._nonPackableValue("It is not allowed to pass nodes in query parameters, given: ".concat(t));if(t instanceof oi.Relationship)return this._nonPackableValue("It is not allowed to pass relationships in query parameters, given: ".concat(t));if(t instanceof oi.Path)return this._nonPackableValue("It is not allowed to pass paths in query parameters, given: ".concat(t));if(t instanceof s){for(var r=[],i=0;i<t.fields.length;i++)r[i]=this.packable(t.fields[i]);return function(){return e.packStruct(t.signature,r)}}return"object"===(0,n.default)(t)?function(){for(var n=Object.keys(t),r=0,i=0;i<n.length;i++)void 0!==t[n[i]]&&r++;e.packMapHeader(r);for(var o=0;o<n.length;o++){var s=n[o];void 0!==t[s]&&(e.packString(s),e.packable(t[s])())}}:this._nonPackableValue("Unable to pack the given value: ".concat(t))}},{key:"packableIterable",value:function(t){try{var e=Array.from(t);return this.packable(e)}catch(n){throw(0,ri.newError)("Cannot pack given iterable, ".concat(n.message,": ").concat(t))}}},{key:"packStruct",value:function(t,e){e=e||[],this.packStructHeader(e.length,t);for(var n=0;n<e.length;n++)e[n]()}},{key:"packInteger",value:function(t){var e=t.high,n=t.low;t.greaterThanOrEqual(-16)&&t.lessThan(128)?this._ch.writeInt8(n):t.greaterThanOrEqual(-128)&&t.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(n)):t.greaterThanOrEqual(-32768)&&t.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(n)):t.greaterThanOrEqual(-2147483648)&&t.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(n)):(this._ch.writeUInt8(203),this._ch.writeInt32(e),this._ch.writeInt32(n))}},{key:"packFloat",value:function(t){this._ch.writeUInt8(193),this._ch.writeFloat64(t)}},{key:"packString",value:function(t){var e=Vi.utf8.encode(t),n=e.length;if(n<16)this._ch.writeUInt8(128|n),this._ch.writeBytes(e);else if(n<256)this._ch.writeUInt8(208),this._ch.writeUInt8(n),this._ch.writeBytes(e);else if(n<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(n/256>>0),this._ch.writeUInt8(n%256),this._ch.writeBytes(e);else{if(!(n<4294967296))throw(0,ri.newError)("UTF-8 strings of size "+n+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((n/16777216>>0)%256),this._ch.writeUInt8((n/65536>>0)%256),this._ch.writeUInt8((n/256>>0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(e)}}},{key:"packListHeader",value:function(t){if(t<16)this._ch.writeUInt8(144|t);else if(t<256)this._ch.writeUInt8(212),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else{if(!(t<4294967296))throw(0,ri.newError)("Lists of size "+t+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256)}}},{key:"packBytes",value:function(t){if(!this._byteArraysSupported)throw(0,ri.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(t.length);for(var e=0;e<t.length;e++)this._ch.writeInt8(t[e])}},{key:"packBytesHeader",value:function(t){if(t<256)this._ch.writeUInt8(204),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else{if(!(t<4294967296))throw(0,ri.newError)("Byte arrays of size "+t+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256)}}},{key:"packMapHeader",value:function(t){if(t<16)this._ch.writeUInt8(160|t);else if(t<256)this._ch.writeUInt8(216),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256);else{if(!(t<4294967296))throw(0,ri.newError)("Maps of size "+t+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256)}}},{key:"packStructHeader",value:function(t,e){if(t<16)this._ch.writeUInt8(176|t),this._ch.writeUInt8(e);else if(t<256)this._ch.writeUInt8(220),this._ch.writeUInt8(t),this._ch.writeUInt8(e);else{if(!(t<65536))throw(0,ri.newError)("Structures of size "+t+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256)}}},{key:"disableByteArrays",value:function(){this._byteArraysSupported=!1}},{key:"_nonPackableValue",value:function(t){return function(){throw(0,ri.newError)(t,ri.PROTOCOL_ERROR)}}}]),t}();e.Packer=u;var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,r.default)(this,t),this._disableLosslessIntegers=e}return(0,i.default)(t,[{key:"unpack",value:function(t){var e=t.readUInt8(),n=240&e,r=15&e;if(192===e)return null;var i=this._unpackBoolean(e);if(null!==i)return i;var s=this._unpackNumberOrInteger(e,t);if(null!==s)return this._disableLosslessIntegers&&(0,o.isInt)(s)?s.toNumberOrInfinity():s;var u=this._unpackString(e,n,r,t);if(null!==u)return u;var a=this._unpackList(e,n,r,t);if(null!==a)return a;var c=this._unpackByteArray(e,t);if(null!==c)return c;var l=this._unpackMap(e,n,r,t);if(null!==l)return l;var h=this._unpackStruct(e,n,r,t);if(null!==h)return h;throw(0,ri.newError)("Unknown packed value with marker "+e.toString(16))}},{key:"unpackInteger",value:function(t){var e=t.readUInt8(),n=this._unpackInteger(e,t);if(null==n)throw(0,ri.newError)("Unable to unpack integer value with marker "+e.toString(16));return n}},{key:"_unpackBoolean",value:function(t){return 195===t||194!==t&&null}},{key:"_unpackNumberOrInteger",value:function(t,e){return 193===t?e.readFloat64():this._unpackInteger(t,e)}},{key:"_unpackInteger",value:function(t,e){if(t>=0&&t<128)return(0,o.int)(t);if(t>=240&&t<256)return(0,o.int)(t-256);if(200===t)return(0,o.int)(e.readInt8());if(201===t)return(0,o.int)(e.readInt16());if(202===t){var n=e.readInt32();return(0,o.int)(n)}if(203===t){var r=e.readInt32(),i=e.readInt32();return new o.default(i,r)}return null}},{key:"_unpackString",value:function(t,e,n,r){return 128===e?Vi.utf8.decode(r,n):208===t?Vi.utf8.decode(r,r.readUInt8()):209===t?Vi.utf8.decode(r,r.readUInt16()):210===t?Vi.utf8.decode(r,r.readUInt32()):null}},{key:"_unpackList",value:function(t,e,n,r){return 144===e?this._unpackListWithSize(n,r):212===t?this._unpackListWithSize(r.readUInt8(),r):213===t?this._unpackListWithSize(r.readUInt16(),r):214===t?this._unpackListWithSize(r.readUInt32(),r):null}},{key:"_unpackListWithSize",value:function(t,e){for(var n=[],r=0;r<t;r++)n.push(this.unpack(e));return n}},{key:"_unpackByteArray",value:function(t,e){return 204===t?this._unpackByteArrayWithSize(e.readUInt8(),e):205===t?this._unpackByteArrayWithSize(e.readUInt16(),e):206===t?this._unpackByteArrayWithSize(e.readUInt32(),e):null}},{key:"_unpackByteArrayWithSize",value:function(t,e){for(var n=new Int8Array(t),r=0;r<t;r++)n[r]=e.readInt8();return n}},{key:"_unpackMap",value:function(t,e,n,r){return 160===e?this._unpackMapWithSize(n,r):216===t?this._unpackMapWithSize(r.readUInt8(),r):217===t?this._unpackMapWithSize(r.readUInt16(),r):218===t?this._unpackMapWithSize(r.readUInt32(),r):null}},{key:"_unpackMapWithSize",value:function(t,e){for(var n={},r=0;r<t;r++){n[this.unpack(e)]=this.unpack(e)}return n}},{key:"_unpackStruct",value:function(t,e,n,r){return 176===e?this._unpackStructWithSize(n,r):220===t?this._unpackStructWithSize(r.readUInt8(),r):221===t?this._unpackStructWithSize(r.readUInt16(),r):null}},{key:"_unpackStructWithSize",value:function(t,e){var n=e.readUInt8();return 78===n?this._unpackNode(t,e):82===n?this._unpackRelationship(t,e):114===n?this._unpackUnboundRelationship(t,e):80===n?this._unpackPath(t,e):this._unpackUnknownStruct(n,t,e)}},{key:"_unpackNode",value:function(t,e){return this._verifyStructSize("Node",3,t),new oi.Node(this.unpack(e),this.unpack(e),this.unpack(e))}},{key:"_unpackRelationship",value:function(t,e){return this._verifyStructSize("Relationship",5,t),new oi.Relationship(this.unpack(e),this.unpack(e),this.unpack(e),this.unpack(e),this.unpack(e))}},{key:"_unpackUnboundRelationship",value:function(t,e){return this._verifyStructSize("UnboundRelationship",3,t),new oi.UnboundRelationship(this.unpack(e),this.unpack(e),this.unpack(e))}},{key:"_unpackPath",value:function(t,e){this._verifyStructSize("Path",3,t);for(var n=this.unpack(e),r=this.unpack(e),i=this.unpack(e),o=[],s=n[0],u=0;u<i.length;u+=2){var a=n[i[u+1]],c=i[u],l=void 0;c>0?(l=r[c-1])instanceof oi.UnboundRelationship&&(r[c-1]=l=l.bind(s.identity,a.identity)):(l=r[-c-1])instanceof oi.UnboundRelationship&&(r[-c-1]=l=l.bind(a.identity,s.identity)),o.push(new oi.PathSegment(s,l,a)),s=a}return new oi.Path(n[0],n[n.length-1],o)}},{key:"_unpackUnknownStruct",value:function(t,e,n){for(var r=new s(t,[]),i=0;i<e;i++)r.fields.push(this.unpack(n));return r}},{key:"_verifyStructSize",value:function(t,e,n){if(e!==n)throw(0,ri.newError)("Wrong struct size for ".concat(t,", expected ").concat(e," but was ").concat(n),ri.PROTOCOL_ERROR)}}]),t}();e.Unpacker=a})),zi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ALL=void 0;var n=Br(qr),r=Br(Kr),i=-1,o=-1;e.ALL=o;var s=function(){function t(e,r,i){(0,n.default)(this,t),this.signature=e,this.fields=r,this.toString=i}return(0,r.default)(t,null,[{key:"init",value:function(e,n){return new t(1,[e,n],(function(){return"INIT ".concat(e," {...}")}))}},{key:"run",value:function(e,n){return new t(16,[e,n],(function(){return"RUN ".concat(e," ").concat(JSON.stringify(n))}))}},{key:"pullAll",value:function(){return c}},{key:"reset",value:function(){return l}},{key:"hello",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=Object.assign({user_agent:e},n);return null!=r&&(i.routing=r),new t(1,[i],(function(){return"HELLO {user_agent: '".concat(e,"', ...}")}))}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bookmark,r=e.txConfig,i=e.database,o=e.mode,s=u(n,r,i,o);return new t(17,[s],(function(){return"BEGIN ".concat(JSON.stringify(s))}))}},{key:"commit",value:function(){return h}},{key:"rollback",value:function(){return f}},{key:"runWithMetadata",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.bookmark,o=r.txConfig,s=r.database,a=r.mode,c=u(i,o,s,a);return new t(16,[e,n,c],(function(){return"RUN ".concat(e," ").concat(JSON.stringify(n)," ").concat(JSON.stringify(c))}))}},{key:"goodbye",value:function(){return d}},{key:"pull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.stmtId,r=void 0===n?i:n,s=e.n,u=void 0===s?o:s,c=a(r||i,u||o);return new t(63,[c],(function(){return"PULL ".concat(JSON.stringify(c))}))}},{key:"discard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.stmtId,r=void 0===n?i:n,s=e.n,u=void 0===s?o:s,c=a(r||i,u||o);return new t(47,[c],(function(){return"DISCARD ".concat(JSON.stringify(c))}))}}]),t}();function u(t,e,n,r){var i={};return t.isEmpty()||(i.bookmarks=t.values()),e.timeout&&(i.tx_timeout=e.timeout),e.metadata&&(i.tx_metadata=e.metadata),n&&(i.db=(0,ui.assertString)(n,"database")),r===ai.ACCESS_MODE_READ&&(i.mode="r"),i}function a(t,e){var n={n:(0,ii.int)(e)};return t!==i&&(n.qid=(0,ii.int)(t)),n}e.default=s;var c=new s(63,[],(function(){return"PULL_ALL"})),l=new s(15,[],(function(){return"RESET"})),h=new s(18,[],(function(){return"COMMIT"})),f=new s(19,[],(function(){return"ROLLBACK"})),d=new s(2,[],(function(){return"GOODBYE"}))})),Wi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Wr(ui),o=function(){function t(e){(0,n.default)(this,t),function(t){t&&i.assertObject(t,"Transaction config")}(e),this.timeout=function(t){if(i.isObject(t)&&(t.timeout||0===t.timeout)){i.assertNumberOrInteger(t.timeout,"Transaction timeout");var e=(0,ii.int)(t.timeout);if(e.isZero())throw(0,ri.newError)("Transaction timeout should not be zero");if(e.isNegative())throw(0,ri.newError)("Transaction timeout should not be negative");return e}return null}(e),this.metadata=function(t){if(i.isObject(t)&&t.metadata){var e=t.metadata;if(i.assertObject(e),0!==Object.keys(e).length)return e}return null}(e)}return(0,r.default)(t,[{key:"isEmpty",value:function(){return Object.values(this).every((function(t){return null==t}))}}],[{key:"empty",value:function(){return s}}]),t}();e.default=o;var s=new o({})})),qi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(li);Br(Ki);var o=Wr(Bi),s=Br(zi),u=Br(Wi),a=function(){function t(e,r,i){(0,n.default)(this,t),this._connection=e,this._packer=this._createPacker(r),this._unpacker=this._createUnpacker(i)}return(0,r.default)(t,[{key:"packer",value:function(){return this._packer}},{key:"unpacker",value:function(){return this._unpacker}},{key:"transformMetadata",value:function(t){return t}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userAgent,n=t.authToken,r=t.onError,i=t.onComplete,o=new Yi.LoginObserver({connection:this._connection,afterError:r,afterComplete:i});return this._connection.write(s.default.init(e,n),o,!0),o}},{key:"prepareToClose",value:function(){}},{key:"beginTransaction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.bookmark,n=t.txConfig,r=t.database,i=t.mode,o=t.beforeError,s=t.afterError,u=t.beforeComplete,a=t.afterComplete;return this.run("BEGIN",e?e.asBeginTransactionParameters():{},{bookmark:e,txConfig:n,database:r,mode:i,beforeError:o,afterError:s,beforeComplete:u,afterComplete:a,flush:!1})}},{key:"commitTransaction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.beforeError,n=t.afterError,r=t.beforeComplete,o=t.afterComplete;return this.run("COMMIT",{},{bookmark:i.default.empty(),txConfig:u.default.empty(),mode:ai.ACCESS_MODE_WRITE,beforeError:e,afterError:n,beforeComplete:r,afterComplete:o})}},{key:"rollbackTransaction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.beforeError,n=t.afterError,r=t.beforeComplete,o=t.afterComplete;return this.run("ROLLBACK",{},{bookmark:i.default.empty(),txConfig:u.default.empty(),mode:ai.ACCESS_MODE_WRITE,beforeError:e,afterError:n,beforeComplete:r,afterComplete:o})}},{key:"run",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.bookmark;var r=n.txConfig,i=n.database;n.mode;var o=n.beforeKeys,u=n.afterKeys,a=n.beforeError,c=n.afterError,l=n.beforeComplete,h=n.afterComplete,f=n.flush,d=void 0===f||f,p=new Yi.ResultStreamObserver({connection:this._connection,beforeKeys:o,afterKeys:u,beforeError:a,afterError:c,beforeComplete:l,afterComplete:h});return(0,Si.assertTxConfigIsEmpty)(r,this._connection,p),(0,Si.assertDatabaseIsEmpty)(i,this._connection,p),this._connection.write(s.default.run(t,e),p,!1),this._connection.write(s.default.pullAll(),p,d),p}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onError,n=t.onComplete,r=new Yi.ResetObserver({connection:this._connection,onError:e,onComplete:n});return this._connection.write(s.default.reset(),r,!0),r}},{key:"_createPacker",value:function(t){return new o.Packer(t)}},{key:"_createUnpacker",value:function(t){return new o.Unpacker(t)}},{key:"version",get:function(){return ai.BOLT_PROTOCOL_V1}}]),t}();e.default=a})),Ki=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr);Br(qi);var i=function(){function t(e){(0,n.default)(this,t),this._errorHandler=e}return(0,r.default)(t,[{key:"isOpen",value:function(){throw new Error("not implemented")}},{key:"protocol",value:function(){throw new Error("not implemented")}},{key:"connect",value:function(t,e){throw new Error("not implemented")}},{key:"write",value:function(t,e,n){throw new Error("not implemented")}},{key:"resetAndFlush",value:function(){throw new Error("not implemented")}},{key:"close",value:function(){throw new Error("not implemented")}},{key:"handleAndTransformError",value:function(t,e){return this._errorHandler?this._errorHandler.handleAndTransformError(t,e):t}},{key:"id",get:function(){throw new Error("not implemented")}},{key:"databaseId",get:function(){throw new Error("not implemented")},set:function(t){throw new Error("not implemented")}},{key:"address",get:function(){throw new Error("not implemented")}},{key:"version",get:function(){throw new Error("not implemented")},set:function(t){throw new Error("not implemented")}},{key:"server",get:function(){throw new Error("not implemented")}}]),t}();e.default=i})),Yi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CompletedObserver=e.FailedObserver=e.ResetObserver=e.LoginObserver=e.ResultStreamObserver=e.StreamObserver=void 0;var n=Br(Yr),r=Br(di),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=Br(qr),a=Br(Kr),c=Br(wi);Br(Ki),Br(ii);var l=function(){function t(){(0,u.default)(this,t)}return(0,a.default)(t,[{key:"onNext",value:function(t){}},{key:"onError",value:function(t){}},{key:"onCompleted",value:function(t){}}]),t}();e.StreamObserver=l;var h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.connection,s=n.reactive,a=void 0!==s&&s,c=n.moreFunction,l=n.discardFunction,h=n.fetchSize,f=void 0===h?zi.ALL:h,d=n.beforeError,p=n.afterError,v=n.beforeKeys,_=n.afterKeys,b=n.beforeComplete,m=n.afterComplete;return(0,u.default)(this,e),(t=(0,i.default)(this,(0,o.default)(e).call(this)))._connection=r,t._fieldKeys=null,t._fieldLookup=null,t._head=null,t._queuedRecords=[],t._tail=null,t._error=null,t._observers=[],t._meta={},t._beforeError=d,t._afterError=p,t._beforeKeys=v,t._afterKeys=_,t._beforeComplete=b,t._afterComplete=m,t._queryId=null,t._moreFunction=c,t._discardFunction=l,t._discard=!1,t._fetchSize=f,t._setState(a?y.READY:y.READY_STREAMING),t._setupAuoPull(f),t}return(0,s.default)(e,t),(0,a.default)(e,[{key:"onNext",value:function(t){var e=new c.default(this._fieldKeys,t,this._fieldLookup);this._observers.some((function(t){return t.onNext}))?this._observers.forEach((function(t){t.onNext&&t.onNext(e)})):(this._queuedRecords.push(e),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))}},{key:"onCompleted",value:function(t){this._state.onSuccess(this,t)}},{key:"onError",value:function(t){this._state.onError(this,t)}},{key:"cancel",value:function(){this._discard=!0}},{key:"prepareToHandleSingleResponse",value:function(){this._head=[],this._fieldKeys=[],this._setState(y.STREAMING)}},{key:"markCompleted",value:function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(y.SUCCEEDED)}},{key:"subscribe",value:function(t){if(this._error)t.onError(this._error);else{if(this._head&&t.onKeys&&t.onKeys(this._head),this._queuedRecords.length>0&&t.onNext)for(var e=0;e<this._queuedRecords.length;e++)t.onNext(this._queuedRecords[e]),this._queuedRecords.length-e-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===y.READY&&this._handleStreaming());this._tail&&t.onCompleted&&t.onCompleted(this._tail),this._observers.push(t),this._state===y.READY&&this._handleStreaming()}}},{key:"_handleHasMore",value:function(t){this._setState(y.READY),this._handleStreaming(),delete t.has_more}},{key:"_handlePullSuccess",value:function(t){var e=this;this._setState(y.SUCCEEDED);var n=Object.assign(this._connection?{server:this._connection.server}:{},this._meta,t),r=null;this._beforeComplete&&(r=this._beforeComplete(n));var i=function(){e._tail=n,e._observers.some((function(t){return t.onCompleted}))&&e._observers.forEach((function(t){t.onCompleted&&t.onCompleted(n)})),e._afterComplete&&e._afterComplete(n)};r?Promise.resolve(r).then((function(){return i()})):i()}},{key:"_handleRunSuccess",value:function(t,e){var n=this;if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},t.fields&&t.fields.length>0){this._fieldKeys=t.fields;for(var r=0;r<t.fields.length;r++)this._fieldLookup[t.fields[r]]=r;delete t.fields}t.qid&&(this._queryId=t.qid,delete t.qid),this._storeMetadataForCompletion(t);var i=null;this._beforeKeys&&(i=this._beforeKeys(this._fieldKeys));var o=function(){n._head=n._fieldKeys,n._observers.some((function(t){return t.onKeys}))&&n._observers.forEach((function(t){t.onKeys&&t.onKeys(n._fieldKeys)})),n._afterKeys&&n._afterKeys(n._fieldKeys),e()};i?Promise.resolve(i).then((function(){return o()})):o()}}},{key:"_handleError",value:function(t){var e=this;this._setState(y.FAILED),this._error=t;var n=null;this._beforeError&&(n=this._beforeError(t));var r=function(){e._observers.some((function(t){return t.onError}))&&e._observers.forEach((function(e){e.onError&&e.onError(t)})),e._afterError&&e._afterError(t)};n?Promise.resolve(n).then((function(){return r()})):r()}},{key:"_handleStreaming",value:function(){this._head&&this._observers.some((function(t){return t.onNext||t.onCompleted}))&&(this._discard?(this._discardFunction(this._connection,this._queryId,this),this._setState(y.STREAMING)):this._autoPull&&(this._moreFunction(this._connection,this._queryId,this._fetchSize,this),this._setState(y.STREAMING)))}},{key:"_storeMetadataForCompletion",value:function(t){for(var e=Object.keys(t),n=e.length,r="";n--;)r=e[n],this._meta[r]=t[r]}},{key:"_setState",value:function(t){this._state=t}},{key:"_setupAuoPull",value:function(t){this._autoPull=!0,t===zi.ALL?(this._lowRecordWatermark=Number.MAX_VALUE,this._highRecordWatermark=Number.MAX_VALUE):(this._lowRecordWatermark=.3*t,this._highRecordWatermark=.7*t)}}]),e}(l);e.ResultStreamObserver=h;var f=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.connection,s=n.beforeError,a=n.afterError,c=n.beforeComplete,l=n.afterComplete;return(0,u.default)(this,e),(t=(0,i.default)(this,(0,o.default)(e).call(this)))._connection=r,t._beforeError=s,t._afterError=a,t._beforeComplete=c,t._afterComplete=l,t}return(0,s.default)(e,t),(0,a.default)(e,[{key:"onNext",value:function(t){this.onError((0,ri.newError)("Received RECORD when initializing "+JSON.stringify(t)))}},{key:"onError",value:function(t){this._beforeError&&this._beforeError(t),this._connection._updateCurrentObserver(),this._connection._handleFatalError(t),this._afterError&&this._afterError(t)}},{key:"onCompleted",value:function(t){if(this._beforeComplete&&this._beforeComplete(t),t){var e=t.server;this._connection.version||(this._connection.version=e);var n=t.connection_id;this._connection.databaseId||(this._connection.databaseId=n)}this._afterComplete&&this._afterComplete(t)}}]),e}(l);e.LoginObserver=f;var d=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.connection,s=n.onError,a=n.onComplete;return(0,u.default)(this,e),(t=(0,i.default)(this,(0,o.default)(e).call(this)))._connection=r,t._onError=s,t._onComplete=a,t}return(0,s.default)(e,t),(0,a.default)(e,[{key:"onNext",value:function(t){this.onError((0,ri.newError)("Received RECORD when resetting: received record is: "+JSON.stringify(t),ri.PROTOCOL_ERROR))}},{key:"onError",value:function(t){t.code===ri.PROTOCOL_ERROR&&this._connection._handleProtocolError(t.message),this._onError&&this._onError(t)}},{key:"onCompleted",value:function(t){this._onComplete&&this._onComplete(t)}}]),e}(l);e.ResetObserver=d;var p=function(t){function e(t){var n,r=t.error,s=t.onError;return(0,u.default)(this,e),(n=(0,i.default)(this,(0,o.default)(e).call(this,{beforeError:s}))).onError(r),n}return(0,s.default)(e,t),e}(h);e.FailedObserver=p;var v=function(t){function e(){var t;return(0,u.default)(this,e),t=(0,i.default)(this,(0,o.default)(e).call(this)),(0,r.default)((0,o.default)(e.prototype),"markCompleted",(0,n.default)(t)).call((0,n.default)(t)),t}return(0,s.default)(e,t),e}(h);e.CompletedObserver=v;var y={READY_STREAMING:{onSuccess:function(t,e){t._handleRunSuccess(e,(function(){t._setState(y.STREAMING)}))},onError:function(t,e){t._handleError(e)},name:function(){return"READY_STREAMING"}},READY:{onSuccess:function(t,e){t._handleRunSuccess(e,(function(){return t._handleStreaming()}))},onError:function(t,e){t._handleError(e)},name:function(){return"READY"}},STREAMING:{onSuccess:function(t,e){e.has_more?t._handleHasMore(e):t._handlePullSuccess(e)},onError:function(t,e){t._handleError(e)},name:function(){return"STREAMING"}},FAILED:{onError:function(t){},name:function(){return"FAILED"}},SUCCEEDED:{name:function(){return"SUCCEEDED"}}}})),Gi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(si),o=function(t){console.log("Uncaught error when processing result: "+t)},s=function(t){};var u=function(){function t(e,r,i,o){(0,n.default)(this,t),this._stack=function(){var t=new Error("");if(t.stack)return t.stack.replace(/^Error(\n\r)*/,"");return null}(),this._streamObserverPromise=e,this._p=null,this._query=r,this._parameters=i||{},this._connectionHolder=o||hi.EMPTY_CONNECTION_HOLDER}return(0,r.default)(t,[{key:"keys",value:function(){var t=this;return new Promise((function(e,n){t._streamObserverPromise.then((function(t){return t.subscribe({onKeys:function(t){return e(t)},onError:function(t){return n(t)}})}))}))}},{key:"summary",value:function(){var t=this;return new Promise((function(e,n){t._streamObserverPromise.then((function(t){t.cancel(),t.subscribe({onCompleted:function(t){return e(t)},onError:function(t){return n(t)}})}))}))}},{key:"_getOrCreatePromise",value:function(){var t=this;return this._p||(this._p=new Promise((function(e,n){var r=[],i={onNext:function(t){r.push(t)},onCompleted:function(t){e({records:r,summary:t})},onError:function(t){n(t)}};t.subscribe(i)}))),this._p}},{key:"then",value:function(t,e){return this._getOrCreatePromise().then(t,e)}},{key:"catch",value:function(t){return this._getOrCreatePromise().catch(t)}},{key:"subscribe",value:function(t){var e=this,n=t.onCompleted||s;t.onCompleted=function(r){var o=e._connectionHolder,s=e._query,u=e._parameters;function a(e){n.call(t,new i.default(s,u,r,e))}o.getConnection().then((function(t){o.releaseConnection().then((function(){return a(void 0!==t?t.protocol().version:void 0)}))}),(function(t){a()}))};var r=t.onError||o;t.onError=function(n){e._connectionHolder.releaseConnection().then((function(){!function(t,e){e&&(t.stack=t.toString()+"\n"+e)}(n,e._stack),r.call(t,n)}))},this._streamObserverPromise.then((function(e){return e.subscribe(t)}))}},{key:"_cancel",value:function(){this._streamObserverPromise.then((function(t){return t.cancel()}))}}]),t}();e.default=u})),Zi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr);Br(li);var i=function(){function t(){(0,n.default)(this,t)}return(0,r.default)(t,[{key:"acquireConnection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};throw t.accessMode,t.database,t.bookmarks,new Error("not implemented")}},{key:"supportsMultiDb",value:function(){throw new Error("not implemented")}},{key:"supportsTransactionConfig",value:function(){throw new Error("not implemented")}},{key:"close",value:function(){throw new Error("not implemented")}}]),t}();e.default=i})),Ji=Hr((function(t){function e(t,e,n,r,i,o,s){try{var u=t[o](s),a=u.value}catch(c){return void n(c)}u.done?e(a):Promise.resolve(a).then(r,i)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var s=t.apply(n,r);function u(t){e(s,i,o,u,a,"next",t)}function a(t){e(s,i,o,u,a,"throw",t)}u(void 0)}))}},t.exports.default=t.exports,t.exports.__esModule=!0})),Xi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=[null,void 0,!0,!1,ui.ENCRYPTION_ON,ui.ENCRYPTION_OFF],i=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];e.default=function t(e,o,s){(0,n.default)(this,t),this.address=e,this.encrypted=function(t){var e=t.encrypted;if(-1===r.indexOf(e))throw(0,ri.newError)("Illegal value of the encrypted setting ".concat(e,". Expected one of ").concat(r));return e}(o),this.trust=function(t){var e=t.trust;if(-1===i.indexOf(e))throw(0,ri.newError)("Illegal value of the trust setting ".concat(e,". Expected one of ").concat(i));return e}(o),this.trustedCertificates=function(t){return t.trustedCertificates||[]}(o),this.knownHostsPath=function(t){return t.knownHosts||null}(o),this.connectionErrorCode=s||ri.SERVICE_UNAVAILABLE,this.connectionTimeout=function(t){var e=parseInt(t.connectionTimeout,10);return 0===e||e&&e<0?null:e||3e4}(o)}})),Qi=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isPoint=function(t){return!0===(t&&t.__isPoint__)},e.Point=void 0;var n=Br(qr),r=Br(Kr),i="__isPoint__",o=function(){function t(e,r,i,o){(0,n.default)(this,t),this.srid=(0,ui.assertNumberOrInteger)(e,"SRID"),this.x=(0,ui.assertNumber)(r,"X coordinate"),this.y=(0,ui.assertNumber)(i,"Y coordinate"),this.z=null==o?o:(0,ui.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return(0,r.default)(t,[{key:"toString",value:function(){return this.z||0===this.z?"Point{srid=".concat(s(this.srid),", x=").concat(s(this.x),", y=").concat(s(this.y),", z=").concat(s(this.z),"}"):"Point{srid=".concat(s(this.srid),", x=").concat(s(this.x),", y=").concat(s(this.y),"}")}}]),t}();function s(t){return Number.isInteger(t)?t+".0":t.toString()}e.Point=o,Object.defineProperty(o.prototype,i,{value:!0,enumerable:!1,configurable:!1,writable:!1})})),to=function(t,e){return(0,ii.int)(t).add(Mo(e,1e9))},eo=function(t){return $o(t,1e9)},no=function(t,e,n,r){t=(0,ii.int)(t),e=(0,ii.int)(e),n=(0,ii.int)(n),r=(0,ii.int)(r);var i=t.multiply(36e11);return(i=(i=i.add(e.multiply(6e10))).add(n.multiply(1e9))).add(r)},ro=Ao,io=function(t,e,n,r,i,o,s){var u=Ro(t,e,n),a=function(t,e,n){t=(0,ii.int)(t),e=(0,ii.int)(e),n=(0,ii.int)(n);var r=t.multiply(3600);return(r=r.add(e.multiply(60))).add(n)}(r,i,o);return u.multiply(86400).add(a)},oo=function(t,e){var n=Mo(t,86400),r=$o(t,86400).multiply(1e9).add(e),i=Do(n),o=Ao(r);return new Fo.LocalDateTime(i.year,i.month,i.day,o.hour,o.minute,o.second,o.nanosecond)},so=Ro,uo=Do,ao=function(t,e,n,r){var i=Uo(t),o=Uo(e),s=function(t,e){var n,r;t=(0,ii.int)(t),e=(0,ii.int)(e);var i=t.isNegative(),o=e.greaterThan(0);n=i&&o?t.equals(-1)?"-0":t.add(1).toString():t.toString();o&&(r=jo(i?e.negate().add(2e9).modulo(1e9):e.add(1e9).modulo(1e9)));return r?n+r:n}(n,r);return"P".concat(i,"M").concat(o,"DT").concat(s,"S")},co=function(t,e,n,r){var i=Uo(t,2),o=Uo(e,2),s=Uo(n,2),u=jo(r);return"".concat(i,":").concat(o,":").concat(s).concat(u)},lo=function(t){if((t=(0,ii.int)(t)).equals(0))return"Z";var e=t.isNegative();e&&(t=t.multiply(-1));var n=e?"-":"+",r=Uo(t.div(3600),2),i=Uo(t.div(60).modulo(60),2),o=t.modulo(60),s=o.equals(0)?null:Uo(o,2);return s?"".concat(n).concat(r,":").concat(i,":").concat(s):"".concat(n).concat(r,":").concat(i)},ho=function(t,e,n){var r=(t=(0,ii.int)(t)).isNegative();r&&(t=t.multiply(-1));var i=Uo(t,4);r&&(i="-"+i);var o=Uo(e,2),s=Uo(n,2);return"".concat(i,"-").concat(o,"-").concat(s)},fo=function(t,e){e=e||0;var n=1e6*t.getMilliseconds();return(0,ii.isInt)(e)?e.add(n):e+n},po=function(t){var e=t.getTimezoneOffset();if(0===e)return 0;return-1*e*60},vo=function(t){return Lo(t,xo,"Year")},yo=function(t){return Lo(t,Oo,"Month")},_o=function(t){return Lo(t,Co,"Day")},bo=function(t){return Lo(t,Io,"Hour")},mo=function(t){return Lo(t,To,"Minute")},go=function(t){return Lo(t,No,"Second")},wo=function(t){return Lo(t,Po,"Nanosecond")},Eo=Br(qr),ko=Br(Kr),So=function(){function t(e,n){(0,Eo.default)(this,t),this._minNumber=e,this._maxNumber=n,this._minInteger=(0,ii.int)(e),this._maxInteger=(0,ii.int)(n)}return(0,ko.default)(t,[{key:"contains",value:function(t){return(0,ii.isInt)(t)?t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger):t>=this._minNumber&&t<=this._maxNumber}},{key:"toString",value:function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")}}]),t}(),xo=new So(-999999999,999999999),Oo=new So(1,12),Co=new So(1,31),Io=new So(0,23),To=new So(0,59),No=new So(0,59),Po=new So(0,999999999);function Ao(t){var e=(t=(0,ii.int)(t)).div(36e11),n=(t=t.subtract(e.multiply(36e11))).div(6e10),r=(t=t.subtract(n.multiply(6e10))).div(1e9),i=t.subtract(r.multiply(1e9));return new Fo.LocalTime(e,n,r,i)}function Ro(t,e,n){t=(0,ii.int)(t),e=(0,ii.int)(e),n=(0,ii.int)(n);var r=t.multiply(365);return r=(r=(r=t.greaterThanOrEqual(0)?r.add(t.add(3).div(4).subtract(t.add(99).div(100)).add(t.add(399).div(400))):r.subtract(t.div(-4).subtract(t.div(-100)).add(t.div(-400)))).add(e.multiply(367).subtract(362).div(12))).add(n.subtract(1)),e.greaterThan(2)&&(r=r.subtract(1),function(t){return!!(t=(0,ii.int)(t)).modulo(4).equals(0)&&(!t.modulo(100).equals(0)||!!t.modulo(400).equals(0))}(t)||(r=r.subtract(1))),r.subtract(719528)}function Do(t){var e=(t=(0,ii.int)(t)).add(719528).subtract(60),n=(0,ii.int)(0);if(e.lessThan(0)){var r=e.add(1).div(146097).subtract(1);n=r.multiply(400),e=e.add(r.multiply(-146097))}var i=e.multiply(400).add(591).div(146097),o=e.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)));o.lessThan(0)&&(i=i.subtract(1),o=e.subtract(i.multiply(365).add(i.div(4)).subtract(i.div(100)).add(i.div(400)))),i=i.add(n);var s=o,u=s.multiply(5).add(2).div(153),a=u.add(2).modulo(12).add(1),c=s.subtract(u.multiply(306).add(5).div(10)).add(1);return i=i.add(u.div(10)),new Fo.Date(i,a,c)}function Lo(t,e,n){if((0,ui.assertNumberOrInteger)(t,n),!e.contains(t))throw(0,ri.newError)("".concat(n," is expected to be in range ").concat(e," but was: ").concat(t));return t}function Mo(t,e){t=(0,ii.int)(t),e=(0,ii.int)(e);var n=t.div(e);return t.isPositive()!==e.isPositive()&&n.multiply(e).notEquals(t)&&(n=n.subtract(1)),n}function $o(t,e){return t=(0,ii.int)(t),e=(0,ii.int)(e),t.subtract(Mo(t,e).multiply(e))}function jo(t){return(t=(0,ii.int)(t)).equals(0)?"":"."+Uo(t,9)}function Uo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=(t=(0,ii.int)(t)).isNegative();n&&(t=t.negate());var r=t.toString();if(e)for(;r.length<e;)r="0"+r;return n?"-"+r:r}var Vo=Object.defineProperty({normalizeSecondsForDuration:to,normalizeNanosecondsForDuration:eo,localTimeToNanoOfDay:no,nanoOfDayToLocalTime:ro,localDateTimeToEpochSecond:io,epochSecondAndNanoToLocalDateTime:oo,dateToEpochDay:so,epochDayToDate:uo,durationToIsoString:ao,timeToIsoString:co,timeZoneOffsetToIsoString:lo,dateToIsoString:ho,totalNanoseconds:fo,timeZoneOffsetInSeconds:po,assertValidYear:vo,assertValidMonth:yo,assertValidDay:_o,assertValidHour:bo,assertValidMinute:mo,assertValidSecond:go,assertValidNanosecond:wo},"__esModule",{value:!0}),Fo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isDuration=function(t){return m(t,u)},e.isLocalTime=function(t){return m(t,a)},e.isTime=function(t){return m(t,c)},e.isDate=function(t){return m(t,l)},e.isLocalDateTime=function(t){return m(t,h)},e.isDateTime=function(t){return m(t,f)},e.DateTime=e.LocalDateTime=e.Date=e.Time=e.LocalTime=e.Duration=void 0;var n=Br(gi),r=Br(qr),i=Br(Kr),o=Wr(Vo),s={value:!0,enumerable:!1,configurable:!1,writable:!1},u="__isDuration__",a="__isLocalTime__",c="__isTime__",l="__isDate__",h="__isLocalDateTime__",f="__isDateTime__",d=function(){function t(e,n,i,s){(0,r.default)(this,t),this.months=(0,ui.assertNumberOrInteger)(e,"Months"),this.days=(0,ui.assertNumberOrInteger)(n,"Days"),(0,ui.assertNumberOrInteger)(i,"Seconds"),(0,ui.assertNumberOrInteger)(s,"Nanoseconds"),this.seconds=o.normalizeSecondsForDuration(i,s),this.nanoseconds=o.normalizeNanosecondsForDuration(s),Object.freeze(this)}return(0,i.default)(t,[{key:"toString",value:function(){return o.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)}}]),t}();e.Duration=d,Object.defineProperty(d.prototype,u,s);var p=function(){function t(e,n,i,s){(0,r.default)(this,t),this.hour=o.assertValidHour(e),this.minute=o.assertValidMinute(n),this.second=o.assertValidSecond(i),this.nanosecond=o.assertValidNanosecond(s),Object.freeze(this)}return(0,i.default)(t,[{key:"toString",value:function(){return o.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)}}],[{key:"fromStandardDate",value:function(e,n){return w(e,n),new t(e.getHours(),e.getMinutes(),e.getSeconds(),o.totalNanoseconds(e,n))}}]),t}();e.LocalTime=p,Object.defineProperty(p.prototype,a,s);var v=function(){function t(e,n,i,s,u){(0,r.default)(this,t),this.hour=o.assertValidHour(e),this.minute=o.assertValidMinute(n),this.second=o.assertValidSecond(i),this.nanosecond=o.assertValidNanosecond(s),this.timeZoneOffsetSeconds=(0,ui.assertNumberOrInteger)(u,"Time zone offset in seconds"),Object.freeze(this)}return(0,i.default)(t,[{key:"toString",value:function(){return o.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+o.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)}}],[{key:"fromStandardDate",value:function(e,n){return w(e,n),new t(e.getHours(),e.getMinutes(),e.getSeconds(),o.totalNanoseconds(e,n),o.timeZoneOffsetInSeconds(e))}}]),t}();e.Time=v,Object.defineProperty(v.prototype,c,s);var y=function(){function t(e,n,i){(0,r.default)(this,t),this.year=o.assertValidYear(e),this.month=o.assertValidMonth(n),this.day=o.assertValidDay(i),Object.freeze(this)}return(0,i.default)(t,[{key:"toString",value:function(){return o.dateToIsoString(this.year,this.month,this.day)}}],[{key:"fromStandardDate",value:function(e){return w(e,null),new t(e.getFullYear(),e.getMonth()+1,e.getDate())}}]),t}();e.Date=y,Object.defineProperty(y.prototype,l,s);var _=function(){function t(e,n,i,s,u,a,c){(0,r.default)(this,t),this.year=o.assertValidYear(e),this.month=o.assertValidMonth(n),this.day=o.assertValidDay(i),this.hour=o.assertValidHour(s),this.minute=o.assertValidMinute(u),this.second=o.assertValidSecond(a),this.nanosecond=o.assertValidNanosecond(c),Object.freeze(this)}return(0,i.default)(t,[{key:"toString",value:function(){return g(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)}}],[{key:"fromStandardDate",value:function(e,n){return w(e,n),new t(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),o.totalNanoseconds(e,n))}}]),t}();e.LocalDateTime=_,Object.defineProperty(_.prototype,h,s);var b=function(){function t(e,i,s,u,a,c,l,h,f){(0,r.default)(this,t),this.year=o.assertValidYear(e),this.month=o.assertValidMonth(i),this.day=o.assertValidDay(s),this.hour=o.assertValidHour(u),this.minute=o.assertValidMinute(a),this.second=o.assertValidSecond(c),this.nanosecond=o.assertValidNanosecond(l);var d=function(t,e){var n=t||0===t,r=e&&""!==e;if(n&&!r)return(0,ui.assertNumberOrInteger)(t,"Time zone offset in seconds"),[t,null];if(!n&&r)return(0,ui.assertString)(e,"Time zone ID"),[null,e];throw n&&r?(0,ri.newError)("Unable to create DateTime with both time zone offset and id. Please specify either of them. Given offset: ".concat(t," and id: ").concat(e)):(0,ri.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(t," and id: ").concat(e))}(h,f),p=(0,n.default)(d,2),v=p[0],y=p[1];this.timeZoneOffsetSeconds=v,this.timeZoneId=y,Object.freeze(this)}return(0,i.default)(t,[{key:"toString",value:function(){return g(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(this.timeZoneId?"[".concat(this.timeZoneId,"]"):o.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds))}}],[{key:"fromStandardDate",value:function(e,n){return w(e,n),new t(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),o.totalNanoseconds(e,n),o.timeZoneOffsetInSeconds(e),null)}}]),t}();function m(t,e){return!0===(t&&t[e])}function g(t,e,n,r,i,s,u){return o.dateToIsoString(t,e,n)+"T"+o.timeToIsoString(r,i,s,u)}function w(t,e){(0,ui.assertValidDate)(t,"Standard date"),null!=e&&(0,ui.assertNumberOrInteger)(e,"Nanosecond")}e.DateTime=b,Object.defineProperty(b.prototype,f,s)})),Ho=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(di),u=Br(Xr),a=Wr(Bi),c=function(t){function e(){return(0,n.default)(this,e),(0,i.default)(this,(0,o.default)(e).apply(this,arguments))}return(0,u.default)(e,t),(0,r.default)(e,[{key:"disableByteArrays",value:function(){throw new Error("Bolt V2 should always support byte arrays")}},{key:"packable",value:function(t){var n=this;return(0,Qi.isPoint)(t)?function(){return r=n,void(null===(e=t).z||void 0===e.z?function(t,e){var n=[e.packable((0,ii.int)(t.srid)),e.packable(t.x),e.packable(t.y)];e.packStruct(88,n)}(e,r):function(t,e){var n=[e.packable((0,ii.int)(t.srid)),e.packable(t.x),e.packable(t.y),e.packable(t.z)];e.packStruct(89,n)}(e,r));var e,r}:(0,Fo.isDuration)(t)?function(){return e=t,r=n,i=(0,ii.int)(e.months),o=(0,ii.int)(e.days),s=(0,ii.int)(e.seconds),u=(0,ii.int)(e.nanoseconds),a=[r.packable(i),r.packable(o),r.packable(s),r.packable(u)],void r.packStruct(69,a);var e,r,i,o,s,u,a}:(0,Fo.isLocalTime)(t)?function(){return e=t,r=n,i=(0,Vo.localTimeToNanoOfDay)(e.hour,e.minute,e.second,e.nanosecond),o=[r.packable(i)],void r.packStruct(116,o);var e,r,i,o}:(0,Fo.isTime)(t)?function(){return e=t,r=n,i=(0,Vo.localTimeToNanoOfDay)(e.hour,e.minute,e.second,e.nanosecond),o=(0,ii.int)(e.timeZoneOffsetSeconds),s=[r.packable(i),r.packable(o)],void r.packStruct(84,s);var e,r,i,o,s}:(0,Fo.isDate)(t)?function(){return e=t,r=n,i=(0,Vo.dateToEpochDay)(e.year,e.month,e.day),o=[r.packable(i)],void r.packStruct(68,o);var e,r,i,o}:(0,Fo.isLocalDateTime)(t)?function(){return e=t,r=n,i=(0,Vo.localDateTimeToEpochSecond)(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),o=(0,ii.int)(e.nanosecond),s=[r.packable(i),r.packable(o)],void r.packStruct(100,s);var e,r,i,o,s}:(0,Fo.isDateTime)(t)?function(){return r=n,void((e=t).timeZoneId?function(t,e){var n=(0,Vo.localDateTimeToEpochSecond)(t.year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond),r=(0,ii.int)(t.nanosecond),i=t.timeZoneId,o=[e.packable(n),e.packable(r),e.packable(i)];e.packStruct(102,o)}(e,r):function(t,e){var n=(0,Vo.localDateTimeToEpochSecond)(t.year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond),r=(0,ii.int)(t.nanosecond),i=(0,ii.int)(t.timeZoneOffsetSeconds),o=[e.packable(n),e.packable(r),e.packable(i)];e.packStruct(70,o)}(e,r));var e,r}:(0,s.default)((0,o.default)(e.prototype),"packable",this).call(this,t)}}]),e}(a.Packer);e.Packer=c;var l=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,n.default)(this,e),(0,i.default)(this,(0,o.default)(e).call(this,t))}return(0,u.default)(e,t),(0,r.default)(e,[{key:"_unpackUnknownStruct",value:function(t,n,r){return 88===t?function(t,e,n){return t._verifyStructSize("Point2D",3,e),new Qi.Point(t.unpack(n),t.unpack(n),t.unpack(n),void 0)}(this,n,r):89===t?function(t,e,n){return t._verifyStructSize("Point3D",4,e),new Qi.Point(t.unpack(n),t.unpack(n),t.unpack(n),t.unpack(n))}(this,n,r):69===t?function(t,e,n){t._verifyStructSize("Duration",4,e);var r=t.unpack(n),i=t.unpack(n),o=t.unpack(n),s=t.unpack(n);return new Fo.Duration(r,i,o,s)}(this,n,r):116===t?function(t,e,n,r){t._verifyStructSize("LocalTime",1,e);var i=t.unpackInteger(n);return h((0,Vo.nanoOfDayToLocalTime)(i),r)}(this,n,r,this._disableLosslessIntegers):84===t?function(t,e,n,r){t._verifyStructSize("Time",2,e);var i=t.unpackInteger(n),o=t.unpackInteger(n),s=(0,Vo.nanoOfDayToLocalTime)(i);return h(new Fo.Time(s.hour,s.minute,s.second,s.nanosecond,o),r)}(this,n,r,this._disableLosslessIntegers):68===t?function(t,e,n,r){t._verifyStructSize("Date",1,e);var i=t.unpackInteger(n);return h((0,Vo.epochDayToDate)(i),r)}(this,n,r,this._disableLosslessIntegers):100===t?function(t,e,n,r){t._verifyStructSize("LocalDateTime",2,e);var i=t.unpackInteger(n),o=t.unpackInteger(n);return h((0,Vo.epochSecondAndNanoToLocalDateTime)(i,o),r)}(this,n,r,this._disableLosslessIntegers):70===t?function(t,e,n,r){t._verifyStructSize("DateTimeWithZoneOffset",3,e);var i=t.unpackInteger(n),o=t.unpackInteger(n),s=t.unpackInteger(n),u=(0,Vo.epochSecondAndNanoToLocalDateTime)(i,o);return h(new Fo.DateTime(u.year,u.month,u.day,u.hour,u.minute,u.second,u.nanosecond,s,null),r)}(this,n,r,this._disableLosslessIntegers):102===t?function(t,e,n,r){t._verifyStructSize("DateTimeWithZoneId",3,e);var i=t.unpackInteger(n),o=t.unpackInteger(n),s=t.unpack(n),u=(0,Vo.epochSecondAndNanoToLocalDateTime)(i,o);return h(new Fo.DateTime(u.year,u.month,u.day,u.hour,u.minute,u.second,u.nanosecond,null,s),r)}(this,n,r,this._disableLosslessIntegers):(0,s.default)((0,o.default)(e.prototype),"_unpackUnknownStruct",this).call(this,t,n,r,this._disableLosslessIntegers)}}]),e}(a.Unpacker);function h(t,e){if(!e)return t;var n=Object.create(Object.getPrototypeOf(t));for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];n[r]=(0,ii.isInt)(i)?i.toNumberOrInfinity():i}return Object.freeze(n),n}e.Unpacker=l})),Bo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=Br(qi),a=Wr(Ho),c=function(t){function e(){return(0,n.default)(this,e),(0,i.default)(this,(0,o.default)(e).apply(this,arguments))}return(0,s.default)(e,t),(0,r.default)(e,[{key:"_createPacker",value:function(t){return new a.Packer(t)}},{key:"_createUnpacker",value:function(t){return new a.Unpacker(t)}},{key:"version",get:function(){return ai.BOLT_PROTOCOL_V2}}]),e}(u.default);e.default=c})),zo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=Br(Bo),a=Br(zi),c=new Yi.StreamObserver,l=function(t){function e(){return(0,n.default)(this,e),(0,i.default)(this,(0,o.default)(e).apply(this,arguments))}return(0,s.default)(e,t),(0,r.default)(e,[{key:"transformMetadata",value:function(t){return"t_first"in t&&(t.result_available_after=t.t_first,delete t.t_first),"t_last"in t&&(t.result_consumed_after=t.t_last,delete t.t_last),t}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userAgent,n=t.authToken,r=t.onError,i=t.onComplete,o=new Yi.LoginObserver({connection:this._connection,afterError:r,afterComplete:i});return this._connection.write(a.default.hello(e,n),o,!0),o}},{key:"prepareToClose",value:function(){this._connection.write(a.default.goodbye(),c,!0)}},{key:"beginTransaction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.bookmark,n=t.txConfig,r=t.database,i=t.mode,o=t.beforeError,s=t.afterError,u=t.beforeComplete,c=t.afterComplete,l=new Yi.ResultStreamObserver({connection:this._connection,beforeError:o,afterError:s,beforeComplete:u,afterComplete:c});return l.prepareToHandleSingleResponse(),(0,Si.assertDatabaseIsEmpty)(r,this._connection,l),this._connection.write(a.default.begin({bookmark:e,txConfig:n,mode:i}),l,!0),l}},{key:"commitTransaction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.beforeError,n=t.afterError,r=t.beforeComplete,i=t.afterComplete,o=new Yi.ResultStreamObserver({connection:this._connection,beforeError:e,afterError:n,beforeComplete:r,afterComplete:i});return o.prepareToHandleSingleResponse(),this._connection.write(a.default.commit(),o,!0),o}},{key:"rollbackTransaction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.beforeError,n=t.afterError,r=t.beforeComplete,i=t.afterComplete,o=new Yi.ResultStreamObserver({connection:this._connection,beforeError:e,afterError:n,beforeComplete:r,afterComplete:i});return o.prepareToHandleSingleResponse(),this._connection.write(a.default.rollback(),o,!0),o}},{key:"run",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bookmark,i=n.txConfig,o=n.database,s=n.mode,u=n.beforeKeys,c=n.afterKeys,l=n.beforeError,h=n.afterError,f=n.beforeComplete,d=n.afterComplete,p=n.flush,v=void 0===p||p,y=new Yi.ResultStreamObserver({connection:this._connection,beforeKeys:u,afterKeys:c,beforeError:l,afterError:h,beforeComplete:f,afterComplete:d});return(0,Si.assertDatabaseIsEmpty)(o,this._connection,y),this._connection.write(a.default.runWithMetadata(t,e,{bookmark:r,txConfig:i,mode:s}),y,!1),this._connection.write(a.default.pullAll(),y,v),y}},{key:"version",get:function(){return ai.BOLT_PROTOCOL_V3}}]),e}(u.default);e.default=l})),Wo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=Br(zo),a=Wr(zi),c=function(t){function e(){return(0,n.default)(this,e),(0,i.default)(this,(0,o.default)(e).apply(this,arguments))}return(0,s.default)(e,t),(0,r.default)(e,[{key:"beginTransaction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.bookmark,n=t.txConfig,r=t.database,i=t.mode,o=t.beforeError,s=t.afterError,u=t.beforeComplete,c=t.afterComplete,l=new Yi.ResultStreamObserver({connection:this._connection,beforeError:o,afterError:s,beforeComplete:u,afterComplete:c});return l.prepareToHandleSingleResponse(),this._connection.write(a.default.begin({bookmark:e,txConfig:n,database:r,mode:i}),l,!0),l}},{key:"run",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bookmark,i=n.txConfig,o=n.database,s=n.mode,u=n.beforeKeys,c=n.afterKeys,l=n.beforeError,h=n.afterError,f=n.beforeComplete,d=n.afterComplete,p=n.flush,v=void 0===p||p,y=n.reactive,_=void 0!==y&&y,b=n.fetchSize,m=void 0===b?a.ALL:b,g=new Yi.ResultStreamObserver({connection:this._connection,reactive:_,fetchSize:m,moreFunction:this._requestMore,discardFunction:this._requestDiscard,beforeKeys:u,afterKeys:c,beforeError:l,afterError:h,beforeComplete:f,afterComplete:d}),w=_;return this._connection.write(a.default.runWithMetadata(t,e,{bookmark:r,txConfig:i,database:o,mode:s}),g,w&&v),_||this._connection.write(a.default.pull({n:m}),g,v),g}},{key:"_requestMore",value:function(t,e,n,r){t.write(a.default.pull({stmtId:e,n:n}),r,!0)}},{key:"_requestDiscard",value:function(t,e,n){t.write(a.default.discard({stmtId:e}),n,!0)}},{key:"_noOp",value:function(){}},{key:"version",get:function(){return ai.BOLT_PROTOCOL_V4_0}}]),e}(u.default);e.default=c})),qo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=Br(Wo),a=Wr(zi),c=function(t){function e(t,r,s,u){var a;return(0,n.default)(this,e),(a=(0,i.default)(this,(0,o.default)(e).call(this,t,r,s)))._serversideRouting=u,a}return(0,s.default)(e,t),(0,r.default)(e,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userAgent,n=t.authToken,r=t.onError,i=t.onComplete,o=new Yi.LoginObserver({connection:this._connection,afterError:r,afterComplete:i});return this._connection.write(a.default.hello(e,n,this._serversideRouting),o,!0),o}},{key:"version",get:function(){return ai.BOLT_PROTOCOL_V4_1}}]),e}(u.default);e.default=c})),Ko=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=function(t){function e(t,r,s,u){return(0,n.default)(this,e),(0,i.default)(this,(0,o.default)(e).call(this,t,r,s,u))}return(0,s.default)(e,t),(0,r.default)(e,[{key:"version",get:function(){return ai.BOLT_PROTOCOL_V4_2}}]),e}(Br(qo).default);e.default=u})),Yo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(qi),o=Br(Bo),s=Br(zo),u=Br(Wo),a=Br(qo),c=Br(Ko),l=1616949271,h=function(){function t(e,r,i,o,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;(0,n.default)(this,t),this._connection=e,this._channel=r,this._chunker=i,this._disableLosslessIntegers=o,this._log=s,this._serversideRouting=u}return(0,r.default)(t,[{key:"writeHandshakeRequest",value:function(){var t;this._channel.write(((t=(0,Vi.alloc)(20)).writeInt32(l),t.writeInt32(516),t.writeInt32(260),t.writeInt32(4),t.writeInt32(3),t.reset(),t))}},{key:"createNegotiatedProtocol",value:function(t){var e=[t.readUInt8(),t.readUInt8(),t.readUInt8(),t.readUInt8()];if(72===e[0]&&84===e[1]&&84===e[2]&&80===e[3])throw(0,ri.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");var n=Number(e[3]+"."+e[2]);return this._log.isDebugEnabled()&&this._log.debug("".concat(this._connection," negotiated protocol version ").concat(n)),this._createProtocolWithVersion(n)}},{key:"_createProtocolWithVersion",value:function(t){switch(t){case 1:return new i.default(this._connection,this._chunker,this._disableLosslessIntegers);case 2:return new o.default(this._connection,this._chunker,this._disableLosslessIntegers);case 3:return new s.default(this._connection,this._chunker,this._disableLosslessIntegers);case 4:return new u.default(this._connection,this._chunker,this._disableLosslessIntegers);case 4.1:return new a.default(this._connection,this._chunker,this._disableLosslessIntegers,this._serversideRouting);case 4.2:return new c.default(this._connection,this._chunker,this._disableLosslessIntegers,this._serversideRouting);default:throw(0,ri.newError)("Unknown Bolt protocol version: "+t)}}}]),t}();e.default=h})),Go=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(pi),r=Br(Ji),i=Br(qr),o=Br(Kr),s=Br(Gr),u=Br(Zr),a=Br(Yr),c=Br(Xr),l=Br(Xi),h=Br(Yo),f=Br(Ki);Br(qi);function d(){}var p={onNext:d,onCompleted:d,onError:d},v=0,y=function(t){function e(t,n,r,o){var c,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return(0,i.default)(this,e),(c=(0,s.default)(this,(0,u.default)(e).call(this,n)))._id=v++,c._address=r,c._server={address:r.asHostPort()},c.creationTimestamp=Date.now(),c._disableLosslessIntegers=l,c._pendingObservers=[],c._currentObserver=void 0,c._ch=t,c._dechunker=new Hi.Dechunker,c._chunker=new Hi.Chunker(t),c._log=o,c._serversideRouting=h,c._dbConnectionId=null,c._protocol=null,c._currentFailure=null,c._isBroken=!1,c._log.isDebugEnabled()&&c._log.debug("".concat((0,a.default)(c)," created towards ").concat(r)),c}var f;return(0,c.default)(e,t),(0,o.default)(e,[{key:"connect",value:function(t,e){var n=this;return this._negotiateProtocol().then((function(){return n._initialize(t,e)}))}},{key:"_negotiateProtocol",value:function(){var t=this,e=new h.default(this,this._ch,this._chunker,this._disableLosslessIntegers,this._log,this._serversideRouting);return new Promise((function(n,r){var i=function(e){t._handleFatalError(e),r(e)};t._ch.onerror=i.bind(t),t._ch._error&&i(t._ch._error),t._ch.onmessage=function(i){try{t._protocol=e.createNegotiatedProtocol(i),t._ch.onerror=t._handleFatalError.bind(t),t._ch.onmessage=function(e){return t._dechunker.write(e)},t._dechunker.onmessage=function(e){t._handleMessage(t._protocol.unpacker().unpack(e))},i.hasRemaining()&&t._dechunker.write(i.readSlice(i.remaining())),n(t)}catch(o){t._handleFatalError(o),r(o)}},e.writeHandshakeRequest()}))}},{key:"_initialize",value:function(t,e){var n=this,r=this;return new Promise((function(i,o){n._protocol.initialize({userAgent:t,authToken:e,onError:function(t){return o(t)},onComplete:function(){return i(r)}})}))}},{key:"protocol",value:function(){return this._protocol}},{key:"write",value:function(t,e,n){var r=this;this._queueObserver(e)&&(this._log.isDebugEnabled()&&this._log.debug("".concat(this," C: ").concat(t)),this._protocol.packer().packStruct(t.signature,t.fields.map((function(t){return r._packable(t)}))),this._chunker.messageBoundary(),n&&this._chunker.flush())}},{key:"_handleFatalError",value:function(t){for(this._isBroken=!0,this._error=this.handleAndTransformError(t,this._address),this._log.isErrorEnabled()&&this._log.error("".concat(this," experienced a fatal error ").concat(JSON.stringify(this._error))),this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(this._error);this._pendingObservers.length>0;){var e=this._pendingObservers.shift();e&&e.onError&&e.onError(this._error)}}},{key:"_handleMessage",value:function(t){if(!this._isBroken){var e=t.fields[0];switch(t.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: RECORD ").concat(JSON.stringify(t))),this._currentObserver.onNext(e);break;case 112:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: SUCCESS ").concat(JSON.stringify(t)));try{var n=this._protocol.transformMetadata(e);this._currentObserver.onCompleted(n)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: FAILURE ").concat(JSON.stringify(t)));try{var r=(0,ri.newError)(e.message,e.code);this._currentFailure=this.handleAndTransformError(r,this._address),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._resetOnFailure()}break;case 126:this._log.isDebugEnabled()&&this._log.debug("".concat(this," S: IGNORED ").concat(JSON.stringify(t)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,ri.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._handleFatalError((0,ri.newError)("Unknown Bolt protocol message: "+t))}}}},{key:"resetAndFlush",value:function(){var t=this;return new Promise((function(e,n){t._protocol.reset({onError:function(e){if(t._isBroken)n(e);else{var r=t._handleProtocolError("Received FAILURE as a response for RESET: "+e);n(r)}},onComplete:function(){e()}})}))}},{key:"_resetOnFailure",value:function(){var t=this;this._protocol.reset({onError:function(){t._currentFailure=null},onComplete:function(){t._currentFailure=null}})}},{key:"_queueObserver",value:function(t){return this._isBroken?(t&&t.onError&&t.onError(this._error),!1):((t=t||p).onCompleted=t.onCompleted||d,t.onError=t.onError||d,t.onNext=t.onNext||d,void 0===this._currentObserver?this._currentObserver=t:this._pendingObservers.push(t),!0)}},{key:"_updateCurrentObserver",value:function(){this._currentObserver=this._pendingObservers.shift()}},{key:"isOpen",value:function(){return!this._isBroken&&this._ch._open}},{key:"close",value:(f=(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._log.isDebugEnabled()&&this._log.debug("".concat(this," closing")),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),t.next=4,this._ch.close();case 4:this._log.isDebugEnabled()&&this._log.debug("".concat(this," closed"));case 5:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"toString",value:function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")}},{key:"_packable",value:function(t){return this._protocol.packer().packable(t)}},{key:"_handleProtocolError",value:function(t){this._currentFailure=null,this._updateCurrentObserver();var e=(0,ri.newError)(t,ri.PROTOCOL_ERROR);return this._handleFatalError(e),e}},{key:"id",get:function(){return this._id}},{key:"databaseId",get:function(){return this._dbConnectionId},set:function(t){this._dbConnectionId=t}},{key:"address",get:function(){return this._address}},{key:"version",get:function(){return this._server.version},set:function(t){this._server.version=t}},{key:"server",get:function(){return this._server}}],[{key:"create",value:function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=new l.default(t,n,r.errorCode());return new e(new Vi.Channel(s),r,t,i,n.disableLosslessIntegers,o)}}]),e}(f.default);e.default=y})),Zo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ACQUISITION_TIMEOUT=e.DEFAULT_MAX_SIZE=e.default=void 0;var n=Br(qr),r=Br(Kr),i=100;e.DEFAULT_MAX_SIZE=i;var o=6e4;e.DEFAULT_ACQUISITION_TIMEOUT=o;var s=function(){function t(e,r){(0,n.default)(this,t),this.maxSize=u(e,i),this.acquisitionTimeout=u(r,o)}return(0,r.default)(t,null,[{key:"defaultConfig",value:function(){return new t(i,o)}},{key:"fromDriverConfig",value:function(e){return new t(a(e.maxConnectionPoolSize)?e.maxConnectionPoolSize:i,a(e.connectionAcquisitionTimeout)?e.connectionAcquisitionTimeout:o)}}]),t}();function u(t,e){return 0===t||t?t:e}function a(t){return 0===t||t}e.default=s})),Jo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=Br(Gr),i=Br(Zr),o=Br(Xr),s=Br(qr),u=Br(Kr),a=Br(ci),c="error",l="warn",h="info",f="debug",d=h,p=(n={},(0,a.default)(n,c,0),(0,a.default)(n,l,1),(0,a.default)(n,h,2),(0,a.default)(n,f,3),n),v=function(){function t(e,n){(0,s.default)(this,t),this._level=e,this._loggerFunction=n}return(0,u.default)(t,[{key:"isErrorEnabled",value:function(){return _(this._level,c)}},{key:"error",value:function(t){this.isErrorEnabled()&&this._loggerFunction(c,t)}},{key:"isWarnEnabled",value:function(){return _(this._level,l)}},{key:"warn",value:function(t){this.isWarnEnabled()&&this._loggerFunction(l,t)}},{key:"isInfoEnabled",value:function(){return _(this._level,h)}},{key:"info",value:function(t){this.isInfoEnabled()&&this._loggerFunction(h,t)}},{key:"isDebugEnabled",value:function(){return _(this._level,f)}},{key:"debug",value:function(t){this.isDebugEnabled()&&this._loggerFunction(f,t)}}],[{key:"create",value:function(e){if(e&&e.logging){var n=e.logging;return new t(function(t){if(t&&t.level){var e=t.level,n=p[e];if(!n&&0!==n)throw(0,ri.newError)("Illegal logging level: ".concat(e,". Supported levels are: ").concat(Object.keys(p)));return e}return d}(n),function(t){if(t&&t.logger){var e=t.logger;if(e&&"function"==typeof e)return e}throw(0,ri.newError)("Illegal logger function: ".concat(t.logger))}(n))}return this.noOp()}},{key:"noOp",value:function(){return y}}]),t}(),y=new(function(t){function e(){return(0,s.default)(this,e),(0,r.default)(this,(0,i.default)(e).call(this,null,null))}return(0,o.default)(e,t),(0,u.default)(e,[{key:"isErrorEnabled",value:function(){return!1}},{key:"error",value:function(t){}},{key:"isWarnEnabled",value:function(){return!1}},{key:"warn",value:function(t){}},{key:"isInfoEnabled",value:function(){return!1}},{key:"info",value:function(t){}},{key:"isDebugEnabled",value:function(){return!1}},{key:"debug",value:function(t){}}]),e}(v));function _(t,e){return p[t]>=p[e]}var b=v;e.default=b})),Xo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(pi),r=Br(Ji),i=Br(qr),o=Br(Kr),s=Br(Zo),u=Br(Jo),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.create,r=void 0===n?function(t,e){return Promise.resolve()}:n,o=e.destroy,a=void 0===o?function(t){return Promise.resolve()}:o,c=e.validate,l=void 0===c?function(t){return!0}:c,h=e.installIdleObserver,f=void 0===h?function(t,e){}:h,d=e.removeIdleObserver,p=void 0===d?function(t){}:d,v=e.config,y=void 0===v?s.default.defaultConfig():v,_=e.log,b=void 0===_?u.default.noOp():_;(0,i.default)(this,t),this._create=r,this._destroy=a,this._validate=l,this._installIdleObserver=f,this._removeIdleObserver=p,this._maxSize=y.maxSize,this._acquisitionTimeout=y.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=b,this._closed=!1}var e,a,f;return(0,o.default)(t,[{key:"acquire",value:function(t){var e=this;return this._acquire(t).then((function(n){var r=t.asKey();if(n)return n;var i=e._acquireRequests;return i[r]||(i[r]=[]),new Promise((function(n,o){var s,u=setTimeout((function(){var n=i[r];if(n&&(i[r]=n.filter((function(t){return t!==s}))),s.isCompleted());else{var o=e.activeResourceCount(t),u=e.has(t)?e._pools[r].length:0;s.reject((0,ri.newError)("Connection acquisition timed out in ".concat(e._acquisitionTimeout," ms. Poos status: Active conn count = ").concat(o,", Idle conn count = ").concat(u,".")))}}),e._acquisitionTimeout);s=new h(r,n,o,u,e._log),i[r].push(s)}))}))}},{key:"purge",value:function(t){return this._purgeKey(t.asKey())}},{key:"close",value:function(){var t=this;return this._closed=!0,Promise.all(Object.keys(this._pools).map((function(e){return t._purgeKey(e)})))}},{key:"keepAll",value:function(t){var e=this,n=t.map((function(t){return t.asKey()})),r=Object.keys(this._pools).filter((function(t){return-1===n.indexOf(t)}));return Promise.all(r.map((function(t){return e._purgeKey(t)})))}},{key:"has",value:function(t){return t.asKey()in this._pools}},{key:"activeResourceCount",value:function(t){return this._activeResourceCounts[t.asKey()]||0}},{key:"_acquire",value:(f=(0,r.default)(n.default.mark((function t(e){var r,i,o,s;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._closed){t.next=2;break}throw(0,ri.newError)("Pool is closed, it is no more able to serve requests.");case 2:r=e.asKey(),(i=this._pools[r])||(i=[],this._pools[r]=i,this._pendingCreates[r]=0);case 5:if(!i.length){t.next=18;break}if(o=i.pop(),!this._validate(o)){t.next=14;break}return this._removeIdleObserver&&this._removeIdleObserver(o),c(r,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(o," acquired from the pool ").concat(r)),t.abrupt("return",o);case 14:return t.next=16,this._destroy(o);case 16:t.next=5;break;case 18:if(!(this._maxSize>0)){t.next=22;break}if(!(this.activeResourceCount(e)+this._pendingCreates[r]>=this._maxSize)){t.next=22;break}return t.abrupt("return",null);case 22:return this._pendingCreates[r]=this._pendingCreates[r]+1,t.prev=23,t.next=26,this._create(e,this._release);case 26:s=t.sent,c(r,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(s," created for the pool ").concat(r));case 29:return t.prev=29,this._pendingCreates[r]=this._pendingCreates[r]-1,t.finish(29);case 32:return t.abrupt("return",s);case 33:case"end":return t.stop()}}),t,this,[[23,,29,32]])}))),function(t){return f.apply(this,arguments)})},{key:"_release",value:(a=(0,r.default)(n.default.mark((function t(e,r){var i,o,s=this;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.asKey(),!(o=this._pools[i])){t.next=14;break}if(this._validate(r)){t.next=9;break}return this._log.isDebugEnabled()&&this._log.debug("".concat(r," destroyed and can't be released to the pool ").concat(i," because it is not functional")),t.next=7,this._destroy(r);case 7:t.next=12;break;case 9:this._installIdleObserver&&this._installIdleObserver(r,{onError:function(t){s._log.debug("Idle connection ".concat(r," destroyed because of error: ").concat(t));var e=s._pools[i];e&&(s._pools[i]=e.filter((function(t){return t!==r}))),s._destroy(r).catch((function(){}))}}),o.push(r),this._log.isDebugEnabled()&&this._log.debug("".concat(r," released to the pool ").concat(i));case 12:t.next=17;break;case 14:return this._log.isDebugEnabled()&&this._log.debug("".concat(r," destroyed and can't be released to the pool ").concat(i," because pool has been purged")),t.next=17,this._destroy(r);case 17:l(i,this._activeResourceCounts),this._processPendingAcquireRequests(e);case 19:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"_purgeKey",value:(e=(0,r.default)(n.default.mark((function t(e){var r,i;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this._pools[e]||[];case 1:if(!r.length){t.next=8;break}return i=r.pop(),this._removeIdleObserver&&this._removeIdleObserver(i),t.next=6,this._destroy(i);case 6:t.next=1;break;case 8:delete this._pools[e];case 9:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"_processPendingAcquireRequests",value:function(t){var e=this,n=t.asKey(),r=this._acquireRequests[n];if(r){var i=r.shift();i?this._acquire(t).catch((function(t){return i.reject(t),null})).then((function(n){n&&(i.isCompleted()?e._release(t,n):i.resolve(n))})):delete this._acquireRequests[n]}}}]),t}();function c(t,e){var n=e[t]||0;e[t]=n+1}function l(t,e){var n=(e[t]||0)-1;n>0?e[t]=n:delete e[t]}var h=function(){function t(e,n,r,o,s){(0,i.default)(this,t),this._key=e,this._resolve=n,this._reject=r,this._timeoutId=o,this._log=s,this._completed=!1}return(0,o.default)(t,[{key:"isCompleted",value:function(){return this._completed}},{key:"resolve",value:function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(t," acquired from the pool ").concat(this._key)),this._resolve(t))}},{key:"reject",value:function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(t))}}]),t}(),f=a;e.default=f})),Qo=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=function(){function t(e,r,i){(0,n.default)(this,t),this._errorCode=e,this._handleUnavailability=r||o,this._handleWriteFailure=i||o}return(0,r.default)(t,[{key:"errorCode",value:function(){return this._errorCode}},{key:"handleAndTransformError",value:function(t,e){return function(t){if(t)return t.code===ri.SESSION_EXPIRED||t.code===ri.SERVICE_UNAVAILABLE||"Neo.TransientError.General.DatabaseUnavailable"===t.code;return!1}(t)?this._handleUnavailability(t,e):function(t){if(t)return"Neo.ClientError.Cluster.NotALeader"===t.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===t.code;return!1}(t)?this._handleWriteFailure(t,e):t}}]),t}();function o(t){return t}e.default=i})),ts=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(pi),r=Br(Ji),i=Br(qr),o=Br(Kr),s=Br(Gr),u=Br(Zr),a=Br(Yr),c=Br(Xr),l=Br(Go),h=Br(Xo),f=Br(Zo),d=Br(Qo),p=function(t){function e(t){var n,r=t.id,o=t.config,c=t.log,d=t.userAgent,p=t.authToken,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,i.default)(this,e),(n=(0,s.default)(this,(0,u.default)(e).call(this)))._id=r,n._config=o,n._log=c,n._userAgent=d,n._authToken=p,n._createChannelConnection=v||function(t){return l.default.create(t,n._config,n._createConnectionErrorHandler(),n._log)},n._connectionPool=new h.default({create:n._createConnection.bind((0,a.default)(n)),destroy:n._destroyConnection.bind((0,a.default)(n)),validate:n._validateConnection.bind((0,a.default)(n)),installIdleObserver:e._installIdleObserverOnConnection.bind((0,a.default)(n)),removeIdleObserver:e._removeIdleObserverOnConnection.bind((0,a.default)(n)),config:f.default.fromDriverConfig(o),log:n._log}),n._openConnections={},n}var p;return(0,c.default)(e,t),(0,o.default)(e,[{key:"_createConnectionErrorHandler",value:function(){return new d.default(ri.SERVICE_UNAVAILABLE)}},{key:"_createConnection",value:function(t,e){var n=this,r=this._createChannelConnection(t);return r._release=function(){return e(t,r)},this._openConnections[r.id]=r,r.connect(this._userAgent,this._authToken).catch((function(t){throw n._destroyConnection(r),t}))}},{key:"_validateConnection",value:function(t){if(!t.isOpen())return!1;var e=this._config.maxConnectionLifetime;return Date.now()-t.creationTimestamp<=e}},{key:"_destroyConnection",value:function(t){return delete this._openConnections[t.id],t.close()}},{key:"close",value:(p=(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connectionPool.close();case 2:return t.next=4,Promise.all(Object.values(this._openConnections).map((function(t){return t.close()})));case 4:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})}],[{key:"_installIdleObserverOnConnection",value:function(t,e){t._queueObserver(e)}},{key:"_removeIdleObserverOnConnection",value:function(t){t._updateCurrentObserver()}}]),e}(Br(Zi).default);e.default=p})),es=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=function(t){function e(t,r){var s;return(0,n.default)(this,e),s=(0,i.default)(this,(0,o.default)(e).call(this,r)),r&&(s._originalErrorHandler=t._errorHandler,t._errorHandler=s._errorHandler),s._delegate=t,s}return(0,s.default)(e,t),(0,r.default)(e,[{key:"isOpen",value:function(){return this._delegate.isOpen()}},{key:"protocol",value:function(){return this._delegate.protocol()}},{key:"connect",value:function(t,e){return this._delegate.connect(t,e)}},{key:"write",value:function(t,e,n){return this._delegate.write(t,e,n)}},{key:"resetAndFlush",value:function(){return this._delegate.resetAndFlush()}},{key:"close",value:function(){return this._delegate.close()}},{key:"_release",value:function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate._release()}},{key:"id",get:function(){return this._delegate.id}},{key:"databaseId",get:function(){return this._delegate.databaseId},set:function(t){this._delegate.databaseId=t}},{key:"server",get:function(){return this._delegate.server}},{key:"address",get:function(){return this._delegate.address}},{key:"version",get:function(){return this._delegate.version},set:function(t){this._delegate.version=t}}]),e}(Br(Ki).default);e.default=u})),ns=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(pi),r=Br(Ji),i=Br(qr),o=Br(Kr),s=Br(Gr),u=Br(Zr),a=Br(Xr),c=Br(ts),l=Br(es),h=Br(Go),f=function(t){function e(t){var n,r=t.id,o=t.config,a=t.log,c=t.address,l=t.userAgent,h=t.authToken;return(0,i.default)(this,e),(n=(0,s.default)(this,(0,u.default)(e).call(this,{id:r,config:o,log:a,userAgent:l,authToken:h})))._address=c,n}var c,f,d;return(0,a.default)(e,t),(0,o.default)(e,[{key:"acquireConnection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.accessMode,t.database,t.bookmarks,this._connectionPool.acquire(this._address).then((function(t){return new l.default(t,null)}))}},{key:"_hasProtocolVersion",value:(d=(0,r.default)(n.default.mark((function t(e){var r,i;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h.default.create(this._address,this._config,this._createConnectionErrorHandler(),this._log),t.prev=1,t.next=4,r._negotiateProtocol();case 4:if(!(i=r.protocol())){t.next=7;break}return t.abrupt("return",e(i.version));case 7:return t.abrupt("return",!1);case 8:return t.prev=8,t.next=11,r.close();case 11:return t.finish(8);case 12:case"end":return t.stop()}}),t,this,[[1,,8,12]])}))),function(t){return d.apply(this,arguments)})},{key:"supportsMultiDb",value:(f=(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._hasProtocolVersion((function(t){return t>=ai.BOLT_PROTOCOL_V4_0}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"supportsTransactionConfig",value:(c=(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._hasProtocolVersion((function(t){return t>=ai.BOLT_PROTOCOL_V3}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})}]),e}(c.default);e.default=f})),rs=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(hi),o=function(){function t(e){(0,n.default)(this,t),this._connectionProvider=e}return(0,r.default)(t,[{key:"verify",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.database,n=void 0===e?"":e;return s(this._connectionProvider,n)}}]),t}();function s(t,e){var n=new i.default({mode:Uh.READ,database:e,connectionProvider:t});return n.initializeConnection(),n.getConnection().then((function(t){return n.close().then((function(){return t.server}))})).catch((function(t){return n.close().catch((function(t){})).then((function(){return Promise.reject(t)}))}))}e.default=o})),is=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=function(t){function e(t){var r;return(0,n.default)(this,e),(r=(0,i.default)(this,(0,o.default)(e).call(this,{mode:t._mode,database:t._database,bookmark:t._bookmark,connectionProvider:t._connectionProvider})))._connectionHolder=t,r}return(0,s.default)(e,t),(0,r.default)(e,[{key:"initializeConnection",value:function(){return 0!==this._connectionHolder._referenceCount}},{key:"getConnection",value:function(){return this._connectionHolder.getConnection()}},{key:"releaseConnection",value:function(){return this._connectionHolder.getConnection().catch((function(){return Promise.resolve()}))}},{key:"close",value:function(){return this._connectionHolder.getConnection().catch((function(){return function(){return Promise.resolve()}}))}}]),e}(Br(hi).default);e.default=u})),os=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gi),o=Wr(hi),s=Br(is),u=Br(li),a=Br(Wi),c=function(){function t(e){var r=e.connectionHolder,i=e.onClose,o=e.onBookmark,s=e.onConnection,u=e.reactive,a=e.fetchSize;(0,n.default)(this,t),this._connectionHolder=r,this._reactive=u,this._state=l.ACTIVE,this._onClose=i,this._onBookmark=o,this._onConnection=s,this._onError=this._onErrorCallback.bind(this),this._onComplete=this._onCompleteCallback.bind(this),this._fetchSize=a,this._results=[]}return(0,r.default)(t,[{key:"_begin",value:function(t,e){var n=this;this._connectionHolder.getConnection().then((function(r){return n._onConnection(),r.protocol().beginTransaction({bookmark:t,txConfig:e,mode:n._connectionHolder.mode(),database:n._connectionHolder.database(),beforeError:n._onError,afterComplete:n._onComplete})})).catch((function(t){return n._onError(t)}))}},{key:"run",value:function(t,e){var n=(0,ui.validateQueryAndParameters)(t,e),r=n.validatedQuery,i=n.params,o=this._state.run(r,i,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize});return this._results.push(o),o}},{key:"commit",value:function(){var t=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results});return this._state=t.state,this._onClose(),new Promise((function(e,n){t.result.subscribe({onCompleted:function(){return e()},onError:function(t){return n(t)}})}))}},{key:"rollback",value:function(){var t=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results});return this._state=t.state,this._onClose(),new Promise((function(e,n){t.result.subscribe({onCompleted:function(){return e()},onError:function(t){return n(t)}})}))}},{key:"isOpen",value:function(){return this._state===l.ACTIVE}},{key:"_onErrorCallback",value:function(t){return this._state=l.FAILED,this._onClose(),this._connectionHolder.releaseConnection()}},{key:"_onCompleteCallback",value:function(t){this._onBookmark(new u.default(t.bookmark))}}]),t}(),l={ACTIVE:{commit:function(t){return{result:h(!0,t.connectionHolder,t.onError,t.onComplete,t.onConnection,t.pendingResults),state:l.SUCCEEDED}},rollback:function(t){return{result:h(!1,t.connectionHolder,t.onError,t.onComplete,t.onConnection,t.pendingResults),state:l.ROLLED_BACK}},run:function(t,e,n){var r=n.connectionHolder,i=n.onError,o=n.onComplete,s=n.onConnection,c=n.reactive,l=n.fetchSize;return f(r.getConnection().then((function(n){return s(),n.protocol().run(t,e,{bookmark:u.default.empty(),txConfig:a.default.empty(),beforeError:i,afterComplete:o,reactive:c,fetchSize:l})})).catch((function(t){return new Yi.FailedObserver({error:t,onError:i})})),t,e,r)}},FAILED:{commit:function(t){var e=t.connectionHolder,n=t.onError;return t.onComplete,{result:f(new Yi.FailedObserver({error:(0,ri.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:n}),"COMMIT",{},e),state:l.FAILED}},rollback:function(t){var e=t.connectionHolder;return t.onError,t.onComplete,{result:f(new Yi.CompletedObserver,"ROLLBACK",{},e),state:l.FAILED}},run:function(t,e,n){var r=n.connectionHolder,i=n.onError;return n.onComplete,f(new Yi.FailedObserver({error:(0,ri.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:i}),t,e,r)}},SUCCEEDED:{commit:function(t){var e=t.connectionHolder,n=t.onError;return t.onComplete,{result:f(new Yi.FailedObserver({error:(0,ri.newError)("Cannot commit this transaction, because it has already been committed."),onError:n}),"COMMIT",{}),state:l.SUCCEEDED,connectionHolder:e}},rollback:function(t){var e=t.connectionHolder,n=t.onError;return t.onComplete,{result:f(new Yi.FailedObserver({error:(0,ri.newError)("Cannot rollback this transaction, because it has already been committed."),onError:n}),"ROLLBACK",{}),state:l.SUCCEEDED,connectionHolder:e}},run:function(t,e,n){var r=n.connectionHolder,i=n.onError;return n.onComplete,f(new Yi.FailedObserver({error:(0,ri.newError)("Cannot run query in this transaction, because it has already been committed."),onError:i}),t,e,r)}},ROLLED_BACK:{commit:function(t){var e=t.connectionHolder,n=t.onError;return t.onComplete,{result:f(new Yi.FailedObserver({error:(0,ri.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:n}),"COMMIT",{},e),state:l.ROLLED_BACK}},rollback:function(t){var e=t.connectionHolder;return t.onError,t.onComplete,{result:f(new Yi.FailedObserver({error:(0,ri.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},e),state:l.ROLLED_BACK}},run:function(t,e,n){var r=n.connectionHolder,i=n.onError;return n.onComplete,f(new Yi.FailedObserver({error:(0,ri.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:i}),t,e,r)}}};function h(t,e,n,r,o,s){var u=e.getConnection().then((function(e){return o(),s.forEach((function(t){return t._cancel()})),Promise.all(s).then((function(i){return t?e.protocol().commitTransaction({beforeError:n,afterComplete:r}):e.protocol().rollbackTransaction({beforeError:n,afterComplete:r})}))})).catch((function(t){return new Yi.FailedObserver({error:t,onError:n})}));return new i.default(u,t?"COMMIT":"ROLLBACK",{},e)}function f(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.EMPTY_CONNECTION_HOLDER;return new i.default(Promise.resolve(t),e,n,new s.default(r||o.EMPTY_CONNECTION_HOLDER))}var d=c;e.default=d})),ss=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=function(){function t(e,r,i,s){(0,n.default)(this,t),this._maxRetryTimeMs=o(e,3e4),this._initialRetryDelayMs=o(r,1e3),this._multiplier=o(i,2),this._jitterFactor=o(s,.2),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}return(0,r.default)(t,[{key:"execute",value:function(t,e){var n=this;return new Promise((function(r,i){n._executeTransactionInsidePromise(t,e,r,i)})).catch((function(r){var i=Date.now(),o=n._initialRetryDelayMs;return n._retryTransactionPromise(t,e,r,i,o)}))}},{key:"close",value:function(){this._inFlightTimeoutIds.forEach((function(t){return clearTimeout(t)})),this._inFlightTimeoutIds=[]}},{key:"_retryTransactionPromise",value:function(e,n,r,i,o){var s=this;return Date.now()-i>this._maxRetryTimeMs||!t._canRetryOn(r)?Promise.reject(r):new Promise((function(t,r){var i=s._computeDelayWithJitter(o),u=setTimeout((function(){s._inFlightTimeoutIds=s._inFlightTimeoutIds.filter((function(t){return t!==u})),s._executeTransactionInsidePromise(e,n,t,r)}),i);s._inFlightTimeoutIds.push(u)})).catch((function(t){var r=o*s._multiplier;return s._retryTransactionPromise(e,n,t,i,r)}))}},{key:"_executeTransactionInsidePromise",value:function(t,e,n,r){var i,o=this;try{i=t()}catch(s){return void r(s)}this._safeExecuteTransactionWork(i,e).then((function(t){return o._handleTransactionWorkSuccess(t,i,n,r)})).catch((function(t){return o._handleTransactionWorkFailure(t,i,r)}))}},{key:"_safeExecuteTransactionWork",value:function(t,e){try{var n=e(t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}}},{key:"_handleTransactionWorkSuccess",value:function(t,e,n,r){e.isOpen()?e.commit().then((function(){n(t)})).catch((function(t){r(t)})):n(t)}},{key:"_handleTransactionWorkFailure",value:function(t,e,n){e.isOpen()?e.rollback().catch((function(t){})).then((function(){return n(t)})):n(t)}},{key:"_computeDelayWithJitter",value:function(t){var e=t*this._jitterFactor,n=t-e,r=t+e;return Math.random()*(r-n)+n}},{key:"_verifyAfterConstruction",value:function(){if(this._maxRetryTimeMs<0)throw(0,ri.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs);if(this._initialRetryDelayMs<0)throw(0,ri.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs);if(this._multiplier<1)throw(0,ri.newError)("Multiplier should be >= 1.0: "+this._multiplier);if(this._jitterFactor<0||this._jitterFactor>1)throw(0,ri.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor)}}],[{key:"_canRetryOn",value:function(t){return t&&t instanceof ri.Neo4jError&&t.code&&(t.code===ri.SERVICE_UNAVAILABLE||t.code===ri.SESSION_EXPIRED||this._isTransientError(t))}},{key:"_isTransientError",value:function(t){var e=t.code;return e.indexOf("TransientError")>=0&&("Neo.TransientError.Transaction.Terminated"!==e&&"Neo.TransientError.Transaction.LockClientStopped"!==e)}}]),t}();function o(t,e){return t||0===t?t:e}e.default=i})),us=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(pi),r=Br(Ji),i=Br(qr),o=Br(Kr),s=Br(Gi),u=Br(os),a=Br(hi),c=Br(Uh),l=Br(ss),h=Br(li),f=Br(Wi);var d=function(){function t(e){var n=e.mode,r=e.connectionProvider,o=e.bookmark,s=e.database,u=e.config,c=e.reactive,h=e.fetchSize;(0,i.default)(this,t),this._mode=n,this._database=s,this._reactive=c,this._fetchSize=h,this._readConnectionHolder=new a.default({mode:ai.ACCESS_MODE_READ,database:s,bookmark:o,connectionProvider:r}),this._writeConnectionHolder=new a.default({mode:ai.ACCESS_MODE_WRITE,database:s,bookmark:o,connectionProvider:r}),this._open=!0,this._hasTx=!1,this._lastBookmark=o,this._transactionExecutor=function(t){var e=t&&t.maxTransactionRetryTime?t.maxTransactionRetryTime:null;return new l.default(e)}(u),this._onComplete=this._onCompleteCallback.bind(this)}var e;return(0,o.default)(t,[{key:"run",value:function(t,e,n){var r=this,i=(0,ui.validateQueryAndParameters)(t,e),o=i.validatedQuery,s=i.params,u=n?new f.default(n):f.default.empty();return this._run(o,s,(function(t){return r._assertSessionIsOpen(),t.protocol().run(o,s,{bookmark:r._lastBookmark,txConfig:u,mode:r._mode,database:r._database,afterComplete:r._onComplete,reactive:r._reactive,fetchSize:r._fetchSize})}))}},{key:"_run",value:function(t,e,n){var r,i=this._connectionHolderWithMode(this._mode);return r=this._open?!this._hasTx&&i.initializeConnection()?i.getConnection().then((function(t){return n(t)})).catch((function(t){return Promise.resolve(new Yi.FailedObserver({error:t}))})):Promise.resolve(new Yi.FailedObserver({error:(0,ri.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")})):Promise.resolve(new Yi.FailedObserver({error:(0,ri.newError)("Cannot run query in a closed session.")})),new s.default(r,t,e,i)}},{key:"beginTransaction",value:function(t){var e=t,n=f.default.empty();return e&&(n=new f.default(e)),this._beginTransaction(this._mode,n)}},{key:"_beginTransaction",value:function(t,e){if(!this._open)throw(0,ri.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,ri.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var n=c.default._validateSessionMode(t),r=this._connectionHolderWithMode(n);r.initializeConnection(),this._hasTx=!0;var i=new u.default({connectionHolder:r,onClose:this._transactionClosed.bind(this),onBookmark:this._updateBookmark.bind(this),onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize});return i._begin(this._lastBookmark,e),i}},{key:"_assertSessionIsOpen",value:function(){if(!this._open)throw(0,ri.newError)("You cannot run more transactions on a closed session.")}},{key:"_transactionClosed",value:function(){this._hasTx=!1}},{key:"lastBookmark",value:function(){return this._lastBookmark.values()}},{key:"readTransaction",value:function(t,e){var n=new f.default(e);return this._runTransaction(ai.ACCESS_MODE_READ,n,t)}},{key:"writeTransaction",value:function(t,e){var n=new f.default(e);return this._runTransaction(ai.ACCESS_MODE_WRITE,n,t)}},{key:"_runTransaction",value:function(t,e,n){var r=this;return this._transactionExecutor.execute((function(){return r._beginTransaction(t,e)}),n)}},{key:"_updateBookmark",value:function(t){t&&!t.isEmpty()&&(this._lastBookmark=t)}},{key:"close",value:(e=(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._open){t.next=7;break}return this._open=!1,this._transactionExecutor.close(),t.next=5,this._readConnectionHolder.close();case 5:return t.next=7,this._writeConnectionHolder.close();case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"_connectionHolderWithMode",value:function(t){if(t===ai.ACCESS_MODE_READ)return this._readConnectionHolder;if(t===ai.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,ri.newError)("Unknown access mode: "+t)}},{key:"_onCompleteCallback",value:function(t){this._updateBookmark(new h.default(t.bookmark))}}]),t}();e.default=d})),as=function(t,e){return(as=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function cs(t,e){function n(){this.constructor=t}as(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function ls(t){return"function"==typeof t}var hs=!1,fs={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;hs=t},get useDeprecatedSynchronousErrorHandling(){return hs}};function ds(t){setTimeout((function(){throw t}),0)}var ps={closed:!0,next:function(t){},error:function(t){if(fs.useDeprecatedSynchronousErrorHandling)throw t;ds(t)},complete:function(){}},vs=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function ys(t){return null!==t&&"object"==typeof t}var _s=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),bs=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,o=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var u=0;u<r.length;++u){r[u].remove(this)}if(ls(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(l){e=l instanceof _s?ms(l.errors):[l]}}if(vs(s)){u=-1;for(var a=s.length;++u<a;){var c=s[u];if(ys(c))try{c.unsubscribe()}catch(l){e=e||[],l instanceof _s?e=e.concat(ms(l.errors)):e.push(l)}}}if(e)throw new _s(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function ms(t){return t.reduce((function(t,e){return t.concat(e instanceof _s?e.errors:e)}),[])}var gs=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ws=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=ps;break;case 1:if(!n){o.destination=ps;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new Es(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new Es(o,n,r,i)}return o}return cs(e,t),e.prototype[gs]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(bs),Es=function(t){function e(e,n,r,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var u=s;return ls(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==ps&&(ls((u=Object.create(n)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=o,s._error=r,s._complete=i,s}return cs(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;fs.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=fs.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):ds(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;ds(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};fs.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),fs.useDeprecatedSynchronousErrorHandling)throw n;ds(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!fs.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return fs.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(ds(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(ws);function ks(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof ws?r:null}return!0}var Ss=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function xs(t){return t}function Os(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Cs(t)}function Cs(t){return 0===t.length?xs:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Is=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof ws)return t;if(t[gs])return t[gs]()}return t||e||n?new ws(t,e,n):new ws(ps)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||fs.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),fs.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){fs.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),ks(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Ts(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[Ss]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Cs(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Ts(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function Ts(t){if(t||(t=fs.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Ns=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Ps=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return cs(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(bs),As=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return cs(e,t),e}(ws),Rs=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return cs(e,t),e.prototype[gs]=function(){return new As(this)},e.prototype.lift=function(t){var e=new Ds(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Ns;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new Ns;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Ns;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Ns;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Ns;return this.hasError?(t.error(this.thrownError),bs.EMPTY):this.isStopped?(t.complete(),bs.EMPTY):(this.observers.push(t),new Ps(this,t))},e.prototype.asObservable=function(){var t=new Is;return t.source=this,t},e.create=function(t,e){return new Ds(t,e)},e}(Is),Ds=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return cs(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):bs.EMPTY},e}(Rs);function Ls(){return function(t){return t.lift(new Ms(t))}}var Ms=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new $s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),$s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return cs(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(ws),js=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return cs(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new bs).add(this.source.subscribe(new Vs(this.getSubject(),this))),t.closed&&(this._connection=null,t=bs.EMPTY)),t},e.prototype.refCount=function(){return Ls()(this)},e}(Is),Us=function(){var t=js.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Vs=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return cs(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(As);var Fs=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new Hs(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Hs=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return cs(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(u){this.error(u)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Rs,n.set(e,i);var o=new zs(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new zs(e,i))}catch(u){return void this.error(u)}this.add(s.subscribe(new Bs(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(ws),Bs=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.key=e,i.group=n,i.parent=r,i}return cs(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(ws),zs=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return cs(e,t),e.prototype._subscribe=function(t){var e=new bs,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new Ws(n)),e.add(r.subscribe(t)),e},e}(Is),Ws=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return cs(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(bs),qs=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return cs(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ns;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Rs),Ks=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return cs(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return cs(e,t),e.prototype.schedule=function(t,e){return this},e}(bs)),Ys=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return cs(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(Ks),Gs=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),Zs=function(t){function e(n,r){void 0===r&&(r=Gs.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return cs(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Gs),Js=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cs(e,t),e}(Zs))(Ys),Xs=Js,Qs=new Is((function(t){return t.complete()}));function tu(t){return t?function(t){return new Is((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Qs}function eu(t){return t&&"function"==typeof t.schedule}var nu,ru=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function iu(t,e){return new Is((function(n){var r=new bs,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function ou(t,e){return e?iu(t,e):new Is(ru(t))}function su(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return eu(n)?(t.pop(),iu(t,n)):ou(t)}function uu(t,e){return new Is(e?function(n){return e.schedule(au,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function au(t){var e=t.error;t.subscriber.error(e)}nu||(nu={});var cu=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return su(this.value);case"E":return uu(this.error);case"C":return tu()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var lu=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new hu(t,this.scheduler,this.delay))},t}(),hu=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return cs(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new fu(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(cu.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(cu.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(cu.createComplete()),this.unsubscribe()},e}(ws),fu=function(){return function(t,e){this.notification=t,this.destination=e}}(),du=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return cs(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new pu(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Ns;if(this.isStopped||this.hasError?e=bs.EMPTY:(this.observers.push(t),e=new Ps(this,t)),i&&t.add(t=new hu(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||Xs).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(Rs),pu=function(){return function(t,e){this.time=t,this.value=e}}(),vu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return cs(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),bs.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),bs.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Rs),yu=1,_u=function(){return Promise.resolve()}(),bu={};function mu(t){return t in bu&&(delete bu[t],!0)}var gu=function(t){var e=yu++;return bu[e]=!0,_u.then((function(){return mu(e)&&t()})),e},wu=function(t){mu(t)},Eu=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return cs(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=gu(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(wu(n),e.scheduled=void 0)},e}(Ks),ku=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cs(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(Zs))(Eu),Su=ku,xu=new Zs(Ks),Ou=xu,Cu=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return cs(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(Ks),Iu=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cs(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(Zs))(Cu),Tu=Iu,Nu=function(t){function e(e,n){void 0===e&&(e=Pu),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return cs(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(Zs),Pu=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return cs(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(Ks);function Au(){}var Ru=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Du=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Lu=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();function Mu(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new $u(t,e))}}var $u=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new ju(t,this.project,this.thisArg))},t}(),ju=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return cs(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(ws);function Uu(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,u=i.scheduler,a=i.subject;if(!a){a=i.subject=new vu;try{o.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(u.schedule(Vu,0,{value:r,subject:a}))}]))}catch(c){a.error(c)}}this.add(a.subscribe(r))}function Vu(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function Fu(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,s=n.args,u=n.scheduler,a=n.subject;if(!a){a=n.subject=new vu;try{o.apply(i,s.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();if(r)e.add(u.schedule(Bu,0,{err:r,subject:a}));else{var i=t.length<=1?t[0]:t;e.add(u.schedule(Hu,0,{value:i,subject:a}))}}]))}catch(c){this.add(u.schedule(Bu,0,{err:c,subject:a}))}}this.add(a.subscribe(r))}function Hu(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function Bu(t){var e=t.err;t.subject.error(e)}var zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cs(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(ws),Wu=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return cs(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(ws);function qu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Ku=qu(),Yu=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Gu(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Zu=function(t){if(t&&"function"==typeof t[Ss])return r=t,function(t){var e=r[Ss]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Yu(t))return ru(t);if(Gu(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,ds),t};if(t&&"function"==typeof t[Ku])return e=t,function(t){for(var n=e[Ku]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=ys(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Ju(t,e,n,r,i){if(void 0===i&&(i=new Wu(t,n,r)),!i.closed)return e instanceof Is?e.subscribe(i):Zu(e)(i)}var Xu={};var Qu=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new ta(t,this.resultSelector))},t}(),ta=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return cs(e,t),e.prototype._next=function(t){this.values.push(Xu),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Ju(this,r,void 0,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n){var r=this.values,i=r[n],o=this.toRespond?i===Xu?--this.toRespond:this.toRespond:0;r[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(zu);function ea(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[Ss]}(t))return function(t,e){return new Is((function(n){var r=new bs;return r.add(e.schedule((function(){var i=t[Ss]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Gu(t))return function(t,e){return new Is((function(n){var r=new bs;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Yu(t))return iu(t,e);if(function(t){return t&&"function"==typeof t[Ku]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new Is((function(n){var r,i=new bs;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[Ku](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function na(t,e){return e?ea(t,e):t instanceof Is?t:new Is(Zu(t))}var ra=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return cs(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ws),ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cs(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ws);function oa(t,e){if(!e.closed){if(t instanceof Is)return t.subscribe(e);var n;try{n=Zu(t)(e)}catch(r){e.error(r)}return n}}function sa(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(sa((function(n,r){return na(t(n,r)).pipe(Mu((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new ua(t,n))})}var ua=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new aa(t,this.project,this.concurrent))},t}(),aa=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return cs(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new ra(this),n=this.destination;n.add(e);var r=oa(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(ia),ca=sa;function la(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),sa(xs,t)}function ha(){return la(1)}function fa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ha()(su.apply(void 0,t))}function da(t){return new Is((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?na(n):tu()).subscribe(e)}))}function pa(t,e){return new Is((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,u=function(u){var a=na(t[u]),c=!1;n.add(a.subscribe({next:function(t){c||(c=!0,s++),i[u]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},a=0;a<r;a++)u(a);else n.complete()}))}function va(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,i),o=function(){return s.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var u=t;t.on(e,n),o=function(){return u.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var a=t;t.addListener(e,n),o=function(){return a.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)va(t[c],e,n,r,i)}r.add(o)}function ya(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(o){return void e.error(o)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(o){return void e.error(o)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(o){return void e.error(o)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function _a(t){return!vs(t)&&t-parseFloat(t)+1>=0}function ba(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function ma(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return eu(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof Is?t[0]:la(n)(ou(t,r))}var ga=new Is(Au);function wa(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var s=e[n];r.next([s,o[s]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function Ea(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function ka(t,e){return function(n){return n.lift(new Sa(t,e))}}var Sa=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new xa(t,this.predicate,this.thisArg))},t}(),xa=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return cs(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(ws);function Oa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!vs(t[0]))return t[0];t=t[0]}return ou(t,void 0).lift(new Ca)}var Ca=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Ia(t))},t}(),Ia=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return cs(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=Ju(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},e.prototype.notifyNext=function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)},e}(zu);function Ta(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}function Na(t,e,n){void 0===t&&(t=0);var r=-1;return _a(e)?r=Number(e)<1?1:Number(e):eu(e)&&(n=e),eu(n)||(n=Ou),new Is((function(e){var i=_a(t)?t:+t-n.now();return n.schedule(Pa,i,{index:0,period:r,subscriber:e})}))}function Pa(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Aa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),ou(t,void 0).lift(new Ra(n))}var Ra=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Da(t,this.resultSelector))},t}(),Da=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return cs(e,t),e.prototype._next=function(t){var e=this.iterators;vs(t)?e.push(new Ma(t)):"function"==typeof t[Ku]?e.push(new La(t[Ku]())):e.push(new $a(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,u=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),u.done)return void n.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(ws),La=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),Ma=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[Ku]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),$a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return cs(e,t),e.prototype[Ku]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return oa(this.observable,new ra(this))},e}(ia),ja=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:Is,ConnectableObservable:js,GroupedObservable:zs,observable:Ss,Subject:Rs,BehaviorSubject:qs,ReplaySubject:du,AsyncSubject:vu,asap:Su,asapScheduler:ku,async:Ou,asyncScheduler:xu,queue:Xs,queueScheduler:Js,animationFrame:Tu,animationFrameScheduler:Iu,VirtualTimeScheduler:Nu,VirtualAction:Pu,Scheduler:Gs,Subscription:bs,Subscriber:ws,Notification:cu,get NotificationKind(){return nu},pipe:Os,noop:Au,identity:xs,isObservable:function(t){return!!t&&(t instanceof Is||"function"==typeof t.lift&&"function"==typeof t.subscribe)},ArgumentOutOfRangeError:Ru,EmptyError:Du,ObjectUnsubscribedError:Ns,UnsubscriptionError:_s,TimeoutError:Lu,bindCallback:function t(e,n,r){if(n){if(!eu(n))return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return t(e,r).apply(void 0,i).pipe(Mu((function(t){return vs(t)?n.apply(void 0,t):n(t)})))};r=n}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i,o=this,s={context:o,subject:i,callbackFunc:e,scheduler:r};return new Is((function(n){if(r){var u={args:t,subscriber:n,params:s};return r.schedule(Uu,0,u)}if(!i){i=new vu;try{e.apply(o,t.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.next(t.length<=1?t[0]:t),i.complete()}]))}catch(a){ks(i)?i.error(a):console.warn(a)}}return i.subscribe(n)}))}},bindNodeCallback:function t(e,n,r){if(n){if(!eu(n))return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return t(e,r).apply(void 0,i).pipe(Mu((function(t){return vs(t)?n.apply(void 0,t):n(t)})))};r=n}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={subject:void 0,args:t,callbackFunc:e,scheduler:r,context:this};return new Is((function(n){var o=i.context,s=i.subject;if(r)return r.schedule(Fu,0,{params:i,subscriber:n,context:o});if(!s){s=i.subject=new vu;try{e.apply(o,t.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?s.error(n):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(u){ks(s)?s.error(u):console.warn(u)}}return s.subscribe(n)}))}},combineLatest:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0,r=void 0;return eu(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&vs(t[0])&&(t=t[0]),ou(t,r).lift(new Qu(n))},concat:fa,defer:da,empty:tu,forkJoin:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(vs(n))return pa(n,null);if(ys(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return pa(r.map((function(t){return n[t]})),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return pa(t=1===t.length&&vs(t[0])?t[0]:t,null).pipe(Mu((function(t){return i.apply(void 0,t)})))}return pa(t,null)},from:na,fromEvent:function t(e,n,r,i){return ls(r)&&(i=r,r=void 0),i?t(e,n,r).pipe(Mu((function(t){return vs(t)?i.apply(void 0,t):i(t)}))):new Is((function(t){va(e,n,(function(e){arguments.length>1?t.next(Array.prototype.slice.call(arguments)):t.next(e)}),t,r)}))},fromEventPattern:function t(e,n,r){return r?t(e,n).pipe(Mu((function(t){return vs(t)?r.apply(void 0,t):r(t)}))):new Is((function(t){var r,i=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1===e.length?e[0]:e)};try{r=e(i)}catch(o){return void t.error(o)}if(ls(n))return function(){return n(i,r)}}))},generate:function(t,e,n,r,i){var o,s;if(1==arguments.length){var u=t;s=u.initialState,e=u.condition,n=u.iterate,o=u.resultSelector||xs,i=u.scheduler}else void 0===r||eu(r)?(s=t,o=xs,i=r):(s=t,o=r);return new Is((function(t){var r=s;if(i)return i.schedule(ya,0,{subscriber:t,iterate:n,condition:e,resultSelector:o,state:r});for(;;){if(e){var u=void 0;try{u=e(r)}catch(c){return void t.error(c)}if(!u){t.complete();break}}var a=void 0;try{a=o(r)}catch(c){return void t.error(c)}if(t.next(a),t.closed)break;try{r=n(r)}catch(c){return void t.error(c)}}}))},iif:function(t,e,n){return void 0===e&&(e=Qs),void 0===n&&(n=Qs),da((function(){return t()?e:n}))},interval:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=Ou),(!_a(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Ou),new Is((function(n){return n.add(e.schedule(ba,t,{subscriber:n,counter:0,period:t})),n}))},merge:ma,never:function(){return ga},of:su,onErrorResumeNext:function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)return Qs;var r=e[0],i=e.slice(1);return 1===e.length&&vs(r)?t.apply(void 0,r):new Is((function(e){var n=function(){return e.add(t.apply(void 0,i).subscribe(e))};return na(r).subscribe({next:function(t){e.next(t)},error:n,complete:n})}))},pairs:function(t,e){return new Is(e?function(n){var r=Object.keys(t),i=new bs;return i.add(e.schedule(wa,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})},partition:function(t,e,n){return[ka(e,n)(new Is(Zu(t))),ka(Ea(e,n))(new Is(Zu(t)))]},race:Oa,range:function(t,e,n){return void 0===t&&(t=0),new Is((function(r){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(Ta,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}}))},throwError:uu,timer:Na,using:function(t,e){return new Is((function(n){var r,i;try{r=t()}catch(s){return void n.error(s)}try{i=e(r)}catch(s){return void n.error(s)}var o=(i?na(i):Qs).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))},zip:Aa,scheduled:ea,EMPTY:Qs,NEVER:ga,config:fs});function Ua(t){return function(e){return e.lift(new Va(t))}}var Va=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Fa(t,this.durationSelector))},t}(),Fa=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return cs(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=oa(e,new ra(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(ia);var Ha=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Ba(t,this.closingNotifier))},t}(),Ba=function(t){function e(e,n){var r=t.call(this,e)||this;return r.buffer=[],r.add(oa(n,new ra(r))),r}return cs(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(ia);var za=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?qa:Wa}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),Wa=function(t){function e(e,n){var r=t.call(this,e)||this;return r.bufferSize=n,r.buffer=[],r}return cs(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(ws),qa=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return cs(e,t),e.prototype._next=function(t){var e=this,n=e.bufferSize,r=e.startBufferEvery,i=e.buffers,o=e.count;this.count++,o%r==0&&i.push([]);for(var s=i.length;s--;){var u=i[s];u.push(t),u.length===n&&(i.splice(s,1),this.destination.next(u))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var r=e.shift();r.length>0&&n.next(r)}t.prototype._complete.call(this)},e}(ws);var Ka=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new Ga(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Ya=function(){return function(){this.buffer=[]}}(),Ga=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var u=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var a={subscriber:s,context:u,bufferTimeSpan:n};s.add(u.closeAction=o.schedule(Za,n,a))}else{var c={subscriber:s,context:u},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(u.closeAction=o.schedule(Xa,n,c)),s.add(o.schedule(Ja,r,l))}return s}return cs(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(Za,n,r))}},e.prototype.openContext=function(){var t=new Ya;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(ws);function Za(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Ja(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(Xa,n,{subscriber:r,context:o})),this.schedule(t,e))}function Xa(t){var e=t.subscriber,n=t.context;e.closeContext(n)}var Qa=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new tc(t,this.openings,this.closingSelector))},t}(),tc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.closingSelector=r,i.contexts=[],i.add(Ju(i,n)),i}return cs(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(n){this._error(n)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new bs,r={buffer:[],subscription:n};e.push(r);var i=Ju(this,t,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},e}(zu);var ec=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new nc(t,this.closingSelector))},t}(),nc=function(t){function e(e,n){var r=t.call(this,e)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return cs(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{e=(0,this.closingSelector)()}catch(r){return this.error(r)}t=new bs,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(oa(e,new ra(this))),this.subscribing=!1},e}(ia);var rc=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new ic(t,this.selector,this.caught))},t}(),ic=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return cs(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var r=new ra(this);this.add(r);var i=oa(n,r);i!==r&&this.add(i)}},e}(ia);function oc(t,e){return sa(t,e,1)}var sc=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new uc(t,this.predicate,this.source))},t}(),uc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return cs(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(ws);var ac=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new cc(t,this.durationSelector))},t}(),cc=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return cs(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=oa(e,new ra(this)))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(ia);var lc=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new hc(t,this.dueTime,this.scheduler))},t}(),hc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return cs(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(fc,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(ws);function fc(t){t.debouncedNext()}function dc(t){return void 0===t&&(t=null),function(e){return e.lift(new pc(t))}}var pc=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new vc(t,this.defaultValue))},t}(),vc=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return cs(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ws);function yc(t){return t instanceof Date&&!isNaN(+t)}var _c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new bc(t,this.delay,this.scheduler))},t}(),bc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return cs(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new mc(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(cu.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(cu.createComplete()),this.unsubscribe()},e}(ws),mc=function(){return function(t,e){this.time=t,this.notification=e}}();var gc=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new wc(t,this.delayDurationSelector))},t}(),wc=function(t){function e(e,n){var r=t.call(this,e)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return cs(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var n=Ju(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(zu),Ec=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subscriptionDelay=n,r}return cs(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new kc(t,this.source))},e}(Is),kc=function(t){function e(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return cs(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(ws);var Sc=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new xc(t))},t}(),xc=function(t){function e(e){return t.call(this,e)||this}return cs(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(ws);var Oc=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new Cc(t,this.keySelector,this.flushes))},t}(),Cc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=n,i.values=new Set,r&&i.add(oa(r,new ra(i))),i}return cs(e,t),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(r){return void n.error(r)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(ia);function Ic(t,e){return function(n){return n.lift(new Tc(t,e))}}var Tc=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Nc(t,this.compare,this.keySelector))},t}(),Nc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return cs(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(ws);function Pc(t){return void 0===t&&(t=Dc),function(e){return e.lift(new Ac(t))}}var Ac=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new Rc(t,this.errorFactory))},t}(),Rc=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return cs(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(ws);function Dc(){return new Du}function Lc(t){return function(e){return 0===t?tu():e.lift(new Mc(t))}}var Mc=function(){function t(t){if(this.total=t,this.total<0)throw new Ru}return t.prototype.call=function(t,e){return e.subscribe(new $c(t,this.total))},t}(),$c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return cs(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(ws);var jc=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Uc(t,this.predicate,this.thisArg,this.source))},t}(),Uc=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return cs(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ws);var Vc=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Fc(t))},t}(),Fc=function(t){function e(e){var n=t.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return cs(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(oa(t,new ra(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ia);var Hc=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Bc(t,this.project))},t}(),Bc=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return cs(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new ra(this),n=this.destination;n.add(e);var r=oa(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ia);var zc=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new Wc(t,this.project,this.concurrent,this.scheduler))},t}(),Wc=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return cs(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(t);try{var i=(0,this.project)(t,r);if(this.scheduler){var o={subscriber:this,result:i,value:t,index:r};this.destination.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(i,t,r)}catch(s){n.error(s)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add(oa(t,new ra(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(ia);var qc=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Kc(t,this.callback))},t}(),Kc=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new bs(n)),r}return cs(e,t),e}(ws);var Yc=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new Gc(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),Gc=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return cs(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(ws);var Zc=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Jc(t))},t}(),Jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cs(e,t),e.prototype._next=function(t){},e}(ws);var Xc=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Qc(t))},t}(),Qc=function(t){function e(e){return t.call(this,e)||this}return cs(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ws);function tl(t){return function(e){return 0===t?tu():e.lift(new el(t))}}var el=function(){function t(t){if(this.total=t,this.total<0)throw new Ru}return t.prototype.call=function(t,e){return e.subscribe(new nl(t,this.total))},t}(),nl=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return cs(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(ws);var rl=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new il(t,this.value))},t}(),il=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return cs(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(ws);var ol=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new sl(t))},t}(),sl=function(t){function e(e){return t.call(this,e)||this}return cs(e,t),e.prototype._next=function(t){this.destination.next(cu.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(cu.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(cu.createComplete()),t.complete()},e}(ws);function ul(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new al(t,e,n))}}var al=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new cl(t,this.accumulator,this.seed,this.hasSeed))},t}(),cl=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return cs(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(ws);function ll(t,e){return arguments.length>=2?function(n){return Os(ul(t,e),tl(1),dc(e))(n)}:function(e){return Os(ul((function(e,n,r){return t(e,n,r+1)})),tl(1))(e)}}var hl=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new fl(t,this.accumulator,this.seed,this.concurrent))},t}(),fl=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return cs(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,t,e)}catch(i){return n.error(i)}this.active++,this._innerSub(r)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var e=new ra(this),n=this.destination;n.add(e);var r=oa(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var e=this.destination;this.acc=t,this.hasValue=!0,e.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(ia);function dl(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new pl(r,e));var i=Object.create(n,Us);return i.source=n,i.subjectFactory=r,i}}var pl=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();var vl=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new yl(t,this.nextSources))},t}(),yl=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.nextSources=n,r}return cs(e,t),e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new ra(this),n=this.destination;n.add(e);var r=oa(t,e);r!==e&&n.add(r)}else this.destination.complete()},e}(ia);var _l=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new bl(t))},t}(),bl=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return cs(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(ws);function ml(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=null!=r?r[t[i]]:void 0;if(void 0===o)return;r=o}return r}}var gl=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new wl(t,this.count,this.source))},t}(),wl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return cs(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(ws);var El=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new kl(t,this.notifier,e))},t}(),kl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return cs(e,t),e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new Rs;try{e=(0,this.notifier)(this.notifications)}catch(n){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=oa(e,new ra(this))},e}(ia);var Sl=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new xl(t,this.count,this.source))},t}(),xl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return cs(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(ws);var Ol=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Cl(t,this.notifier,this.source))},t}(),Cl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i}return cs(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Rs;try{r=(0,this.notifier)(n)}catch(o){return t.prototype.error.call(this,o)}i=oa(r,new ra(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(ia);var Il=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Tl(t),r=e.subscribe(n);return r.add(oa(this.notifier,new ra(n))),r},t}(),Tl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return cs(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(ia);var Nl=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Pl(t,this.period,this.scheduler))},t}(),Pl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(Al,n,{subscriber:i,period:n})),i}return cs(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(ws);function Al(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}var Rl=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new Dl(t,this.compareTo,this.comparator))},t}(),Dl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new Ll(e,i))),i}return cs(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,e=t._a,n=t._b,r=t.comparator;e.length>0&&n.length>0;){var i=e.shift(),o=n.shift(),s=!1;try{s=r?r(i,o):i===o}catch(u){this.destination.error(u)}s||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(ws),Ll=function(t){function e(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return cs(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(ws);function Ml(){return new Rs}var $l=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new jl(t,this.predicate,this.source))},t}(),jl=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return cs(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Du)},e}(ws);var Ul=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Vl(t,this.total))},t}(),Vl=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return cs(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(ws);var Fl=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new Ru}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new ws(t)):e.subscribe(new Hl(t,this._skipCount))},t}(),Hl=function(t){function e(e,n){var r=t.call(this,e)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return cs(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}},e}(ws);var Bl=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new zl(t,this.notifier))},t}(),zl=function(t){function e(e,n){var r=t.call(this,e)||this;r.hasValue=!1;var i=new ra(r);r.add(i),r.innerSubscription=i;var o=oa(n,i);return o!==i&&(r.add(o),r.innerSubscription=o),r}return cs(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(ia);var Wl=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new ql(t,this.predicate))},t}(),ql=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return cs(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}},e}(ws);var Kl=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Su);var i=t.call(this)||this;return i.source=e,i.delayTime=n,i.scheduler=r,(!_a(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=Su),i}return cs(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=Su),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(Is);var Yl=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new Kl(e,this.delay,this.scheduler).subscribe(t)},t}();function Gl(t,e){return"function"==typeof e?function(n){return n.pipe(Gl((function(n,r){return na(t(n,r)).pipe(Mu((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Zl(t))}}var Zl=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Jl(t,this.project))},t}(),Jl=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return cs(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new ra(this),r=this.destination;r.add(n),this.innerSubscription=oa(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(ia);var Xl=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Ql(t),r=oa(this.notifier,new ra(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),Ql=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return cs(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(ia);var th=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new eh(t,this.predicate,this.inclusive))},t}(),eh=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return cs(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(ws);var nh=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new rh(t,this.nextOrObserver,this.error,this.complete))},t}(),rh=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=Au,o._tapError=Au,o._tapComplete=Au,o._tapError=r||Au,o._tapComplete=i||Au,ls(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Au,o._tapError=n.error||Au,o._tapComplete=n.complete||Au),o}return cs(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(ws),ih={leading:!0,trailing:!1};var oh=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new sh(t,this.durationSelector,this.leading,this.trailing))},t}(),sh=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return cs(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=oa(e,new ra(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(ia);var uh=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new ah(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),ah=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return cs(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ch,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(ws);function ch(t){t.subscriber.clearThrottle()}var lh=function(){return function(t,e){this.value=t,this.interval=e}}();function hh(t,e,n){return void 0===n&&(n=Ou),function(r){var i=yc(t),o=i?+t-n.now():Math.abs(t);return r.lift(new fh(o,i,e,n))}}var fh=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new dh(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),dh=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.scheduleTimeout(),s}return cs(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(oa(e,new ra(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(ia);var ph=function(){return function(t,e){this.value=t,this.timestamp=e}}();function vh(t,e,n){return 0===n?[e]:(t.push(e),t)}var yh=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new _h(t),r=e.subscribe(n);return r.closed||n.add(oa(this.windowBoundaries,new ra(n))),r},t}(),_h=function(t){function e(e){var n=t.call(this,e)||this;return n.window=new Rs,e.next(n.window),n}return cs(e,t),e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new Rs;e.next(n)},e}(ia);var bh=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new mh(t,this.windowSize,this.startWindowEvery))},t}(),mh=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=n,i.startWindowEvery=r,i.windows=[new Rs],i.count=0,e.next(i.windows[0]),i}return cs(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(t);var u=this.count-r+1;if(u>=0&&u%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var a=new Rs;i.push(a),n.next(a)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(ws);var gh=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new Eh(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),wh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return cs(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Rs),Eh=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;s.destination=e,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var u=s.openWindow();if(null!==r&&r>=0){var a={subscriber:s,window:u,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(xh,n,a)),s.add(o.schedule(Sh,r,c))}else{var l={subscriber:s,window:u,windowTimeSpan:n};s.add(o.schedule(kh,n,l))}return s}return cs(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new wh;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(ws);function kh(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function Sh(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),s=this,u={action:s,subscription:null},a={subscriber:n,window:o,context:u};u.subscription=r.schedule(xh,e,a),s.add(u.subscription),s.schedule(t,i)}function xh(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}var Oh=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Ch(t,this.openings,this.closingSelector))},t}(),Ch=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Ju(i,n,n)),i}return cs(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,i){if(t===this.openings){var o=void 0;try{o=(0,this.closingSelector)(e)}catch(l){return this.error(l)}var s=new Rs,u=new bs,a={window:s,subscription:u};this.contexts.push(a);var c=Ju(this,o,a);c.closed?this.closeWindow(this.contexts.length-1):(c.context=a,u.add(c)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(zu);var Ih=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Th(t,this.closingSelector))},t}(),Th=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.closingSelector=n,r.openWindow(),r}return cs(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n,r=this.window=new Rs;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(i){return this.destination.error(i),void this.window.error(i)}this.add(this.closingNotification=Ju(this,n))},e}(zu);var Nh=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new Ph(t,this.observables,this.project))},t}(),Ph=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var s=0;s<o;s++)i.toRespond.push(s);for(s=0;s<o;s++){var u=n[s];i.add(Ju(i,u,void 0,s))}return i}return cs(e,t),e.prototype.notifyNext=function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(zu);var Ah=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",audit:Ua,auditTime:function(t,e){return void 0===e&&(e=Ou),Ua((function(){return Na(t,e)}))},buffer:function(t){return function(e){return e.lift(new Ha(t))}},bufferCount:function(t,e){return void 0===e&&(e=null),function(n){return n.lift(new za(t,e))}},bufferTime:function(t){var e=arguments.length,n=Ou;eu(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new Ka(t,r,i,n))}},bufferToggle:function(t,e){return function(n){return n.lift(new Qa(t,e))}},bufferWhen:function(t){return function(e){return e.lift(new ec(t))}},catchError:function(t){return function(e){var n=new rc(t),r=e.lift(n);return n.caught=r}},combineAll:function(t){return function(e){return e.lift(new Qu(t))}},combineLatest:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&vs(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(na([e].concat(t)),new Qu(n))}},concat:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(fa.apply(void 0,[e].concat(t)))}},concatAll:ha,concatMap:oc,concatMapTo:function(t,e){return oc((function(){return t}),e)},count:function(t){return function(e){return e.lift(new sc(t,e))}},debounce:function(t){return function(e){return e.lift(new ac(t))}},debounceTime:function(t,e){return void 0===e&&(e=Ou),function(n){return n.lift(new lc(t,e))}},defaultIfEmpty:dc,delay:function(t,e){void 0===e&&(e=Ou);var n=yc(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new _c(n,e))}},delayWhen:function(t,e){return e?function(n){return new Ec(n,e).lift(new gc(t))}:function(e){return e.lift(new gc(t))}},dematerialize:function(){return function(t){return t.lift(new Sc)}},distinct:function(t,e){return function(n){return n.lift(new Oc(t,e))}},distinctUntilChanged:Ic,distinctUntilKeyChanged:function(t,e){return Ic((function(n,r){return e?e(n[t],r[t]):n[t]===r[t]}))},elementAt:function(t,e){if(t<0)throw new Ru;var n=arguments.length>=2;return function(r){return r.pipe(ka((function(e,n){return n===t})),Lc(1),n?dc(e):Pc((function(){return new Ru})))}},endWith:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return fa(e,su.apply(void 0,t))}},every:function(t,e){return function(n){return n.lift(new jc(t,e,n))}},exhaust:function(){return function(t){return t.lift(new Vc)}},exhaustMap:function t(e,n){return n?function(r){return r.pipe(t((function(t,r){return na(e(t,r)).pipe(Mu((function(e,i){return n(t,e,r,i)})))})))}:function(t){return t.lift(new Hc(e))}},expand:function(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new zc(t,e,n))}},filter:ka,finalize:function(t){return function(e){return e.lift(new qc(t))}},find:function(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new Yc(t,n,!1,e))}},findIndex:function(t,e){return function(n){return n.lift(new Yc(t,n,!0,e))}},first:function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ka((function(e,n){return t(e,n,r)})):xs,Lc(1),n?dc(e):Pc((function(){return new Du})))}},groupBy:function(t,e,n,r){return function(i){return i.lift(new Fs(t,e,n,r))}},ignoreElements:function(){return function(t){return t.lift(new Zc)}},isEmpty:function(){return function(t){return t.lift(new Xc)}},last:function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ka((function(e,n){return t(e,n,r)})):xs,tl(1),n?dc(e):Pc((function(){return new Du})))}},map:Mu,mapTo:function(t){return function(e){return e.lift(new rl(t))}},materialize:function(){return function(t){return t.lift(new ol)}},max:function(t){return ll("function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})},merge:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(ma.apply(void 0,[e].concat(t)))}},mergeAll:la,mergeMap:sa,flatMap:ca,mergeMapTo:function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?sa((function(){return t}),e,n):("number"==typeof e&&(n=e),sa((function(){return t}),n))},mergeScan:function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new hl(t,e,n))}},min:function(t){return ll("function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e})},multicast:dl,observeOn:function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new lu(t,e))}},onErrorResumeNext:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&vs(t[0])&&(t=t[0]),function(e){return e.lift(new vl(t))}},pairwise:function(){return function(t){return t.lift(new _l)}},partition:function(t,e){return function(n){return[ka(t,e)(n),ka(Ea(t,e))(n)]}},pluck:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return Mu(ml(t,n))(e)}},publish:function(t){return t?dl((function(){return new Rs}),t):dl(new Rs)},publishBehavior:function(t){return function(e){return dl(new qs(t))(e)}},publishLast:function(){return function(t){return dl(new vu)(t)}},publishReplay:function(t,e,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new du(t,e,r);return function(t){return dl((function(){return o}),i)(t)}},race:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&vs(t[0])&&(t=t[0]),e.lift.call(Oa.apply(void 0,[e].concat(t)))}},reduce:ll,repeat:function(t){return void 0===t&&(t=-1),function(e){return 0===t?tu():t<0?e.lift(new gl(-1,e)):e.lift(new gl(t-1,e))}},repeatWhen:function(t){return function(e){return e.lift(new El(t))}},retry:function(t){return void 0===t&&(t=-1),function(e){return e.lift(new Sl(t,e))}},retryWhen:function(t){return function(e){return e.lift(new Ol(t,e))}},refCount:Ls,sample:function(t){return function(e){return e.lift(new Il(t))}},sampleTime:function(t,e){return void 0===e&&(e=Ou),function(n){return n.lift(new Nl(t,e))}},scan:ul,sequenceEqual:function(t,e){return function(n){return n.lift(new Rl(t,e))}},share:function(){return function(t){return Ls()(dl(Ml)(t))}},shareReplay:function(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,u=t.refCount,a=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new du(i,s,a),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):r=e.subscribe(this),this.add((function(){c--,r.unsubscribe(),r=void 0,n&&!h&&u&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}},single:function(t){return function(e){return e.lift(new $l(t,e))}},skip:function(t){return function(e){return e.lift(new Ul(t))}},skipLast:function(t){return function(e){return e.lift(new Fl(t))}},skipUntil:function(t){return function(e){return e.lift(new Bl(t))}},skipWhile:function(t){return function(e){return e.lift(new Wl(t))}},startWith:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return eu(n)?(t.pop(),function(e){return fa(t,e,n)}):function(e){return fa(t,e)}},subscribeOn:function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new Yl(t,e))}},switchAll:function(){return Gl(xs)},switchMap:Gl,switchMapTo:function(t,e){return e?Gl((function(){return t}),e):Gl((function(){return t}))},take:Lc,takeLast:tl,takeUntil:function(t){return function(e){return e.lift(new Xl(t))}},takeWhile:function(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new th(t,e))}},tap:function(t,e,n){return function(r){return r.lift(new nh(t,e,n))}},throttle:function(t,e){return void 0===e&&(e=ih),function(n){return n.lift(new oh(t,!!e.leading,!!e.trailing))}},throttleTime:function(t,e,n){return void 0===e&&(e=Ou),void 0===n&&(n=ih),function(r){return r.lift(new uh(t,e,n.leading,n.trailing))}},throwIfEmpty:Pc,timeInterval:function(t){return void 0===t&&(t=Ou),function(e){return da((function(){return e.pipe(ul((function(e,n){var r=e.current;return{value:n,current:t.now(),last:r}}),{current:t.now(),value:void 0,last:void 0}),Mu((function(t){var e=t.current,n=t.last,r=t.value;return new lh(r,e-n)})))}))}},timeout:function(t,e){return void 0===e&&(e=Ou),hh(t,uu(new Lu),e)},timeoutWith:hh,timestamp:function(t){return void 0===t&&(t=Ou),Mu((function(e){return new ph(e,t.now())}))},toArray:function(){return ll(vh,[])},window:function(t){return function(e){return e.lift(new yh(t))}},windowCount:function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new bh(t,e))}},windowTime:function(t){var e=Ou,n=null,r=Number.POSITIVE_INFINITY;return eu(arguments[3])&&(e=arguments[3]),eu(arguments[2])?e=arguments[2]:_a(arguments[2])&&(r=Number(arguments[2])),eu(arguments[1])?e=arguments[1]:_a(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new gh(t,n,r,e))}},windowToggle:function(t,e){return function(n){return n.lift(new Oh(t,e))}},windowWhen:function(t){return function(e){return e.lift(new Ih(t))}},withLatestFrom:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new Nh(r,n))}},zip:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Aa.apply(void 0,[e].concat(t)))}},zipAll:function(t){return function(e){return e.lift(new Ra(t))}}}),Rh=Fr(ja),Dh=Fr(Ah),Lh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr);Br(si),Br(wi);var i=0,o=1,s=2,u=function(){function t(e){(0,n.default)(this,t);var r=e.pipe((0,Dh.publishReplay)(1),(0,Dh.refCount)());this._result=r,this._keys=r.pipe((0,Dh.flatMap)((function(t){return(0,Rh.from)(t.keys())})),(0,Dh.publishReplay)(1),(0,Dh.refCount)()),this._records=new Rh.Subject,this._summary=new Rh.ReplaySubject,this._state=i}return(0,r.default)(t,[{key:"keys",value:function(){return this._keys}},{key:"records",value:function(){var t=this;return this._result.pipe((0,Dh.flatMap)((function(e){return new Rh.Observable((function(n){return t._startStreaming({result:e,recordsObserver:n})}))})))}},{key:"consume",value:function(){var t=this;return this._result.pipe((0,Dh.flatMap)((function(e){return new Rh.Observable((function(n){return t._startStreaming({result:e,summaryObserver:n})}))})))}},{key:"_startStreaming",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.result,r=e.recordsObserver,i=void 0===r?null:r,u=e.summaryObserver,a=void 0===u?null:u,c=[];return a&&c.push(this._summary.subscribe(a)),this._state<o?(this._state=o,i&&c.push(this._records.subscribe(i)),c.push({unsubscribe:function(){n._cancel&&n._cancel()}}),0===this._records.observers.length&&n._cancel(),n.subscribe({onNext:function(e){t._records.next(e)},onCompleted:function(e){t._records.complete(),t._summary.next(e),t._summary.complete(),t._state=s},onError:function(e){t._records.error(e),t._summary.error(e),t._state=s}})):i&&i.error((0,ri.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){c.forEach((function(t){return t.unsubscribe()}))}}}]),t}();e.default=u})),Mh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Lh);Br(os);var o=function(){function t(e){(0,n.default)(this,t),this._txc=e}return(0,r.default)(t,[{key:"run",value:function(t,e){var n=this;return new i.default(new Rh.Observable((function(r){try{r.next(n._txc.run(t,e)),r.complete()}catch(i){r.error(i)}return function(){}})))}},{key:"commit",value:function(){var t=this;return new Rh.Observable((function(e){t._txc.commit().then((function(){e.complete()})).catch((function(t){return e.error(t)}))}))}},{key:"rollback",value:function(){var t=this;return new Rh.Observable((function(e){t._txc.rollback().then((function(){e.complete()})).catch((function(t){return e.error(t)}))}))}}]),t}();e.default=o})),$h=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr);Br(Jo);var i=3e4,o=1e3,s=.2,u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.maxRetryTimeout,u=void 0===r?i:r,c=e.initialDelay,l=void 0===c?o:c,h=e.delayMultiplier,f=void 0===h?2:h,d=e.delayJitter,p=void 0===d?s:d,v=e.logger,y=void 0===v?null:v;(0,n.default)(this,t),this._maxRetryTimeout=a(u,i),this._initialDelay=a(l,o),this._delayMultiplier=a(f,2),this._delayJitter=a(p,s),this._logger=y}return(0,r.default)(t,[{key:"retry",value:function(e){var n=this;return e.pipe((0,Dh.retryWhen)((function(e){var r=[],i=Date.now(),o=1,s=n._initialDelay;return e.pipe((0,Dh.flatMap)((function(e){if(!t._canRetryOn(e))return(0,Rh.throwError)(e);if(r.push(e),o>=2&&Date.now()-i>=n._maxRetryTimeout){var u=(0,ri.newError)("Failed after retried for ".concat(o," times in ").concat(n._maxRetryTimeout," ms. Make sure that your database is online and retry again."),ri.SERVICE_UNAVAILABLE);return u.seenErrors=r,(0,Rh.throwError)(u)}var a=n._computeNextDelay(s);return s*=n._delayMultiplier,o++,n._logger&&n._logger.warn("Transaction failed and will be retried in ".concat(a)),(0,Rh.of)(1).pipe((0,Dh.delay)(a))})))})))}},{key:"_computeNextDelay",value:function(t){var e=t*this._delayJitter;return t-e+2*e*Math.random()}}],[{key:"_canRetryOn",value:function(t){return t&&t.code&&(t.code===ri.SERVICE_UNAVAILABLE||t.code===ri.SESSION_EXPIRED||this._isTransientError(t))}},{key:"_isTransientError",value:function(t){var e=t.code;return e.indexOf("TransientError")>=0&&("Neo.TransientError.Transaction.Terminated"!==e&&"Neo.TransientError.Transaction.LockClientStopped"!==e)}}]),t}();function a(t,e){return t||0===t?t:e}e.default=u})),jh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Lh);Br(us);var o=Br(Mh),s=Br(Wi),u=Br($h),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.session,i=e.config;(0,n.default)(this,t),this._session=r,this._retryLogic=c(i)}return(0,r.default)(t,[{key:"run",value:function(t,e,n){var r=this;return new i.default(new Rh.Observable((function(i){try{i.next(r._session.run(t,e,n)),i.complete()}catch(o){i.error(o)}return function(){}})))}},{key:"beginTransaction",value:function(t){return this._beginTransaction(this._session._mode,t)}},{key:"readTransaction",value:function(t,e){return this._runTransaction(ai.ACCESS_MODE_READ,t,e)}},{key:"writeTransaction",value:function(t,e){return this._runTransaction(ai.ACCESS_MODE_WRITE,t,e)}},{key:"close",value:function(){var t=this;return new Rh.Observable((function(e){t._session.close().then((function(){e.complete()})).catch((function(t){return e.error(t)}))}))}},{key:"lastBookmark",value:function(){return this._session.lastBookmark()}},{key:"_beginTransaction",value:function(t,e){var n=this,r=s.default.empty();return e&&(r=new s.default(e)),new Rh.Observable((function(e){try{e.next(new o.default(n._session._beginTransaction(t,r))),e.complete()}catch(i){e.error(i)}return function(){}}))}},{key:"_runTransaction",value:function(t,e,n){return s.default.empty(),n&&new s.default(n),this._retryLogic.retry(this._beginTransaction(t,n).pipe((0,Dh.flatMap)((function(t){return(0,Rh.defer)((function(){try{return e(t)}catch(n){return(0,Rh.throwError)(n)}})).pipe((0,Dh.catchError)((function(e){return t.rollback().pipe((0,Dh.concat)((0,Rh.throwError)(e)))})),(0,Dh.concat)(t.commit()))}))))}}]),t}();function c(t){var e=t&&t.maxTransactionRetryTime?t.maxTransactionRetryTime:null;return new u.default({maxRetryTimeout:e})}e.default=a})),Uh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.WRITE=e.READ=e.Driver=void 0;var n=Br(qr),r=Br(Kr);Br(Zi);var i=Br(li),o=Br(ns),s=Br(rs),u=Br(Jo),a=Br(us),c=Br(jh),l=ai.ACCESS_MODE_READ;e.READ=l;var h=ai.ACCESS_MODE_WRITE;e.WRITE=h;var f=0,d=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,n.default)(this,t),p(o),this._id=f++,this._address=e,this._userAgent=r,this._authToken=i,this._config=o,this._log=u.default.create(o),this._connectionProvider=null,this._afterConstruction()}return(0,r.default)(t,[{key:"verifyConnectivity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.database,n=void 0===e?"":e,r=this._getOrCreateConnectionProvider(),i=new s.default(r);return i.verify({database:n})}},{key:"supportsMultiDb",value:function(){return this._getOrCreateConnectionProvider().supportsMultiDb()}},{key:"supportsTransactionConfig",value:function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()}},{key:"_supportsRouting",value:function(){return!1}},{key:"_isEncrypted",value:function(){return this._config.encrypted===ui.ENCRYPTION_ON}},{key:"_getTrust",value:function(){return this._config.trust}},{key:"session",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultAccessMode,n=void 0===e?h:e,r=t.bookmarks,i=t.database,o=void 0===i?"":i,s=t.fetchSize;return this._newSession({defaultAccessMode:n,bookmarkOrBookmarks:r,database:o,reactive:!1,fetchSize:y(s,this._config.fetchSize)})}},{key:"rxSession",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultAccessMode,n=void 0===e?h:e,r=t.bookmarks,i=t.database,o=void 0===i?"":i,s=t.fetchSize;return new c.default({session:this._newSession({defaultAccessMode:n,bookmarks:r,database:o,reactive:!0,fetchSize:y(s,this._config.fetchSize)}),config:this._config})}},{key:"close",value:function(){return this._log.info("Driver ".concat(this._id," closing")),this._connectionProvider?this._connectionProvider.close():Promise.resolve()}},{key:"_afterConstruction",value:function(){this._log.info("Direct driver ".concat(this._id," created for server address ").concat(this._address))}},{key:"_createConnectionProvider",value:function(t,e,n){return new o.default({id:this._id,config:this._config,log:this._log,address:t,userAgent:e,authToken:n})}},{key:"_newSession",value:function(e){var n=e.defaultAccessMode,r=e.bookmarkOrBookmarks,o=e.database,s=e.reactive,u=e.fetchSize,c=t._validateSessionMode(n),l=this._getOrCreateConnectionProvider(),h=r?new i.default(r):i.default.empty();return new a.default({mode:c,database:o,connectionProvider:l,bookmark:h,config:this._config,reactive:s,fetchSize:u})}},{key:"_getOrCreateConnectionProvider",value:function(){return this._connectionProvider||(this._connectionProvider=this._createConnectionProvider(this._address,this._userAgent,this._authToken)),this._connectionProvider}}],[{key:"_validateSessionMode",value:function(t){var e=t||h;if(e!==ai.ACCESS_MODE_READ&&e!==ai.ACCESS_MODE_WRITE)throw(0,ri.newError)("Illegal session mode "+e);return e}}]),t}();function p(t){t.maxConnectionLifetime=v(t.maxConnectionLifetime,36e5),t.maxConnectionPoolSize=v(t.maxConnectionPoolSize,Zo.DEFAULT_MAX_SIZE),t.connectionAcquisitionTimeout=v(t.connectionAcquisitionTimeout,Zo.DEFAULT_ACQUISITION_TIMEOUT),t.fetchSize=y(t.fetchSize,1e3)}function v(t,e){var n=parseInt(t,10);return n>0||0===n?n:n<0?Number.MAX_SAFE_INTEGER:e}function y(t,e){var n=parseInt(t,10);if(n>0||n===zi.ALL)return n;if(0===n||n<0)throw new Error("The fetch size can only be a positive value or -1 for ALL. However fetchSize = "+n);return e}e.Driver=d;var _=d;e.default=_})),Vh=Hr((function(t){t.exports=function(t){if(Array.isArray(t))return _i(t)},t.exports.default=t.exports,t.exports.__esModule=!0})),Fh=Hr((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0})),Hh=Hr((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0})),Bh=Hr((function(t){t.exports=function(t){return Vh(t)||Fh(t)||bi(t)||Hh()},t.exports.default=t.exports,t.exports.__esModule=!0})),zh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(Bh),r=Br(qr),i=Br(Kr),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.database,i=e.routers,o=e.readers,s=e.writers,u=e.expirationTime;(0,r.default)(this,t),this.database=n,this.databaseName=n||"default database",this.routers=i||[],this.readers=o||[],this.writers=s||[],this.expirationTime=u||(0,ii.int)(0)}return(0,i.default)(t,[{key:"forget",value:function(t){this.readers=s(this.readers,t),this.writers=s(this.writers,t)}},{key:"forgetRouter",value:function(t){this.routers=s(this.routers,t)}},{key:"forgetWriter",value:function(t){this.writers=s(this.writers,t)}},{key:"isStaleFor",value:function(t){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||t===Uh.READ&&0===this.readers.length||t===Uh.WRITE&&0===this.writers.length}},{key:"isExpiredFor",value:function(t){return this.expirationTime.add(t).lessThan(Date.now())}},{key:"allServers",value:function(){return[].concat((0,n.default)(this.routers),(0,n.default)(this.readers),(0,n.default)(this.writers))}},{key:"toString",value:function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")}}]),t}();function s(t,e){return t.filter((function(t){return t.asKey()!==e.asKey()}))}e.default=o}));Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION_IN_DEV=e.VERSION_4_0_0=e.VERSION_3_5_0=e.VERSION_3_4_0=e.VERSION_3_2_0=e.ServerVersion=void 0;var n=Br(qr),r=Br(Kr),i=new RegExp("^(Neo4j/)?(\\d+)\\.(\\d+)(?:\\.)?(\\d*)(\\.|-|\\+)?([0-9A-Za-z-.]*)?$"),o="Neo4j/dev",s=function(){function t(e,r,i,o){(0,n.default)(this,t),this.major=e,this.minor=r,this.patch=i,this._originalVersionString=o}return(0,r.default)(t,[{key:"compareTo",value:function(t){var e=a(this.major,t.major);return 0===e&&0===(e=a(this.minor,t.minor))&&(e=a(this.patch,t.patch)),e}},{key:"toString",value:function(){return this._originalVersionString?this._originalVersionString:"".concat(this.major,".").concat(this.minor,".").concat(this.patch)}}],[{key:"fromDriver",value:function(e){var n=e.session();return n.run("RETURN 1").then((function(e){return n.close().then((function(){return t.fromString(e.summary.server.version)}))}))}},{key:"fromString",value:function(e){if(!e)return new t(3,0,0);if((0,ui.assertString)(e,"Neo4j version string"),e.toLowerCase()===o.toLowerCase())return p;var n=e.match(i);if(!n)throw new Error("Unparsable Neo4j version: ".concat(e));return new t(u(n[2]),u(n[3]),u(n[4]||0),e)}}]),t}();function u(t,e){var n=parseInt(t,10);if(!n&&0!==n)throw new Error("Unparsable number ".concat(e,": '").concat(t,"'"));return n}function a(t,e){return t<e?-1:t===e?0:1}e.ServerVersion=s;var c=s.fromString("Neo4j/3.2.0");e.VERSION_3_2_0=c;var l=s.fromString("Neo4j/3.4.0");e.VERSION_3_4_0=l;var h=s.fromString("Neo4j/3.5.0");e.VERSION_3_5_0=h;var f=s.fromString("Neo4j/4.0.0");e.VERSION_4_0_0=f;var d=Number.MAX_SAFE_INTEGER,p=new s(d,d,d,o);e.VERSION_IN_DEV=p}));
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
var Wh,qh=Hr((function(t,e){!function(t){function e(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length>1){e[0]=e[0].slice(0,-1);for(var r=e.length-1,i=1;i<r;++i)e[i]=e[i].slice(1,-1);return e[r]=e[r].slice(1),e.join("")}return e[0]}function n(t){return"(?:"+t+")"}function r(t){return void 0===t?"undefined":null===t?"null":Object.prototype.toString.call(t).split(" ").pop().split("]").shift().toLowerCase()}function i(t){return t.toUpperCase()}function o(t){return null!=t?t instanceof Array?t:"number"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[]}function s(t,e){var n=t;if(e)for(var r in e)n[r]=e[r];return n}function u(t){var r="[A-Za-z]",i="[0-9]",o=e(i,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),u="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=e("[\\:\\/\\?\\#\\[\\]\\@]",u),c=t?"[\\uE000-\\uF8FF]":"[]",l=e(r,i,"[\\-\\.\\_\\~]",t?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n(r+e(r,i,"[\\+\\-\\.]")+"*"),n(n(s+"|"+e(l,u,"[\\:]"))+"*");var h=n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i),f=n(h+"\\."+h+"\\."+h+"\\."+h),d=n(o+"{1,4}"),p=n(n(d+"\\:"+d)+"|"+f),v=n(n(d+"\\:")+"{6}"+p),y=n("\\:\\:"+n(d+"\\:")+"{5}"+p),_=n(n(d)+"?\\:\\:"+n(d+"\\:")+"{4}"+p),b=n(n(n(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+n(d+"\\:")+"{3}"+p),m=n(n(n(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+n(d+"\\:")+"{2}"+p),g=n(n(n(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+p),w=n(n(n(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+p),E=n(n(n(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),k=n(n(n(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),S=n([v,y,_,b,m,g,w,E,k].join("|")),x=n(n(l+"|"+s)+"+");n("[vV]"+o+"+\\."+e(l,u,"[\\:]")+"+"),n(n(s+"|"+e(l,u))+"*");var O=n(s+"|"+e(l,u,"[\\:\\@]"));return n(n(s+"|"+e(l,u,"[\\@]"))+"+"),n(n(O+"|"+e("[\\/\\?]",c))+"*"),{NOT_SCHEME:new RegExp(e("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,u),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",l,u),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,u),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,u),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,u,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,u,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,u),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,a),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+x+")")+"?\\]?$")}}var a=u(!1),c=u(!0),l=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},f=2147483647,d=36,p=1,v=26,y=38,_=700,b=72,m=128,g="-",w=/^xn--/,E=/[^\0-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=d-p,O=Math.floor,C=String.fromCharCode;function I(t){throw new RangeError(S[t])}function T(t,e){for(var n=[],r=t.length;r--;)n[r]=e(t[r]);return n}function N(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+T((t=t.replace(k,".")).split("."),e).join(".")}function P(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}var A=function(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:d},R=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},D=function(t,e,n){var r=0;for(t=n?O(t/_):t>>1,t+=O(t/e);t>x*v>>1;r+=d)t=O(t/x);return O(r+(x+1)*t/(t+y))},L=function(t){var e=[],n=t.length,r=0,i=m,o=b,s=t.lastIndexOf(g);s<0&&(s=0);for(var u=0;u<s;++u)t.charCodeAt(u)>=128&&I("not-basic"),e.push(t.charCodeAt(u));for(var a=s>0?s+1:0;a<n;){for(var c=r,l=1,h=d;;h+=d){a>=n&&I("invalid-input");var y=A(t.charCodeAt(a++));(y>=d||y>O((f-r)/l))&&I("overflow"),r+=y*l;var _=h<=o?p:h>=o+v?v:h-o;if(y<_)break;var w=d-_;l>O(f/w)&&I("overflow"),l*=w}var E=e.length+1;o=D(r-c,E,0==c),O(r/E)>f-i&&I("overflow"),i+=O(r/E),r%=E,e.splice(r++,0,i)}return String.fromCodePoint.apply(String,e)},M=function(t){var e=[],n=(t=P(t)).length,r=m,i=0,o=b,s=!0,u=!1,a=void 0;try{for(var c,l=t[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var h=c.value;h<128&&e.push(C(h))}}catch(q){u=!0,a=q}finally{try{!s&&l.return&&l.return()}finally{if(u)throw a}}var y=e.length,_=y;for(y&&e.push(g);_<n;){var w=f,E=!0,k=!1,S=void 0;try{for(var x,T=t[Symbol.iterator]();!(E=(x=T.next()).done);E=!0){var N=x.value;N>=r&&N<w&&(w=N)}}catch(q){k=!0,S=q}finally{try{!E&&T.return&&T.return()}finally{if(k)throw S}}var A=_+1;w-r>O((f-i)/A)&&I("overflow"),i+=(w-r)*A,r=w;var L=!0,M=!1,$=void 0;try{for(var j,U=t[Symbol.iterator]();!(L=(j=U.next()).done);L=!0){var V=j.value;if(V<r&&++i>f&&I("overflow"),V==r){for(var F=i,H=d;;H+=d){var B=H<=o?p:H>=o+v?v:H-o;if(F<B)break;var z=F-B,W=d-B;e.push(C(R(B+z%W,0))),F=O(z/W)}e.push(C(R(F,0))),o=D(i,A,_==y),i=0,++_}}}catch(q){M=!0,$=q}finally{try{!L&&U.return&&U.return()}finally{if(M)throw $}}++i,++r}return e.join("")},$=function(t){return N(t,(function(t){return w.test(t)?L(t.slice(4).toLowerCase()):t}))},j=function(t){return N(t,(function(t){return E.test(t)?"xn--"+M(t):t}))},U={version:"2.1.0",ucs2:{decode:P,encode:function(t){return String.fromCodePoint.apply(String,h(t))}},decode:L,encode:M,toASCII:j,toUnicode:$},V={};function F(t){var e=t.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function H(t){for(var e="",n=0,r=t.length;n<r;){var i=parseInt(t.substr(n+1,2),16);if(i<128)e+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(t.substr(n+4,2),16);e+=String.fromCharCode((31&i)<<6|63&o)}else e+=t.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var s=parseInt(t.substr(n+4,2),16),u=parseInt(t.substr(n+7,2),16);e+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}else e+=t.substr(n,9);n+=9}else e+=t.substr(n,3),n+=3}return e}function B(t,e){function n(t){var n=H(t);return n.match(e.UNRESERVED)?n:t}return t.scheme&&(t.scheme=String(t.scheme).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==t.userinfo&&(t.userinfo=String(t.userinfo).replace(e.PCT_ENCODED,n).replace(e.NOT_USERINFO,F).replace(e.PCT_ENCODED,i)),void 0!==t.host&&(t.host=String(t.host).replace(e.PCT_ENCODED,n).toLowerCase().replace(e.NOT_HOST,F).replace(e.PCT_ENCODED,i)),void 0!==t.path&&(t.path=String(t.path).replace(e.PCT_ENCODED,n).replace(t.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,F).replace(e.PCT_ENCODED,i)),void 0!==t.query&&(t.query=String(t.query).replace(e.PCT_ENCODED,n).replace(e.NOT_QUERY,F).replace(e.PCT_ENCODED,i)),void 0!==t.fragment&&(t.fragment=String(t.fragment).replace(e.PCT_ENCODED,n).replace(e.NOT_FRAGMENT,F).replace(e.PCT_ENCODED,i)),t}function z(t){return t.replace(/^0*(.*)/,"$1")||"0"}function W(t,e){var n=t.match(e.IPV4ADDRESS)||[],r=l(n,2)[1];return r?r.split(".").map(z).join("."):t}function q(t,e){var n=t.match(e.IPV6ADDRESS)||[],r=l(n,3),i=r[1],o=r[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),u=l(s,2),a=u[0],c=u[1],h=c?c.split(":").map(z):[],f=a.split(":").map(z),d=e.IPV4ADDRESS.test(f[f.length-1]),p=d?7:8,v=f.length-p,y=Array(p),_=0;_<p;++_)y[_]=h[_]||f[v+_]||"";d&&(y[p-1]=W(y[p-1],e));var b=y.reduce((function(t,e,n){if(!e||"0"===e){var r=t[t.length-1];r&&r.index+r.length===n?r.length++:t.push({index:n,length:1})}return t}),[]).sort((function(t,e){return e.length-t.length}))[0],m=void 0;if(b&&b.length>1){var g=y.slice(0,b.index),w=y.slice(b.index+b.length);m=g.join(":")+"::"+w.join(":")}else m=y.join(":");return o&&(m+="%"+o),m}return t}var K=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Y=void 0==="".match(/(){0}/)[1];function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==e.iri?c:a;"suffix"===e.reference&&(t=(e.scheme?e.scheme+":":"")+"//"+t);var i=t.match(K);if(i){Y?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==t.indexOf("@")?i[3]:void 0,n.host=-1!==t.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==t.indexOf("?")?i[7]:void 0,n.fragment=-1!==t.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=q(W(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",e.reference&&"suffix"!==e.reference&&e.reference!==n.reference&&(n.error=n.error||"URI is not a "+e.reference+" reference.");var o=V[(e.scheme||n.scheme||"").toLowerCase()];if(e.unicodeSupport||o&&o.unicodeSupport)B(n,r);else{if(n.host&&(e.domainHost||o&&o.domainHost))try{n.host=U.toASCII(n.host.replace(r.PCT_ENCODED,H).toLowerCase())}catch(s){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+s}B(n,a)}o&&o.parse&&o.parse(n,e)}else n.error=n.error||"URI can not be parsed.";return n}function Z(t,e){var n=!1!==e.iri?c:a,r=[];return void 0!==t.userinfo&&(r.push(t.userinfo),r.push("@")),void 0!==t.host&&r.push(q(W(String(t.host),n),n).replace(n.IPV6ADDRESS,(function(t,e,n){return"["+e+(n?"%25"+n:"")+"]"}))),"number"!=typeof t.port&&"string"!=typeof t.port||(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0}var J=/^\.\.?\//,X=/^\/\.(\/|$)/,Q=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function et(t){for(var e=[];t.length;)if(t.match(J))t=t.replace(J,"");else if(t.match(X))t=t.replace(X,"/");else if(t.match(Q))t=t.replace(Q,"/"),e.pop();else if("."===t||".."===t)t="";else{var n=t.match(tt);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];t=t.slice(r.length),e.push(r)}return e.join("")}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.iri?c:a,r=[],i=V[(e.scheme||t.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(t,e),t.host)if(n.IPV6ADDRESS.test(t.host));else if(e.domainHost||i&&i.domainHost)try{t.host=e.iri?U.toUnicode(t.host):U.toASCII(t.host.replace(n.PCT_ENCODED,H).toLowerCase())}catch(u){t.error=t.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+u}B(t,n),"suffix"!==e.reference&&t.scheme&&(r.push(t.scheme),r.push(":"));var o=Z(t,e);if(void 0!==o&&("suffix"!==e.reference&&r.push("//"),r.push(o),t.path&&"/"!==t.path.charAt(0)&&r.push("/")),void 0!==t.path){var s=t.path;e.absolutePath||i&&i.absolutePath||(s=et(s)),void 0===o&&(s=s.replace(/^\/\//,"/%2F")),r.push(s)}return void 0!==t.query&&(r.push("?"),r.push(t.query)),void 0!==t.fragment&&(r.push("#"),r.push(t.fragment)),r.join("")}function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(t=G(nt(t,n),n),e=G(nt(e,n),n)),!(n=n||{}).tolerant&&e.scheme?(r.scheme=e.scheme,r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=et(e.path||""),r.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(r.userinfo=e.userinfo,r.host=e.host,r.port=e.port,r.path=et(e.path||""),r.query=e.query):(e.path?("/"===e.path.charAt(0)?r.path=et(e.path):(void 0===t.userinfo&&void 0===t.host&&void 0===t.port||t.path?t.path?r.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:r.path=e.path:r.path="/"+e.path,r.path=et(r.path)),r.query=e.query):(r.path=t.path,void 0!==e.query?r.query=e.query:r.query=t.query),r.userinfo=t.userinfo,r.host=t.host,r.port=t.port),r.scheme=t.scheme),r.fragment=e.fragment,r}function it(t,e,n){var r=s({scheme:"null"},n);return nt(rt(G(t,r),G(e,r),r,!0),r)}function ot(t,e){return"string"==typeof t?t=nt(G(t,e),e):"object"===r(t)&&(t=G(nt(t,e),e)),t}function st(t,e,n){return"string"==typeof t?t=nt(G(t,n),n):"object"===r(t)&&(t=nt(t,n)),"string"==typeof e?e=nt(G(e,n),n):"object"===r(e)&&(e=nt(e,n)),t===e}function ut(t,e){return t&&t.toString().replace(e&&e.iri?c.ESCAPE:a.ESCAPE,F)}function at(t,e){return t&&t.toString().replace(e&&e.iri?c.PCT_ENCODED:a.PCT_ENCODED,H)}var ct={scheme:"http",domainHost:!0,parse:function(t,e){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t},serialize:function(t,e){var n="https"===String(t.scheme).toLowerCase();return t.port!==(n?443:80)&&""!==t.port||(t.port=void 0),t.path||(t.path="/"),t}},lt={scheme:"https",domainHost:ct.domainHost,parse:ct.parse,serialize:ct.serialize};function ht(t){return"boolean"==typeof t.secure?t.secure:"wss"===String(t.scheme).toLowerCase()}var ft={scheme:"ws",domainHost:!0,parse:function(t,e){var n=t;return n.secure=ht(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(t,e){if(t.port!==(ht(t)?443:80)&&""!==t.port||(t.port=void 0),"boolean"==typeof t.secure&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){var n=t.resourceName.split("?"),r=l(n,2),i=r[0],o=r[1];t.path=i&&"/"!==i?i:void 0,t.query=o,t.resourceName=void 0}return t.fragment=void 0,t}},dt={scheme:"wss",domainHost:ft.domainHost,parse:ft.parse,serialize:ft.serialize},pt={},vt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",yt="[0-9A-Fa-f]",_t=n(n("%[EFef]"+yt+"%"+yt+yt+"%"+yt+yt)+"|"+n("%[89A-Fa-f]"+yt+"%"+yt+yt)+"|"+n("%"+yt+yt)),bt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",mt=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),gt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",wt=new RegExp(vt,"g"),Et=new RegExp(_t,"g"),kt=new RegExp(e("[^]",bt,"[\\.]",'[\\"]',mt),"g"),St=new RegExp(e("[^]",vt,gt),"g"),xt=St;function Ot(t){var e=H(t);return e.match(wt)?e:t}var Ct={scheme:"mailto",parse:function(t,e){var n=t,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},s=n.query.split("&"),u=0,a=s.length;u<a;++u){var c=s[u].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),h=0,f=l.length;h<f;++h)r.push(l[h]);break;case"subject":n.subject=at(c[1],e);break;case"body":n.body=at(c[1],e);break;default:i=!0,o[at(c[0],e)]=at(c[1],e)}}i&&(n.headers=o)}n.query=void 0;for(var d=0,p=r.length;d<p;++d){var v=r[d].split("@");if(v[0]=at(v[0]),e.unicodeSupport)v[1]=at(v[1],e).toLowerCase();else try{v[1]=U.toASCII(at(v[1],e).toLowerCase())}catch(y){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+y}r[d]=v.join("@")}return n},serialize:function(t,e){var n=t,r=o(t.to);if(r){for(var s=0,u=r.length;s<u;++s){var a=String(r[s]),c=a.lastIndexOf("@"),l=a.slice(0,c).replace(Et,Ot).replace(Et,i).replace(kt,F),h=a.slice(c+1);try{h=e.iri?U.toUnicode(h):U.toASCII(at(h,e).toLowerCase())}catch(v){n.error=n.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+v}r[s]=l+"@"+h}n.path=r.join(",")}var f=t.headers=t.headers||{};t.subject&&(f.subject=t.subject),t.body&&(f.body=t.body);var d=[];for(var p in f)f[p]!==pt[p]&&d.push(p.replace(Et,Ot).replace(Et,i).replace(St,F)+"="+f[p].replace(Et,Ot).replace(Et,i).replace(xt,F));return d.length&&(n.query=d.join("&")),n}},It=/^([^\:]+)\:(.*)/,Tt={scheme:"urn",parse:function(t,e){var n=t.path&&t.path.match(It),r=t;if(n){var i=e.scheme||r.scheme||"urn",o=n[1].toLowerCase(),s=n[2],u=i+":"+(e.nid||o),a=V[u];r.nid=o,r.nss=s,r.path=void 0,a&&(r=a.parse(r,e))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(t,e){var n=e.scheme||t.scheme||"urn",r=t.nid,i=n+":"+(e.nid||r),o=V[i];o&&(t=o.serialize(t,e));var s=t,u=t.nss;return s.path=(r||e.nid)+":"+u,s}},Nt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Pt={scheme:"urn:uuid",parse:function(t,e){var n=t;return n.uuid=n.nss,n.nss=void 0,e.tolerant||n.uuid&&n.uuid.match(Nt)||(n.error=n.error||"UUID is not valid."),n},serialize:function(t,e){var n=t;return n.nss=(t.uuid||"").toLowerCase(),n}};V[ct.scheme]=ct,V[lt.scheme]=lt,V[ft.scheme]=ft,V[dt.scheme]=dt,V[Ct.scheme]=Ct,V[Tt.scheme]=Tt,V[Pt.scheme]=Pt,t.SCHEMES=V,t.pctEncChar=F,t.pctDecChars=H,t.parse=G,t.removeDotSegments=et,t.serialize=nt,t.resolveComponents=rt,t.resolve=it,t.normalize=ot,t.equal=st,t.escapeComponent=ut,t.unescapeComponent=at,Object.defineProperty(t,"__esModule",{value:!0})}(e)})),Kh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(gi),r=Br(qr),i=function t(e,n,i,o,s){(0,r.default)(this,t),this.scheme=e,this.host=n,this.port=i,this.hostAndPort=o,this.query=s};function o(t,e,n){if(!(t=(t||"").trim()))throw new Error("Illegal empty ".concat(e," in URL query '").concat(n,"'"));return t}function s(t){var e="["===t.charAt(0),n="]"===t.charAt(t.length-1);if(e||n){if(e&&n)return t;throw new Error("Illegal IPv6 address ".concat(t))}return"[".concat(t,"]")}function u(t){return"http"===t?7474:"https"===t?7473:7687}var a={parseDatabaseUrl:function(t){(0,ui.assertString)(t,"URL");var e=function(t){if(-1===(t=t.trim()).indexOf("://"))return{schemeMissing:!0,url:"none://".concat(t)};return{schemeMissing:!1,url:t}}(t),r=(0,qh.parse)(e.url),a=e.schemeMissing?null:function(t){if(t)return":"===(t=t.trim()).charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t;return null}(r.scheme),c=function(t,e){if(!t)throw new Error("Unable to extract host from ".concat(e));return t.trim()}(r.host),l=function(t){if(!t)throw new Error("Illegal host ".concat(t));return t.indexOf(":")>=0?s(t):t}(c),h=function(t,e){var n=parseInt(t,10);return 0===n||n?n:u(e)}(r.port,a),f="".concat(l,":").concat(h),d=function(t,e){var n=function(t){(t=(t||"").trim())&&"?"===t.charAt(0)&&(t=t.substring(1,t.length));return t}(t),r={};n&&n.split("&").forEach((function(t){var n=t.split("=");if(2!==n.length)throw new Error("Invalid parameters: '".concat(n,"' in URL '").concat(e,"'."));var i=o(n[0],"key",e),s=o(n[1],"value",e);if(r[i])throw new Error("Duplicated query parameters with key '".concat(i,"' in URL '").concat(e,"'"));r[i]=s}));return r}(r.query||function(t){if("string"!=typeof t)return null;var e=t.split("?"),r=(0,n.default)(e,2);return r[0],r[1]}(r.resourceName),t);return new i(a,c,h,f,d)},defaultPortForScheme:u,formatIPv4Address:function(t,e){return"".concat(t,":").concat(e)},formatIPv6Address:function(t,e){var n=s(t);return"".concat(n,":").concat(e)}};e.default=a})),Yh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Kh),o=function(){function t(e,r,i,o){(0,n.default)(this,t),this._host=(0,ui.assertString)(e,"host"),this._resolved=r?(0,ui.assertString)(r,"resolved"):null,this._port=(0,ui.assertNumber)(i,"port"),this._hostPort=o,this._stringValue=r?"".concat(o,"(").concat(r,")"):"".concat(o)}return(0,r.default)(t,[{key:"host",value:function(){return this._host}},{key:"resolvedHost",value:function(){return this._resolved?this._resolved:this._host}},{key:"port",value:function(){return this._port}},{key:"resolveWith",value:function(e){return new t(this._host,e,this._port,this._hostPort)}},{key:"asHostPort",value:function(){return this._hostPort}},{key:"asKey",value:function(){return this._hostPort}},{key:"toString",value:function(){return this._stringValue}}],[{key:"fromUrl",value:function(e){var n=i.default.parseDatabaseUrl(e);return new t(n.host,null,n.port,n.hostAndPort)}}]),t}();e.default=o})),Gh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(pi),r=Br(Ji),i=Br(qr),o=Br(Kr),s=Wr(ii);Br(li),Br(us);var u=Br(Wi),a=Br(Yh),c="context",l="CALL dbms.cluster.routing.getRoutingTable($".concat(c,")"),h="CALL dbms.routing.getRoutingTable($".concat(c,", $").concat("database",")"),f=function(){function t(e,n){(0,i.default)(this,t),this._routingContext=e,this._initialAddress=n}var e;return(0,o.default)(t,[{key:"callRoutingProcedure",value:(e=(0,r.default)(n.default.mark((function t(e,r,i){var o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._callAvailableRoutingProcedure(e,r);case 3:return o=t.sent,t.next=6,e.close();case 6:return t.abrupt("return",o.records);case 9:if(t.prev=9,t.t0=t.catch(0),"Neo.ClientError.Database.DatabaseNotFound"!==t.t0.code){t.next=15;break}throw t.t0;case 15:if("Neo.ClientError.Procedure.ProcedureNotFound"!==t.t0.code){t.next=19;break}throw(0,ri.newError)("Server at ".concat(i.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),ri.SERVICE_UNAVAILABLE);case 19:return t.abrupt("return",null);case 20:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(t,n,r){return e.apply(this,arguments)})},{key:"parseTtl",value:function(t,e){try{var n=(0,s.int)(Date.now()),r=(0,s.int)(t.get("ttl")).multiply(1e3).add(n);return r.lessThan(n)?s.default.MAX_VALUE:r}catch(i){throw(0,ri.newError)("Unable to parse TTL entry from router ".concat(e," from record:\n").concat(JSON.stringify(t),"\nError message: ").concat(i.message),ri.PROTOCOL_ERROR)}}},{key:"parseServers",value:function(t,e){try{var n=t.get("servers"),r=[],i=[],o=[];return n.forEach((function(t){var e=t.role,n=t.addresses;if("ROUTE"===e)r=d(n).map((function(t){return a.default.fromUrl(t)}));else if("WRITE"===e)o=d(n).map((function(t){return a.default.fromUrl(t)}));else{if("READ"!==e)throw(0,ri.newError)('Unknown server role "'+e+'"',ri.PROTOCOL_ERROR);i=d(n).map((function(t){return a.default.fromUrl(t)}))}})),{routers:r,readers:i,writers:o}}catch(s){throw(0,ri.newError)("Unable to parse servers entry from router ".concat(e," from record:\n").concat(JSON.stringify(t),"\nError message: ").concat(s.message),ri.PROTOCOL_ERROR)}}},{key:"_callAvailableRoutingProcedure",value:function(t,e){var n=this;return t._run(null,null,(function(r){var i,o;return r.protocol().version>=4?(i=h,(o={context:n._routingContext||{},database:e||null}).context.address=n._initialAddress):(i=l,o={context:n._routingContext}),r.protocol().run(i,o,{bookmark:t._lastBookmark,txConfig:u.default.empty(),mode:t._mode,database:t._database,afterComplete:t._onComplete})}))}}]),t}();function d(t){if(!Array.isArray(t))throw new TypeError("Array expected but got: "+t);return Array.from(t)}e.default=f})),Zh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(pi),r=Br(Ji),i=Br(qr),o=Br(Kr),s=Br(zh);Br(Gh);var u=function(){function t(e){(0,i.default)(this,t),this._routingUtil=e}var e;return(0,o.default)(t,[{key:"lookupRoutingTableOnRouter",value:(e=(0,r.default)(n.default.mark((function e(r,i,o){var u,a,c,l,h,f,d;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._routingUtil.callRoutingProcedure(r,i,o);case 2:if(null!==(u=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:if(1===u.length){e.next=7;break}throw(0,ri.newError)('Illegal response from router "'+o+'". Received '+u.length+" records but expected only one.\n"+JSON.stringify(u),ri.PROTOCOL_ERROR);case 7:return a=u[0],c=this._routingUtil.parseTtl(a,o),l=this._routingUtil.parseServers(a,o),h=l.routers,f=l.readers,d=l.writers,t._assertNonEmpty(h,"routers",o),t._assertNonEmpty(f,"readers",o),e.abrupt("return",new s.default({database:i,routers:h,readers:f,writers:d,expirationTime:c}));case 13:case"end":return e.stop()}}),e,this)}))),function(t,n,r){return e.apply(this,arguments)})}],[{key:"_assertNonEmpty",value:function(t,e,n){if(0===t.length)throw(0,ri.newError)("Received no "+e+" from router "+n,ri.PROTOCOL_ERROR)}}]),t}();e.default=u})),Jh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=function(t){function e(t){var r;return(0,n.default)(this,e),(r=(0,i.default)(this,(0,o.default)(e).call(this)))._connection=t,r}return(0,s.default)(e,t),(0,r.default)(e,[{key:"acquireConnection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.accessMode,t.database,t.bookmarks;var e=this._connection;return this._connection=null,Promise.resolve(e)}}]),e}(Br(Zi).default);e.default=u})),Xh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=function(){function t(e){(0,n.default)(this,t),this._offset=e||0}return(0,r.default)(t,[{key:"next",value:function(t){if(0===t)return-1;var e=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),e%t}}]),t}();e.default=i})),Qh=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=function(){function t(){(0,n.default)(this,t)}return(0,r.default)(t,[{key:"selectReader",value:function(t){throw new Error("Abstract function")}},{key:"selectWriter",value:function(t){throw new Error("Abstract function")}}]),t}();e.default=i})),tf=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=Br(Xh),a=function(t){function e(t){var r;return(0,n.default)(this,e),(r=(0,i.default)(this,(0,o.default)(e).call(this)))._readersIndex=new u.default,r._writersIndex=new u.default,r._connectionPool=t,r}return(0,s.default)(e,t),(0,r.default)(e,[{key:"selectReader",value:function(t){return this._select(t,this._readersIndex)}},{key:"selectWriter",value:function(t){return this._select(t,this._writersIndex)}},{key:"_select",value:function(t,e){var n=t.length;if(0===n)return null;var r=e.next(n),i=r,o=null,s=Number.MAX_SAFE_INTEGER;do{var u=t[i],a=this._connectionPool.activeResourceCount(u);a<s&&(o=u,s=a),i===n-1?i=0:i++}while(i!==r);return o}}]),e}(Br(Qh).default);e.default=a})),ef=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(pi),r=Br(Ji),i=Br(qr),o=Br(Kr),s=Br(Gr),u=Br(Zr),a=Br(Xr),c=Br(us),l=Br(zh),h=Br(Zh),f=Br(Gh),d=Br(Jh),p=Br(ts),v=Br(Qo),y=Br(es),_=Br(tf),b=Br(li),m=Br(Go),g=(0,ii.int)(3e4),w=function(t){function e(t){var n,r=t.id,o=t.address,a=t.routingContext,c=t.hostNameResolver,l=t.config,d=t.log,p=t.userAgent,v=t.authToken,y=t.routingTablePurgeDelay;return(0,i.default)(this,e),(n=(0,s.default)(this,(0,u.default)(e).call(this,{id:r,config:l,log:d,userAgent:p,authToken:v},(function(t){return m.default.create(t,n._config,n._createConnectionErrorHandler(),n._log,a||{})}))))._seedRouter=o,n._routingTables={},n._rediscovery=new h.default(new f.default(a,o.toString())),n._loadBalancingStrategy=new _.default(n._connectionPool),n._hostNameResolver=c,n._dnsResolver=new Vi.HostNameResolver,n._log=d,n._useSeedRouter=!0,n._routingTablePurgeDelay=y?(0,ii.int)(y):g,n}var p,w,E,k,S,x,O,C,I,T,N,P;return(0,a.default)(e,t),(0,o.default)(e,[{key:"_createConnectionErrorHandler",value:function(){return new v.default(ri.SESSION_EXPIRED)}},{key:"_handleUnavailability",value:function(t,e,n){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(e," for database '").concat(n,"' because of an error ").concat(t.code," '").concat(t.message,"'")),this.forget(e,n||""),t}},{key:"_handleWriteFailure",value:function(t,e,n){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(e," for database '").concat(n,"' because of an error ").concat(t.code," '").concat(t.message,"'")),this.forgetWriter(e,n||""),(0,ri.newError)("No longer possible to write to server at "+e,ri.SESSION_EXPIRED)}},{key:"acquireConnection",value:(P=(0,r.default)(n.default.mark((function t(){var e,r,i,o,s,u,a,c,l,h=this,f=arguments;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=f.length>0&&void 0!==f[0]?f[0]:{},r=e.accessMode,i=e.database,o=e.bookmark,a=new v.default(ri.SESSION_EXPIRED,(function(t,e){return h._handleUnavailability(t,e,i)}),(function(t,e){return h._handleWriteFailure(t,e,i)})),t.next=4,this._freshRoutingTable({accessMode:r,database:i||"",bookmark:o});case 4:if(c=t.sent,r!==Uh.READ){t.next=10;break}u=this._loadBalancingStrategy.selectReader(c.readers),s="read",t.next=16;break;case 10:if(r!==Uh.WRITE){t.next=15;break}u=this._loadBalancingStrategy.selectWriter(c.writers),s="write",t.next=16;break;case 15:throw(0,ri.newError)("Illegal mode "+r);case 16:if(u){t.next=18;break}throw(0,ri.newError)("Failed to obtain connection towards ".concat(s," server. Known routing table is: ").concat(c),ri.SESSION_EXPIRED);case 18:return t.prev=18,t.next=21,this._acquireConnectionToServer(u,s,c);case 21:return l=t.sent,t.abrupt("return",new y.default(l,a));case 25:throw t.prev=25,t.t0=t.catch(18),a.handleAndTransformError(t.t0,u);case 29:case"end":return t.stop()}}),t,this,[[18,25]])}))),function(){return P.apply(this,arguments)})},{key:"_hasProtocolVersion",value:(N=(0,r.default)(n.default.mark((function t(e){var r,i,o,s,u;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._resolveSeedRouter(this._seedRouter);case 2:r=t.sent,o=0;case 4:if(!(o<r.length)){t.next=25;break}return s=m.default.create(r[o],this._config,this._createConnectionErrorHandler(),this._log),t.prev=6,t.next=9,s._negotiateProtocol();case 9:if(!(u=s.protocol())){t.next=12;break}return t.abrupt("return",e(u.version));case 12:return t.abrupt("return",!1);case 15:t.prev=15,t.t0=t.catch(6),i=t.t0;case 18:return t.prev=18,t.next=21,s.close();case 21:return t.finish(18);case 22:o++,t.next=4;break;case 25:if(!i){t.next=27;break}throw i;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}}),t,this,[[6,15,18,22]])}))),function(t){return N.apply(this,arguments)})},{key:"supportsMultiDb",value:(T=(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._hasProtocolVersion((function(t){return t>=ai.BOLT_PROTOCOL_V4_0}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return T.apply(this,arguments)})},{key:"supportsTransactionConfig",value:(I=(0,r.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._hasProtocolVersion((function(t){return t>=ai.BOLT_PROTOCOL_V3}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)})},{key:"forget",value:function(t,e){e||""===e?this._routingTables[e].forget(t):Object.values(this._routingTables).forEach((function(e){return e.forget(t)})),this._connectionPool.purge(t).catch((function(){}))}},{key:"forgetWriter",value:function(t,e){e||""===e?this._routingTables[e].forgetWriter(t):Object.values(this._routingTables).forEach((function(e){return e.forgetWriter(t)}))}},{key:"_acquireConnectionToServer",value:function(t,e,n){return this._connectionPool.acquire(t)}},{key:"_freshRoutingTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.accessMode,n=t.database,r=t.bookmark,i=this._routingTables[n]||new l.default({database:n});return i.isStaleFor(e)?(this._log.info('Routing table is stale for database: "'.concat(n,'" and access mode: "').concat(e,'": ').concat(i)),this._refreshRoutingTable(i,r)):i}},{key:"_refreshRoutingTable",value:function(t,e){var n=t.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(n,t,e):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(n,t,e)}},{key:"_fetchRoutingTableFromSeedRouterFallbackToKnownRouters",value:(C=(0,r.default)(n.default.mark((function t(e,r,i){var o,s;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[],t.next=3,this._fetchRoutingTableUsingSeedRouter(o,this._seedRouter,r,i);case 3:if(!(s=t.sent)){t.next=8;break}this._useSeedRouter=!1,t.next=11;break;case 8:return t.next=10,this._fetchRoutingTableUsingKnownRouters(e,r,i);case 10:s=t.sent;case 11:return t.next=13,this._applyRoutingTableIfPossible(r,s);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return C.apply(this,arguments)})},{key:"_fetchRoutingTableFromKnownRoutersFallbackToSeedRouter",value:(O=(0,r.default)(n.default.mark((function t(e,r,i){var o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetchRoutingTableUsingKnownRouters(e,r,i);case 2:if(o=t.sent){t.next=7;break}return t.next=6,this._fetchRoutingTableUsingSeedRouter(e,this._seedRouter,r,i);case 6:o=t.sent;case 7:return t.next=9,this._applyRoutingTableIfPossible(r,o);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return O.apply(this,arguments)})},{key:"_fetchRoutingTableUsingKnownRouters",value:(x=(0,r.default)(n.default.mark((function t(r,i,o){var s,u;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetchRoutingTable(r,i,o);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s);case 5:return u=r.length-1,e._forgetRouter(i,r,u),t.abrupt("return",null);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return x.apply(this,arguments)})},{key:"_fetchRoutingTableUsingSeedRouter",value:(S=(0,r.default)(n.default.mark((function t(e,r,i,o){var s,u;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._resolveSeedRouter(r);case 2:return s=t.sent,u=s.filter((function(t){return e.indexOf(t)<0})),t.next=6,this._fetchRoutingTable(u,i,o);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,n,r){return S.apply(this,arguments)})},{key:"_resolveSeedRouter",value:(k=(0,r.default)(n.default.mark((function t(e){var r,i,o=this;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._hostNameResolver.resolve(e);case 2:return r=t.sent,t.next=5,Promise.all(r.map((function(t){return o._dnsResolver.resolve(t)})));case 5:return i=t.sent,t.abrupt("return",[].concat.apply([],i));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return k.apply(this,arguments)})},{key:"_fetchRoutingTable",value:function(t,i,o){var s=this;return t.reduce(function(){var u=(0,r.default)(n.default.mark((function r(u,a,c){var l,h,f;return n.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u;case 2:if(!(l=n.sent)){n.next=7;break}return n.abrupt("return",l);case 7:h=c-1,e._forgetRouter(i,t,h);case 9:return n.next=11,s._createSessionForRediscovery(a,o);case 11:if(!(f=n.sent)){n.next=27;break}return n.prev=13,n.next=16,s._rediscovery.lookupRoutingTableOnRouter(f,i.database,a);case 16:return n.abrupt("return",n.sent);case 19:if(n.prev=19,n.t0=n.catch(13),!n.t0||"Neo.ClientError.Database.DatabaseNotFound"!==n.t0.code){n.next=23;break}throw n.t0;case 23:return s._log.warn("unable to fetch routing table because of an error ".concat(n.t0)),n.abrupt("return",null);case 25:n.next=28;break;case 27:return n.abrupt("return",null);case 28:case"end":return n.stop()}}),r,null,[[13,19]])})));return function(t,e,n){return u.apply(this,arguments)}}(),Promise.resolve(null))}},{key:"_createSessionForRediscovery",value:(E=(0,r.default)(n.default.mark((function t(e,r){var i,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._connectionPool.acquire(e);case 3:if(i=t.sent,o=new d.default(i),!(i.protocol().version<4)){t.next=8;break}return t.abrupt("return",new c.default({mode:Uh.WRITE,bookmark:b.default.empty(),connectionProvider:o}));case 8:return t.abrupt("return",new c.default({mode:Uh.READ,database:"system",bookmark:r,connectionProvider:o}));case 11:if(t.prev=11,t.t0=t.catch(0),!t.t0||"Neo.ClientError.Security.Unauthorized"!==t.t0.code){t.next=15;break}throw t.t0;case 15:return t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t,e){return E.apply(this,arguments)})},{key:"_applyRoutingTableIfPossible",value:(w=(0,r.default)(n.default.mark((function t(e,r){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}throw(0,ri.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(e),ri.SERVICE_UNAVAILABLE);case 2:return 0===r.writers.length&&(this._useSeedRouter=!0),t.next=5,this._updateRoutingTable(r);case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return w.apply(this,arguments)})},{key:"_updateRoutingTable",value:(p=(0,r.default)(n.default.mark((function t(e){var r=this;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._connectionPool.keepAll(e.allServers());case 2:Object.values(this._routingTables).forEach((function(t){t.isExpiredFor(r._routingTablePurgeDelay)&&delete r._routingTables[t.database]})),this._routingTables[e.database]=e,this._log.info("Updated routing table ".concat(e));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})}],[{key:"_forgetRouter",value:function(t,e,n){var r=e[n];t&&r&&t.forgetRouter(r)}}]),e}(p.default);e.default=w})),nf=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Yh);function o(t){return Promise.resolve([t])}var s=function(){function t(e){(0,n.default)(this,t),this._resolverFunction=e||o}return(0,r.default)(t,[{key:"resolve",value:function(t){var e=this;return new Promise((function(n){return n(e._resolverFunction(t.asHostPort()))})).then((function(t){if(!Array.isArray(t))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(t));return t.map((function(t){return i.default.fromUrl(t)}))}))}}]),t}();e.default=s})),rf=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Br(qr),r=Br(Kr),i=Br(Gr),o=Br(Zr),s=Br(Xr),u=Br(ef);Br(tf),Br(Qo);var a=Br(nf);function c(t){var e=t.resolver;if(e&&"function"!=typeof e)throw new TypeError("Configured resolver should be a function. Got: ".concat(e));return t}var l=function(t){function e(t,r,s){var u,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,n.default)(this,e),(u=(0,i.default)(this,(0,o.default)(e).call(this,t,s,a,c(l))))._routingContext=r,u}return(0,s.default)(e,t),(0,r.default)(e,[{key:"_afterConstruction",value:function(){this._log.info("Routing driver ".concat(this._id," created for server address ").concat(this._address))}},{key:"_createConnectionProvider",value:function(t,e,n){return new u.default({id:this._id,address:t,routingContext:this._routingContext,hostNameResolver:(r=this._config,new a.default(r.resolver)),config:this._config,log:this._log,userAgent:e,authToken:n});var r}},{key:"_supportsRouting",value:function(){return!0}}]),e}(Uh.Driver);e.default=l})),of=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default="4.2.3"})),sf=Hr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.driver=l,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return n.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return n.isInt}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return ri.Neo4jError}}),Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return Qi.isPoint}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return Fo.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return Fo.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return Fo.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return Fo.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return Fo.isLocalTime}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return Fo.isTime}}),e.default=e.temporal=e.spatial=e.error=e.session=e.types=e.logging=e.auth=e.integer=void 0;var n=Wr(ii),r=Br(Gi),i=Br(si),o=Br(wi),s=Br(rf),u=Br(of),a=Br(Kh),c=Br(Yh);function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,ui.assertString)(t,"Bolt URL");var r,i=a.default.parseDatabaseUrl(t),o=!1,u=!1;switch(i.scheme){case"bolt":break;case"bolt+s":u=!0,r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":u=!0,r="TRUST_ALL_CERTIFICATES";break;case"neo4j":o=!0;break;case"neo4j+s":u=!0,r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",o=!0;break;case"neo4j+ssc":u=!0,r="TRUST_ALL_CERTIFICATES",o=!0;break;default:throw new Error("Unknown scheme: ".concat(i.scheme))}if(u){if("encrypted"in n||"trust"in n)throw new Error("Encryption/trust can only be configured either through URL or config, not both");n.encrypted=ui.ENCRYPTION_ON,n.trust=r}if((e=e||{}).scheme=e.scheme||"none",n.userAgent=n.userAgent||f,o)return new s.default(c.default.fromUrl(i.hostAndPort),i.query,n.userAgent,e,n);if(!(0,ui.isEmptyObjectOrNull)(i.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(t,"'"));return new Uh.Driver(c.default.fromUrl(i.hostAndPort),n.userAgent,e,n)}var h={basic:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return n?{scheme:"basic",principal:t,credentials:e,realm:n}:{scheme:"basic",principal:t,credentials:e}},kerberos:function(t){return{scheme:"kerberos",principal:"",credentials:t}},custom:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return i?{scheme:r,principal:t,credentials:e,realm:n,parameters:i}:{scheme:r,principal:t,credentials:e,realm:n}}};e.auth=h;var f="neo4j-javascript/"+u.default,d={console:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return{level:t,logger:function(t,e){return console.log("".concat(Ur.Date.now()," ").concat(t.toUpperCase()," ").concat(e))}}}))};e.logging=d;var p={Node:oi.Node,Relationship:oi.Relationship,UnboundRelationship:oi.UnboundRelationship,PathSegment:oi.PathSegment,Path:oi.Path,Result:r.default,ResultSummary:i.default,Record:o.default,Point:Qi.Point,Date:Fo.Date,DateTime:Fo.DateTime,Duration:Fo.Duration,LocalDateTime:Fo.LocalDateTime,LocalTime:Fo.LocalTime,Time:Fo.Time,Integer:n.default};e.types=p;var v={READ:Uh.READ,WRITE:Uh.WRITE};e.session=v;var y={SERVICE_UNAVAILABLE:ri.SERVICE_UNAVAILABLE,SESSION_EXPIRED:ri.SESSION_EXPIRED,PROTOCOL_ERROR:ri.PROTOCOL_ERROR};e.error=y;var _={toNumber:n.toNumber,toString:n.toString,inSafeRange:n.inSafeRange};e.integer=_;var b={isPoint:Qi.isPoint};e.spatial=b;var m={isDuration:Fo.isDuration,isLocalTime:Fo.isLocalTime,isTime:Fo.isTime,isDate:Fo.isDate,isLocalDateTime:Fo.isLocalDateTime,isDateTime:Fo.isDateTime};e.temporal=m;var g={driver:l,int:n.int,isInt:n.isInt,isPoint:Qi.isPoint,isDuration:Fo.isDuration,isLocalTime:Fo.isLocalTime,isTime:Fo.isTime,isDate:Fo.isDate,isLocalDateTime:Fo.isLocalDateTime,isDateTime:Fo.isDateTime,integer:_,Neo4jError:ri.Neo4jError,auth:h,logging:d,types:p,session:v,error:y,spatial:b,temporal:m};e.default=g})),uf=function(){function t(t,e,n){this.alias=t,this.model=e,this.properties=n}return t.prototype.toString=function(){var t="("+(this.alias||"");return Array.isArray(this.model)?t+=":"+this.model.join(":"):void 0!==this.model&&(t+=":"+this.model),void 0!==this.properties&&this.properties.length&&(t+=" {",t+=this.properties.map((function(t){return t.toInlineString()})).join(", "),t+="}"),t+")"},t}(),af=Object.defineProperty({default:uf},"__esModule",{value:!0}),cf=Hr((function(t,e){var n,r,i,o,s,u,a;Object.defineProperty(e,"__esModule",{value:!0}),(n=e.Condition||(e.Condition={})).DEFAULT="",n.WHERE="WHERE ",n.OR="OR ",(r=e.Direction||(e.Direction={}))[r.INCOMING=0]="INCOMING",r[r.OUTGOING=1]="OUTGOING",r[r.BOTH=2]="BOTH",(i=e.Operator||(e.Operator={})).EQUALS="=",i.LIKE="LIKE",i.CONTAINS="CONTAINS",i.STARTS_WITH="STARTS WITH",i.ENDS_WITH="ENDS WITH",i.GREATER_THAN=">",i.GREATER_THAN_OR_EQUAL=">=",i.LESS_THAN="<",i.LESS_THAN_OR_EQUAL="<=",(o=e.Order||(e.Order={})).ASC="ASC",o.DESC="DESC",(s=e.Prefix||(e.Prefix={})).AND="AND ",s.OR="OR ",s.DEFAULT="AND ",(u=e.SetOperator||(e.SetOperator={})).EQUALS="=",u.APPEND_EQUALS="+=",(a=e.StatementPrefix||(e.StatementPrefix={})).MATCH="MATCH",a.OPTIONAL_MATCH="OPTIONAL MATCH",a.WITH="WITH",a.CALL="CALL",a.CREATE="CREATE",a.MERGE="MERGE",a.DETACH_DELETE="DETACH DELETE"})),lf=function(){function t(t,e,n,r){void 0===n&&(n=cf.Operator.EQUALS),void 0===r&&(r=cf.Prefix.DEFAULT),this.negative=!1,this.alias=t,this.param=e,this.operator=n,this.prefix=r}return t.prototype.setNegative=function(){return this.negative=!0,this},t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this.negative?"NOT ":"";return""+(t?this.prefix:"")+e+this.alias+" "+this.operator+" $"+this.param},t}(),hf=Object.defineProperty({default:lf},"__esModule",{value:!0}),ff=function(){function t(t,e){void 0===e&&(e=cf.Prefix.DEFAULT),this.predicate=t,this.prefix=e}return t.prototype.toString=function(t){return void 0===t&&(t=!1),""+(t?this.prefix:"")+this.predicate},t}(),df=Object.defineProperty({default:ff},"__esModule",{value:!0}),pf=Ur&&Ur.__extends||(Wh=function(t,e){return(Wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),vf=function(t){function e(e,n,r,i){void 0===r&&(r=cf.Operator.EQUALS),void 0===i&&(i=cf.Prefix.AND);var o=t.call(this,e,n,r,i)||this;return o.alias="id("+e+")",o.param=n,o.operator=r,o.prefix=i,o}return pf(e,t),e}((Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(hf).default),yf=Object.defineProperty({default:vf},"__esModule",{value:!0}),_f=function(){function t(t,e,n){this.alias=t,this.floor=e,this.ceiling=n}return t.prototype.toString=function(){return this.alias+" BETWEEN $"+this.floor+" AND $"+this.ceiling},t}(),bf=Object.defineProperty({default:_f},"__esModule",{value:!0}),mf=Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},gf=mf(hf),wf=mf(df),Ef=mf(yf),kf=mf(bf),Sf=function(){function t(t){void 0===t&&(t=cf.Condition.DEFAULT),this.predicates=[],this.condition=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.predicates.length},enumerable:!0,configurable:!0}),t.prototype.where=function(e,n,r,i,o){if(void 0===o&&(o=!1),e instanceof t)this.predicates.push(e);else{var s=new gf.default(e,n,r,i);o&&s.setNegative(),this.predicates.push(s)}return this},t.prototype.whereNot=function(t,e,n){return this.predicates.push(new gf.default(t,e,cf.Operator.EQUALS,n).setNegative()),this},t.prototype.whereId=function(t,e,n){return this.predicates.push(new Ef.default(t,e,cf.Operator.EQUALS,n)),this},t.prototype.whereNotId=function(t,e,n){return this.predicates.push(new Ef.default(t,e,cf.Operator.EQUALS,n).setNegative()),this},t.prototype.whereRaw=function(t,e){return this.predicates.push(new wf.default(t,e)),this},t.prototype.whereBetween=function(t,e,n){return this.predicates.push(new kf.default(t,e,n)),this},t.prototype.whereLike=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.LIKE)),this},t.prototype.whereNotLike=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.LIKE).setNegative()),this},t.prototype.whereStartsWith=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.STARTS_WITH)),this},t.prototype.whereNotStartsWith=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.STARTS_WITH).setNegative()),this},t.prototype.whereEndsWith=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.ENDS_WITH)),this},t.prototype.whereNotEndsWith=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.ENDS_WITH).setNegative()),this},t.prototype.whereContains=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.CONTAINS)),this},t.prototype.whereNotContains=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.CONTAINS).setNegative()),this},t.prototype.whereGreaterThan=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.GREATER_THAN)),this},t.prototype.whereGreaterThanOrEqual=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.GREATER_THAN_OR_EQUAL)),this},t.prototype.whereLessThan=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.LESS_THAN)),this},t.prototype.whereLessThanOrEqual=function(t,e){return this.predicates.push(new gf.default(t,e,cf.Operator.LESS_THAN_OR_EQUAL)),this},t.prototype.or=function(t,e,n){return this.predicates.push(new gf.default(t,e,n,cf.Prefix.OR)),this},t.prototype.toString=function(){return this.condition+"("+this.predicates.map((function(t,e){return t.toString(e>0)})).join(" ")+")"},t}(),xf=Object.defineProperty({default:Sf},"__esModule",{value:!0}),Of=function(){function t(t){this.values=t}return t.prototype.toString=function(){return this.values.join(", ")},t}(),Cf=Object.defineProperty({default:Of},"__esModule",{value:!0}),If=function(){function t(t,e){this.key=t,this.order=e}return t.prototype.toString=function(){return this.key+" "+this.order},t}(),Tf=Object.defineProperty({default:If},"__esModule",{value:!0}),Nf=function(){function t(t,e,n,r,i){void 0===e&&(e=cf.Direction.BOTH),void 0===n&&(n=void 0),void 0===r&&(r=[]),void 0===i&&(i=void 0),this.properties=[],this.type=t,this.direction=e,this.alias=n,this.properties=r,this.degrees=i}return t.prototype.setDegrees=function(t){return this.degrees=t,this},t.prototype.toString=function(){var t="";return Array.isArray(this.type)?t=this.type.join("|"):void 0!==this.type&&(t=this.type),[this.direction===cf.Direction.INCOMING?"<":"","-[",void 0!==this.alias?this.alias:"",":",t,this.properties.length?" {"+this.properties.map((function(t){return t.toInlineString()})).join(", ")+"}":"",void 0!==this.degrees?"*"+this.degrees:"","]-",this.direction===cf.Direction.OUTGOING?">":""].join("")},t}(),Pf=Object.defineProperty({default:Nf},"__esModule",{value:!0}),Af=function(){function t(t){this.value=t}return t.prototype.toString=function(){return this.value},t}(),Rf=Object.defineProperty({default:Af},"__esModule",{value:!0}),Df=(Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(Rf),Lf=function(){function t(t,e,n){void 0===n&&(n=cf.SetOperator.EQUALS),this.key=t,this.param=e,this.operator=n}return t.prototype.toString=function(){var t=this.param instanceof Df.default?this.param.toString():"$"+this.param;return this.key+" "+this.operator+" "+t},t}(),Mf=Object.defineProperty({default:Lf},"__esModule",{value:!0}),$f=function(){function t(t,e){this.fn=t,this.parameters=e}return t.prototype.parameterToString=function(t){var e=this;if("string"==typeof t&&"$"!=t.substr(0,1))return'"'+t.replace('"','"')+'"';if(Array.isArray(t))return"["+t.map((function(t){return e.parameterToString(t)})).join(", ")+"]";if("object"==typeof t){var n="{";return(n+=Object.entries(t).map((function(t){var n=t[0],r=t[1];return n+": "+e.parameterToString(r)})).join(", "))+"}"}return t.toString()},t.prototype.toString=function(){var t=this;return this.fn+"("+this.parameters.map((function(e){return t.parameterToString(e)})).join(", ")+")"},t}(),jf=Object.defineProperty({default:$f},"__esModule",{value:!0}),Uf=function(){function t(t,e,n){this.identifier=t,this.collection=e,this.query=n}return t.prototype.toString=function(){return"FOREACH ( "+this.identifier+" IN $"+this.collection+" | "+this.query.toString()+" )"},t}(),Vf=Object.defineProperty({default:Uf},"__esModule",{value:!0}),Ff=Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Hf=Ff(af),Bf=Ff(xf),zf=Ff(Cf),Wf=Ff(Tf),qf=Ff(Pf),Kf=Ff(Mf),Yf=Ff(jf),Gf=Ff(Vf),Zf=function(){function t(t){this.deleteValues=[],this.detachDeleteValues=[],this.removeValues=[],this.onCreateSetValues=[],this.onMatchSetValues=[],this.setValues=[],this.returnValues=[],this.yieldValues=[],this.foreachStatements=[],this.pattern=[],this.predicates=[new Bf.default(cf.Condition.WHERE)],this.order=[],this.prefix=t}return t.prototype.lastPredicate=function(){return this.predicates[this.predicates.length-1]},t.prototype.call=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.pattern.push(new Yf.default(t,e)),this},t.prototype.yield=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.yieldValues=this.yieldValues.concat(t),this},t.prototype.with=function(t){return this.pattern.push(new zf.default(t)),this},t.prototype.match=function(t,e,n){return this.pattern.push(new Hf.default(t,e,n)),this},t.prototype.relationship=function(t,e,n,r,i){return this.pattern.push(new qf.default(t,e,n,r,i)),this},t.prototype.where=function(t,e,n,r,i){return void 0===i&&(i=!1),this.lastPredicate().where(t,e,n,r,i),this},t.prototype.foreach=function(t,e,n){this.foreachStatements.push(new Gf.default(t,e,n))},t.prototype.delete=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.deleteValues=this.deleteValues.concat(t),this},t.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.removeValues=this.removeValues.concat(t),this},t.prototype.onCreateSet=function(t,e){return this.onCreateSetValues.push(new Kf.default(t,e)),this},t.prototype.onMatchSet=function(t,e){return this.onMatchSetValues.push(new Kf.default(t,e)),this},t.prototype.set=function(t,e){return this.setValues.push(new Kf.default(t,e)),this},t.prototype.setAppend=function(t,e){return this.setValues.push(new Kf.default(t,e,cf.SetOperator.APPEND_EQUALS)),this},t.prototype.detachDelete=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.detachDeleteValues=this.detachDeleteValues.concat(t),this},t.prototype.whereNot=function(t,e,n){return this.lastPredicate().whereNot(t,e,n),this},t.prototype.whereId=function(t,e,n){return this.lastPredicate().whereId(t,e,n),this},t.prototype.whereNotId=function(t,e,n){return this.lastPredicate().whereNotId(t,e,n),this},t.prototype.whereRaw=function(t,e){return this.lastPredicate().whereRaw(t,e),this},t.prototype.whereBetween=function(t,e,n){return this.lastPredicate().whereBetween(t,e,n),this},t.prototype.whereLike=function(t,e){return this.lastPredicate().whereLike(t,e),this},t.prototype.whereNotLike=function(t,e){return this.lastPredicate().whereNotLike(t,e),this},t.prototype.whereStartsWith=function(t,e){return this.lastPredicate().whereStartsWith(t,e),this},t.prototype.whereNotStartsWith=function(t,e){return this.lastPredicate().whereNotStartsWith(t,e),this},t.prototype.whereEndsWith=function(t,e){return this.lastPredicate().whereEndsWith(t,e),this},t.prototype.whereNotEndsWith=function(t,e){return this.lastPredicate().whereNotEndsWith(t,e),this},t.prototype.whereContains=function(t,e){return this.lastPredicate().whereContains(t,e),this},t.prototype.whereNotContains=function(t,e){return this.lastPredicate().whereNotContains(t,e),this},t.prototype.whereGreaterThan=function(t,e){return this.lastPredicate().whereGreaterThan(t,e),this},t.prototype.whereGreaterThanOrEqual=function(t,e){return this.lastPredicate().whereGreaterThanOrEqual(t,e),this},t.prototype.whereLessThan=function(t,e){return this.lastPredicate().whereLessThan(t,e),this},t.prototype.whereLessThanOrEqual=function(t,e){return this.lastPredicate().whereLessThanOrEqual(t,e),this},t.prototype.orderBy=function(t,e){return void 0===e&&(e=cf.Order.ASC),this.order.push(new Wf.default(t,e)),this},t.prototype.return=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.returnValues=this.returnValues.concat(t),this},t.prototype.skip=function(t){this.skipRows=t},t.prototype.limit=function(t){this.limitRows=t},t.prototype.toString=function(){var t=[];if(this.pattern.length&&t.push(this.prefix+" "+this.pattern.map((function(t){return t.toString()})).join("")),this.yieldValues.length&&t.push("YIELD "+this.yieldValues.map((function(t){return t.toString()})).join(", ")),this.predicates.length){var e=this.predicates.filter((function(t){return t.length>0})).map((function(t){return t.toString()})).join("\n");""!==e&&t.push(e)}return this.removeValues.length&&t.push("REMOVE "+this.removeValues.map((function(t){return t.toString()})).join(", ")),this.foreachStatements.length&&t.push(this.foreachStatements.map((function(t){return t.toString()})).join("\n")),this.onCreateSetValues.length&&t.push("ON CREATE SET "+this.onCreateSetValues.map((function(t){return t.toString()})).join(", ")),this.onMatchSetValues.length&&t.push("ON MATCH SET "+this.onMatchSetValues.map((function(t){return t.toString()})).join(", ")),this.setValues.length&&t.push("SET "+this.setValues.map((function(t){return t.toString()})).join(", ")),this.deleteValues.length&&t.push("DELETE "+this.deleteValues.map((function(t){return t.toString()})).join(", ")),this.detachDeleteValues.length&&t.push("DETACH DELETE "+this.detachDeleteValues.map((function(t){return t.toString()})).join(", ")),this.returnValues.length&&t.push("RETURN "+this.returnValues.join(", ")),this.order.length&&t.push("ORDER BY "+this.order.map((function(t){return t.toString()})).join(", ")),void 0!==this.skipRows&&t.push("SKIP "+this.skipRows),void 0!==this.limitRows&&t.push("LIMIT "+this.limitRows),t.join("\n")},t}(),Jf=Object.defineProperty({default:Zf},"__esModule",{value:!0}),Xf=(Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(Rf),Qf=function(){function t(t,e,n){void 0===n&&(n=cf.Operator.EQUALS),this.key=t,this.param=e,this.operator=n}return t.prototype.getParam=function(){return this.param},t.prototype.convertParam=function(){return this.param instanceof Xf.default?this.param.toString():this.param?"$"+this.param:"null"},t.prototype.toInlineString=function(){return this.key+": "+this.convertParam()},t.prototype.toString=function(){return this.key+" "+this.operator+" "+this.convertParam()},t}(),td=Object.defineProperty({default:Qf},"__esModule",{value:!0}),ed=Ur&&Ur.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r},nd=Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},rd=nd(Jf),id=nd(td),od=nd(xf),sd=nd(Rf),ud=function(){function t(){this.params={},this.statements=[]}return t.prototype.setParam=function(t,e){return this.params[t]=e,this},t.prototype.match=function(t,e,n){return this.addStatement(cf.StatementPrefix.MATCH),this.currentStatement().match(t,e,this.aliasProperties(t,n)),this},t.prototype.call=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.addStatement(cf.StatementPrefix.CALL),(e=this.currentStatement()).call.apply(e,ed([t],n)),this},t.prototype.yield=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.currentStatement()).yield.apply(t,e),this},t.prototype.optionalMatch=function(t,e,n){return this.addStatement(cf.StatementPrefix.OPTIONAL_MATCH),this.currentStatement().match(t,e,this.aliasProperties(t,n)),this},t.prototype.create=function(t,e,n){return this.addStatement(cf.StatementPrefix.CREATE),this.currentStatement().match(t,e,this.aliasProperties(t,n)),this},t.prototype.merge=function(t,e,n){return this.addStatement(cf.StatementPrefix.MERGE),this.currentStatement().match(t,e,this.aliasProperties(t,n)),this},t.prototype.relationship=function(t,e,n,r,i){var o=this,s=Object.entries(r||{}).map((function(t){var e=t[0],n=t[1];return new id.default(e,o.aliasProperty(null,e,n).getParam())}));return this.currentStatement().relationship(t,e,n,s,i),this},t.prototype.to=function(t,e,n){var r=this,i=Object.entries(n||{}).map((function(t){var e=t[0],n=t[1];return new id.default(e,r.aliasProperty(null,e,n).getParam())}));return this.currentStatement().match(t,e,i),this},t.prototype.onCreateSet=function(t,e){return this.currentStatement().onCreateSet(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.onMatchSet=function(t,e){return this.currentStatement().onMatchSet(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.set=function(t,e){return this.currentStatement().set(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.currentStatement()).remove.apply(t,e),this},t.prototype.setAppend=function(t,e){return this.currentStatement().setAppend(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.where=function(t,e){var n=this;return t instanceof od.default?this.currentStatement().where(t):"object"==typeof t?Object.entries(t).map((function(t){var e=t[0],r=t[1];n.currentStatement().where(e,n.aliasProperty(null,e,r).getParam())})):this.currentStatement().where(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereNot=function(t,e){var n=this;return"object"==typeof t?Object.entries(t).map((function(t){var e=t[0],r=t[1];n.currentStatement().whereNot(e,n.aliasProperty(null,e,r).getParam())})):this.currentStatement().whereNot(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereId=function(t,e){return this.currentStatement().whereId(t,this.aliasProperty(t,"_id",sf.int(e)).getParam()),this},t.prototype.whereNotId=function(t,e){return this.currentStatement().whereNotId(t,this.aliasProperty(t,"_id",sf.int(e)).getParam()),this},t.prototype.whereRaw=function(t){return this.currentStatement().whereRaw(t),this},t.prototype.whereLike=function(t,e){return this.currentStatement().whereLike(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereNotLike=function(t,e){return this.currentStatement().whereNotLike(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereStartsWith=function(t,e){return this.currentStatement().whereStartsWith(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereNotStartsWith=function(t,e){return this.currentStatement().whereNotStartsWith(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereEndsWith=function(t,e){return this.currentStatement().whereEndsWith(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereNotEndsWith=function(t,e){return this.currentStatement().whereNotEndsWith(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereContains=function(t,e){return this.currentStatement().whereContains(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereNotContains=function(t,e){return this.currentStatement().whereNotContains(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereGreaterThan=function(t,e){return this.currentStatement().whereGreaterThan(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereGreaterThanOrEqual=function(t,e){return this.currentStatement().whereGreaterThanOrEqual(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereLessThan=function(t,e){return this.currentStatement().whereLessThan(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereLessThanOrEqual=function(t,e){return this.currentStatement().whereLessThanOrEqual(t,this.aliasProperty(null,t,e).getParam()),this},t.prototype.whereBetween=function(t,e,n){return this.currentStatement().whereBetween(t,this.aliasProperty(null,t,e).getParam(),this.aliasProperty(null,t,n).getParam()),this},t.prototype.delete=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.currentStatement()).delete.apply(t,e),this},t.prototype.detachDelete=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.currentStatement()).detachDelete.apply(t,e),this},t.prototype.orderBy=function(t,e){return void 0===e&&(e=cf.Order.ASC),this.currentStatement().orderBy(t,e),this},t.prototype.or=function(t,e){return this.addWhereStatement(cf.Condition.OR),this.where(t,e),this},t.prototype.skip=function(t){return this.currentStatement().skip(t),this},t.prototype.limit=function(t){return this.currentStatement().limit(t),this},t.prototype.return=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.currentStatement()).return.apply(t,e),this},t.prototype.with=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.addStatement(cf.StatementPrefix.WITH),this.currentStatement().with(t),this},t.prototype.foreach=function(t,e,n){var r=this.aliasProperty(null,t,e).getParam();return this.currentStatement().foreach(t,r,n),this},t.prototype.getParams=function(){return this.params},t.prototype.build=function(){return{cypher:this.toString(),params:this.params}},t.prototype.raw=function(t){return new sd.default(t)},t.prototype.toString=function(){return this.statements.map((function(t){return t.toString()})).join("\n")},t.prototype.aliasProperty=function(t,e,n){if(n instanceof sd.default)return new id.default(e,n);var r=[t,e].filter((function(t){return!!t})).join("_").replace(/[^a-z0-9_]+/i,"_");if(this.params.hasOwnProperty(r))for(var i=r,o=1;this.params.hasOwnProperty(r);)r=i+ ++o;return Number.isInteger(n)&&(n=sf.int(n)),this.params[r]=n,new id.default(e,r)},t.prototype.currentStatement=function(){return this.statements[this.statements.length-1]},t.prototype.aliasProperties=function(t,e){var n=this;return Object.entries(e||{}).map((function(e){var r=e[0],i=e[1];return n.aliasProperty(t,r,i)}))},t.prototype.addStatement=function(t){void 0===t&&(t=cf.StatementPrefix.MATCH),this.statements.push(new rd.default(t))},t.prototype.addWhereStatement=function(t){void 0===t&&(t=cf.Condition.WHERE),this.currentStatement().predicates.push(new od.default(t))},t}(),ad=Object.defineProperty({default:ud},"__esModule",{value:!0}),cd=function(){function t(t,e,n){this.aggregation=t,this.value=e,this.alias=n}return t.prototype.toString=function(){var t="";return this.alias&&(t=" AS "+escape(this.alias)),this.aggregation+"("+this.value+")"+t},t}(),ld=Object.defineProperty({default:cd},"__esModule",{value:!0}),hd=(Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(ld),fd=Object.defineProperty({avg:function(t,e){return new hd.default("avg",t,e)},collect:function(t,e){return new hd.default("collect",t,e)},count:function(t,e){return new hd.default("count",t,e)},max:function(t,e){return new hd.default("max",t,e)},min:function(t,e){return new hd.default("min",t,e)},percentileCont:function(t,e){return new hd.default("percentileCont",t,e)},percentileDisc:function(t,e){return new hd.default("percentileDisc",t,e)},stDev:function(t,e){return new hd.default("stDev",t,e)},stDevP:function(t,e){return new hd.default("stDevP",t,e)},sum:function(t,e){return new hd.default("sum",t,e)}},"__esModule",{value:!0}),dd=Hr((function(t,e){function n(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var r=Ur&&Ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(ad);e.WhereStatement=xf.default,n(cf),e.Raw=Rf.default,n(fd),e.default=i.default})),pd=Vr(dd);export{sf as $,a as A,kt as B,Bt as C,z as D,O as E,Tr as F,Wn as G,ue as H,ne as I,$r as J,L as K,f as L,Lr as M,s as N,gr as O,fn as P,wn as Q,Dr as R,Ft as S,sn as T,Ar as U,Pr as V,Nr as W,Gt as X,p as Y,Ln as Z,y as _,j as a,pd as a0,dd as a1,ft as a2,It as a3,cn as a4,an as a5,rr as a6,kr as a7,Or as a8,fr as a9,Nt as aa,sr as ab,Pt as ac,cr as ad,Jn as ae,In as af,Mr as ag,ut as ah,Dt as ai,dt as aj,T as ak,ve as al,me as am,jr as an,Rr as ao,M as b,U as c,I as d,N as e,C as f,V as g,H as h,Vt as i,Lt as j,R as k,D as l,Mt as m,F as n,$t as o,At as p,Rt as q,Ot as r,d as s,A as t,St as u,xt as v,jt as w,rt as x,et as y,tt as z};
